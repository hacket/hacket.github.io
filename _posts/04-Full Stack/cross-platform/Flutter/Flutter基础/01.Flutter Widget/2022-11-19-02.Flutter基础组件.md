---
date_created: Tuesday, November 19th 2022, 11:27:19 pm
date_updated: Saturday, February 1st 2025, 12:33:03 am
title: 02.FlutteråŸºç¡€ç»„ä»¶
author: hacket
categories:
  - è·¨å¹³å°
category: Flutter
tags: [Flutter]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
date created: Thursday, December 26th 2024, 12:22:00 am
date updated: Friday, January 17th 2025, 11:03:19 pm
image-auto-upload: true
feed: show
format: list
aliases: [Text æ–‡æœ¬]
linter-yaml-title-alias: Text æ–‡æœ¬
---

# Text æ–‡æœ¬

## Text å±æ€§

### åŸºæœ¬å±æ€§

- **textAlign** æ–‡æœ¬çš„å¯¹é½æ–¹å¼ï¼›å¯ä»¥é€‰æ‹©å·¦å¯¹é½ã€å³å¯¹é½è¿˜æ˜¯å±…ä¸­ã€‚æ³¨æ„ï¼Œå¯¹é½çš„å‚è€ƒç³»æ˜¯ Text widget æœ¬èº«ã€‚
  - center: æ–‡æœ¬ä»¥å±…ä¸­å½¢å¼å¯¹é½,è¿™ä¸ªä¹Ÿç®—æ¯”è¾ƒå¸¸ç”¨çš„äº†ã€‚
  - left: å·¦å¯¹é½ï¼Œç»å¸¸ä½¿ç”¨ï¼Œè®©æ–‡æœ¬å±…å·¦è¿›è¡Œå¯¹é½ï¼Œæ•ˆæœå’Œ start ä¸€æ ·ã€‚
  - right : å³å¯¹é½ï¼Œä½¿ç”¨é¢‘ç‡ä¹Ÿä¸ç®—é«˜ã€‚
  - start: ä»¥å¼€å§‹ä½ç½®è¿›è¡Œå¯¹é½ï¼Œç±»ä¼¼äºå·¦å¯¹é½ã€‚
  - end: ä»¥ä¸ºæœ¬ç»“å°¾å¤„è¿›è¡Œå¯¹é½ï¼Œä¸å¸¸ç”¨ã€‚æœ‰ç‚¹ç±»ä¼¼å³å¯¹é½.

> å¦‚æœ Text æ–‡æœ¬å†…å®¹å®½åº¦ä¸è¶³ä¸€è¡Œï¼ŒæŒ‡å®šäº†å±…ä¸­å¯¹é½ï¼ŒText çš„å®½åº¦å’Œæ–‡æœ¬å†…å®¹é•¿åº¦ç›¸ç­‰ï¼Œé‚£ä¹ˆè¿™æ—¶æŒ‡å®šå¯¹é½æ–¹å¼æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œåªæœ‰ Text å®½åº¦å¤§äºæ–‡æœ¬å†…å®¹é•¿åº¦æ—¶æŒ‡å®šæ­¤å±æ€§æ‰æœ‰æ„ä¹‰ã€‚

- **maxLines** æ–‡æœ¬æ˜¾ç¤ºçš„æœ€å¤§è¡Œæ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡æœ¬æ˜¯è‡ªåŠ¨æŠ˜è¡Œçš„ï¼Œå¦‚æœæŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™æ–‡æœ¬æœ€å¤šä¸ä¼šè¶…è¿‡æŒ‡å®šçš„è¡Œã€‚å¦‚æœæœ‰å¤šä½™çš„æ–‡æœ¬ï¼Œå¯ä»¥é€šè¿‡ overflow æ¥æŒ‡å®šæˆªæ–­æ–¹å¼ï¼Œé»˜è®¤æ˜¯ç›´æ¥æˆªæ–­
- **overflow** overflow å±æ€§æ˜¯ç”¨æ¥è®¾ç½®æ–‡æœ¬æº¢å‡ºæ—¶ï¼Œå¦‚ä½•å¤„ç†,å®ƒæœ‰ä¸‹é¢å‡ ä¸ªå¸¸ç”¨çš„å€¼ä¾›æˆ‘ä»¬é€‰æ‹©
  - clipï¼šé»˜è®¤ï¼Œç›´æ¥åˆ‡æ–­ï¼Œå‰©ä¸‹çš„æ–‡å­—å°±æ²¡æœ‰äº†ï¼Œæ„Ÿè§‰ä¸å¤ªå‹å¥½ï¼Œä½“éªŒæ€§ä¸å¥½ã€‚
  - ellipsis: åœ¨åè¾¹æ˜¾ç¤ºçœç•¥å·ï¼Œä½“éªŒæ€§è¾ƒå¥½ï¼Œè¿™ä¸ªåœ¨å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨ã€‚
  - fade: æº¢å‡ºçš„éƒ¨åˆ†ä¼šè¿›è¡Œä¸€ä¸ªæ¸å˜æ¶ˆå¤±çš„æ•ˆæœï¼Œå½“ç„¶æ˜¯ä¸Šçº¿çš„æ¸å˜ï¼Œä¸æ˜¯å·¦å³çš„å“¦ã€‚
- textScaleFactor ä»£è¡¨æ–‡æœ¬ç›¸å¯¹äºå½“å‰å­—ä½“å¤§å°çš„ç¼©æ”¾å› å­ï¼Œç›¸å¯¹äºå»è®¾ç½®æ–‡æœ¬çš„æ ·å¼ style å±æ€§çš„ fontSizeï¼Œå®ƒæ˜¯è°ƒæ•´å­—ä½“å¤§å°çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚è¯¥å±æ€§çš„é»˜è®¤å€¼å¯ä»¥é€šè¿‡ `MediaQueryData.textScaleFactor` è·å¾—ï¼Œå¦‚æœæ²¡æœ‰ MediaQueryï¼Œé‚£ä¹ˆä¼šé»˜è®¤å€¼å°†ä¸º 1.0ã€‚

æ¡ˆä¾‹ï¼š

```dart
class TextDemo extends StatelessWidget {
  const TextDemo({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
        useMaterial3: true,
      ),
      home: Scaffold(
        appBar: AppBar(
          title: const Text("Text Demo"),
        ),
        body: Container(
          decoration: BoxDecoration(
            color: Colors.grey,
            border: Border.all(
                color: Colors.black,
                width: 1.0,
              ),
            borderRadius: const BorderRadius.all(Radius.circular(4.0))),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.start,
            crossAxisAlignment: CrossAxisAlignment.start, // é»˜è®¤center
            children: [
              const Text(
                "Hello world",
                textAlign: TextAlign.left, // æ–‡æœ¬å±…å·¦ï¼Œæ–‡æœ¬å’ŒTextå®½åº¦ä¸€æ ·æ— æ•ˆ
              ),
              Text(
                "Hello world! I'm Jack. " * 4,
                maxLines: 1,
                overflow: TextOverflow.ellipsis, // è¶…å‡ºéƒ¨åˆ†ï¼Œçœç•¥å·
              ),
              const Text(
                "Hello world",
                textScaleFactor: 1.5,
              ),
              Text(
                "Hello world(align center) " * 1, //å­—ç¬¦ä¸²é‡å¤1æ¬¡
                textAlign: TextAlign.center, // æ–‡æœ¬å±…ä¸­ï¼Œæ–‡æœ¬å’ŒTextå®½åº¦ä¸€æ ·æ— æ•ˆ
              ),
              Text(
                "Hello world(align center) " * 6, //å­—ç¬¦ä¸²é‡å¤6æ¬¡
                textAlign: TextAlign.center, // æ¢è¡Œå±…ä¸­
              ),
              const Text("Hello world textScaleFactor:1.0",
                         textAlign: TextAlign.center, textScaleFactor: 1.0),
              const Text("Hello world textScaleFactor:2.0",
                         textAlign: TextAlign.center, textScaleFactor: 1.5)
            ],
          ),
        ),
      ),
    );
  }
}
```

æ•ˆæœï¼š<br>![xpdi7](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/xpdi7.png)

### TextStyle æ–‡æœ¬æ ·å¼

TextStyle ç”¨äºæŒ‡å®šæ–‡æœ¬æ˜¾ç¤ºçš„æ ·å¼å¦‚é¢œè‰²ã€å­—ä½“ã€ç²—ç»†ã€èƒŒæ™¯ç­‰ã€‚

- color æ–‡æœ¬é¢œè‰²
- decoration TextDecoration æ–‡æœ¬è£…é¥°ï¼Œå¦‚ä¸Šåˆ’çº¿ overlineï¼Œä¸‹åˆ’çº¿ underlineï¼Œä¸­åˆ’çº¿ lineThrough
- decorationColor
- decorationStyle
- fontFamily ç”±äºä¸åŒå¹³å°é»˜è®¤æ”¯æŒçš„å­—ä½“é›†ä¸åŒï¼Œæ‰€ä»¥åœ¨æ‰‹åŠ¨æŒ‡å®šå­—ä½“æ—¶ä¸€å®šè¦å…ˆåœ¨ä¸åŒå¹³å°æµ‹è¯•ä¸€ä¸‹ã€‚
- fontSize è¯¥å±æ€§å’Œ Text çš„ textScaleFactor éƒ½ç”¨äºæ§åˆ¶å­—ä½“å¤§å°ã€‚ä½†æ˜¯æœ‰ä¸¤ä¸ªä¸»è¦åŒºåˆ«ï¼š
  - fontSize å¯ä»¥ç²¾ç¡®æŒ‡å®šå­—ä½“å¤§å°ï¼Œè€Œ textScaleFactor åªèƒ½é€šè¿‡ç¼©æ”¾æ¯”ä¾‹æ¥æ§åˆ¶
  - textScaleFactor ä¸»è¦æ˜¯ç”¨äºç³»ç»Ÿå­—ä½“å¤§å°è®¾ç½®æ”¹å˜æ—¶å¯¹ Flutter åº”ç”¨å­—ä½“è¿›è¡Œå…¨å±€è°ƒæ•´ï¼Œè€Œ fontSize é€šå¸¸ç”¨äºå•ä¸ªæ–‡æœ¬ï¼Œå­—ä½“å¤§å°ä¸ä¼šè·Ÿéšç³»ç»Ÿå­—ä½“å¤§å°å˜åŒ–
- fontStyle
- fontWeight
- hashCode
- height è¯¥å±æ€§ç”¨äºæŒ‡å®šè¡Œé«˜ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªç»å¯¹å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªå› å­ï¼Œå…·ä½“çš„è¡Œé«˜ç­‰äº fontSize*heightã€‚
- inherit
- letterSpacing
- textRaseline
- wordSpacing

æ¡ˆä¾‹ï¼š

```dart
import 'package:flutter/material.dart';

//void main() {
//  runApp(MyApp());
//}
void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'è¿™æ˜¯title',
      home: Scaffold(
        appBar: AppBar(
          title: Text("è¿™æ˜¯AppBarçš„title"),
        ),
        body: Center(
          child: Text(
            "Hello World Fulttemrï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œå‘µå‘µå‘µï¼Œæˆ‘éå¸¸å–œæ¬¢Flutterï¼Œå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µå‘µï¼Œæ˜¯å•Šå•Šå•Šã€‚ã€‚!",
            textAlign: TextAlign.left, // æ–‡å­—å¯¹é½æ–¹å¼
            maxLines: 1, // æ–‡å­—æœ€å¤§è¡Œæ•°
            overflow: TextOverflow.ellipsis, // è¶…è¿‡æœ€å¤§è¡Œæ•°æ˜¾ç¤ºæ–¹å¼
            style: TextStyle( // æ–‡å­—æ ·å¼
              fontSize: 24.0,
              color: Color.fromARGB(255, 255, 0, 0),
              decoration: TextDecoration.overline,
              decorationStyle: TextDecorationStyle.dashed,
            ),
          ),
        ),
      ),
    );
  }
}

```

![qg97z](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/qg97z.png)

#### DefaultTextStyle

åœ¨ Widget æ ‘ä¸­ï¼Œæ–‡æœ¬çš„æ ·å¼é»˜è®¤æ˜¯å¯ä»¥è¢«ç»§æ‰¿çš„ï¼ˆå­ç±»æ–‡æœ¬ç±»ç»„ä»¶æœªæŒ‡å®šå…·ä½“æ ·å¼æ—¶å¯ä»¥ä½¿ç”¨ Widget æ ‘ä¸­çˆ¶çº§è®¾ç½®çš„é»˜è®¤æ ·å¼ï¼‰ï¼Œå› æ­¤ï¼Œå¦‚æœåœ¨ Widget æ ‘çš„æŸä¸€ä¸ªèŠ‚ç‚¹å¤„è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„æ–‡æœ¬æ ·å¼ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„å­æ ‘ä¸­æ‰€æœ‰æ–‡æœ¬éƒ½ä¼šé»˜è®¤ä½¿ç”¨è¿™ä¸ªæ ·å¼ï¼Œè€Œ DefaultTextStyle æ­£æ˜¯ç”¨äºè®¾ç½®é»˜è®¤æ–‡æœ¬æ ·å¼çš„ã€‚<br>æ¡ˆä¾‹ï¼š

```dart
DefaultTextStyle(
  //1.è®¾ç½®æ–‡æœ¬é»˜è®¤æ ·å¼  
  style: TextStyle(
    color:Colors.red,
    fontSize: 20.0,
  ),
  textAlign: TextAlign.start,
  child: Column(
    crossAxisAlignment: CrossAxisAlignment.start,
    children: <Widget>[
      Text("hello world"),
      Text("I am Jack"),
      Text("I am Jack",
        style: TextStyle(
          inherit: false, //2.ä¸ç»§æ‰¿é»˜è®¤æ ·å¼
          color: Colors.grey
        ),
      ),
    ],
  ),
);
```

æ•ˆæœï¼š<br>![b050p](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/b050p.png)

### TextSpan

ç±»ä¼¼äº TextView çš„ Spanã€‚TextSpan å®šä¹‰ï¼š

```dart
const TextSpan({
  TextStyle style, 
  String text,
  List<TextSpan> children,
  GestureRecognizer recognizer,
});
```

- style å’Œ text å±æ€§ä»£è¡¨è¯¥æ–‡æœ¬ç‰‡æ®µçš„æ ·å¼å’Œå†…å®¹
- children æ˜¯ä¸€ä¸ª TextSpan çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´ TextSpan å¯ä»¥åŒ…æ‹¬å…¶ä»– TextSpan
- recognizer ç”¨äºå¯¹è¯¥æ–‡æœ¬ç‰‡æ®µä¸Šç”¨äºæ‰‹åŠ¿è¿›è¡Œè¯†åˆ«å¤„ç†

æ¡ˆä¾‹ï¼š

```dart
Text.rich(TextSpan(
    children: [
     TextSpan(
       text: "Home: "
     ),
     TextSpan(
       text: "https://flutterchina.club",
       style: TextStyle(
         color: Colors.blue
       ),  
       recognizer: _tapRecognizer
     ),
    ]
))
```

![o11zq](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/o11zq.png)

### å­—ä½“

åœ¨ Flutter åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ä¸åŒçš„å­—ä½“ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨è®¾è®¡äººå‘˜åˆ›å»ºçš„è‡ªå®šä¹‰å­—ä½“ï¼Œæˆ–è€…å…¶ä»–ç¬¬ä¸‰æ–¹çš„å­—ä½“ï¼Œå¦‚ [Google Fonts](https://fonts.google.com/) ä¸­çš„å­—ä½“ã€‚

#### ä½¿ç”¨ package åŒ…ä¸­çš„å­—ä½“

è¦ä½¿ç”¨ Package ä¸­å®šä¹‰çš„å­—ä½“ï¼Œå¿…é¡»æä¾› `package` å‚æ•°ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä¸Šé¢çš„å­—ä½“å£°æ˜ä½äº my_package åŒ…ä¸­ã€‚

```dart
const textStyle = const TextStyle(
  fontFamily: 'Raleway',
  package: 'my_package', // æŒ‡å®šåŒ…å
);
```

å¦‚æœåœ¨ package åŒ…å†…éƒ¨ä½¿ç”¨å®ƒè‡ªå·±å®šä¹‰çš„å­—ä½“ï¼Œä¹Ÿåº”è¯¥åœ¨åˆ›å»ºæ–‡æœ¬æ ·å¼æ—¶æŒ‡å®š package å‚æ•°ã€‚

ä¸€ä¸ªåŒ…ä¹Ÿå¯ä»¥åªæä¾›å­—ä½“æ–‡ä»¶è€Œä¸éœ€è¦åœ¨ pubspec.yaml ä¸­å£°æ˜ã€‚ è¿™äº›æ–‡ä»¶åº”è¯¥å­˜æ”¾åœ¨åŒ…çš„ lib/æ–‡ä»¶å¤¹ä¸­ã€‚å­—ä½“æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨ç»‘å®šåˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨å£°æ˜å­—ä½“æ—¶æœ‰é€‰æ‹©åœ°ä½¿ç”¨è¿™äº›å­—ä½“ã€‚å‡è®¾ä¸€ä¸ªåä¸º my_package çš„åŒ…ä¸­æœ‰ä¸€ä¸ªå­—ä½“æ–‡ä»¶ï¼š

```dart
lib/fonts/Raleway-Medium.ttf
```

ç„¶åï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å£°æ˜ä¸€ä¸ªå­—ä½“ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤º:

```yaml
 flutter:
   fonts:
     - family: Raleway
       fonts:
         - asset: assets/fonts/Raleway-Regular.ttf
         - asset: packages/my_package/fonts/Raleway-Medium.ttf
           weight: 500
```

lib/æ˜¯éšå«çš„ï¼Œæ‰€ä»¥å®ƒä¸åº”è¯¥åŒ…å«åœ¨ asset è·¯å¾„ä¸­ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºåº”ç”¨ç¨‹åºæœ¬åœ°å®šä¹‰äº†å­—ä½“ï¼Œæ‰€ä»¥åœ¨åˆ›å»º TextStyle æ—¶å¯ä»¥ä¸æŒ‡å®š package å‚æ•°ï¼š

```dart
const textStyle = const TextStyle(
  fontFamily: 'Raleway',
);
```

#### [è‡ªå®šä¹‰å­—ä½“](https://docs.flutter.dev/ui/design/text/typography)

1. ä¸‹è½½å­—ä½“ [TiltPrism-Regular.ttf](https://fonts.google.com/specimen/Tilt+Prism)
2. å°†å­—ä½“æ”¾åˆ°åŒ lib åŒçº§ç›®å½•çš„ asstes/fonts ä¸‹

![z3ti8](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/z3ti8.png)

3. pubspec.yaml ä¸­å£°æ˜

```yaml
flutter:
  fonts: # å’ŒassetsåŒçº§
  	- family: TiltPrism-Regular
  		fonts:
  			- asset: assets/fonts/TiltPrism-Regular.ttf
```

4. ä»£ç å¼•å…¥

```dart
// å£°æ˜æ–‡æœ¬æ ·å¼
static const tiltPrismFamily = TextStyle(
  fontFamily: 'TiltPrism-Regular',
);
const Text(
    "Use the font for this text",
    style: tiltPrismFamily,
  )
```

5. æ•ˆæœ

![4l194](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/4l194.png)

# æŒ‰é’®

Material ç»„ä»¶åº“ä¸­æä¾›äº†å¤šç§æŒ‰é’®ç»„ä»¶å¦‚ `ElevatedButton`ã€`TextButton`ã€`OutlinedButton` ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯ç›´æ¥æˆ–é—´æ¥å¯¹ `RawMaterialButton` ç»„ä»¶çš„åŒ…è£…å®šåˆ¶ï¼Œä»–ä»¬å¤§å¤šæ•°å±æ€§éƒ½å’Œ RawMaterialButton ä¸€æ ·ã€‚<br>ç›¸åŒç‚¹ï¼š

1. æŒ‰ä¸‹æ—¶éƒ½ä¼šæœ‰ " æ°´æ³¢åŠ¨ç”» "ï¼ˆåˆç§° " æ¶Ÿæ¼ªåŠ¨ç”» "ï¼Œå°±æ˜¯ç‚¹å‡»æ—¶æŒ‰é’®ä¸Šä¼šå‡ºç°æ°´æ³¢æ‰©æ•£çš„åŠ¨ç”»ï¼‰ã€‚
2. æœ‰ä¸€ä¸ª onPressed å±æ€§æ¥è®¾ç½®ç‚¹å‡»å›è°ƒï¼Œå½“æŒ‰é’®æŒ‰ä¸‹æ—¶ä¼šæ‰§è¡Œè¯¥å›è°ƒï¼Œå¦‚æœä¸æä¾›è¯¥å›è°ƒåˆ™æŒ‰é’®ä¼šå¤„äºç¦ç”¨çŠ¶æ€ï¼Œç¦ç”¨çŠ¶æ€ä¸å“åº”ç”¨æˆ·ç‚¹å‡»ã€‚

## ElevatedButton

ElevatedButton å³ " æ¼‚æµ® " æŒ‰é’®ï¼Œå®ƒé»˜è®¤å¸¦æœ‰é˜´å½±å’Œç°è‰²èƒŒæ™¯ã€‚æŒ‰ä¸‹åï¼Œé˜´å½±ä¼šå˜å¤§ã€‚

```dart
ElevatedButton(
  child: Text("ElevatedButton"),
  onPressed: () {},
);
```

![euhic](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/euhic.png)

## TextButton

TextButton å³æ–‡æœ¬æŒ‰é’®ï¼Œé»˜è®¤èƒŒæ™¯é€æ˜å¹¶ä¸å¸¦é˜´å½±ã€‚æŒ‰ä¸‹åï¼Œä¼šæœ‰èƒŒæ™¯è‰²

```dart
TextButton(
  child: const Text("TextButton"),
  onPressed: () {},
)
```

![go6si](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/go6si.png)

## OutlinedButton

OutlinedButton é»˜è®¤æœ‰ä¸€ä¸ªè¾¹æ¡†ï¼Œä¸å¸¦é˜´å½±ä¸”èƒŒæ™¯é€æ˜ã€‚æŒ‰ä¸‹åï¼Œè¾¹æ¡†é¢œè‰²ä¼šå˜äº®ã€åŒæ—¶å‡ºç°èƒŒæ™¯å’Œé˜´å½± (è¾ƒå¼±)

```dart
OutlinedButton(
    child: const Text("OutlinedButton"),
    onPressed: () {},
  )
```

![yy1yl](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/yy1yl.png)

## IconButton

IconButton æ˜¯ä¸€ä¸ªå¯ç‚¹å‡»çš„ Iconï¼Œä¸åŒ…æ‹¬æ–‡å­—ï¼Œé»˜è®¤æ²¡æœ‰èƒŒæ™¯ï¼Œç‚¹å‡»åä¼šå‡ºç°èƒŒæ™¯

```dart
IconButton(
    icon: const Icon(Icons.thumb_up),
    onPressed: () {},
  )
```

![un1va](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/un1va.png)

## å¸¦å›¾æ ‡çš„æŒ‰é’®

ElevatedButtonã€TextButtonã€OutlinedButton éƒ½æœ‰ä¸€ä¸ª icon æ„é€ å‡½æ•°ï¼Œé€šè¿‡å®ƒå¯ä»¥è½»æ¾åˆ›å»ºå¸¦å›¾æ ‡çš„æŒ‰é’®

```dart
ElevatedButton.icon(
    icon: const Icon(Icons.send),
    label: const Text("å‘é€"),
    onPressed: null,
  ),
  OutlinedButton.icon(
    icon: const Icon(Icons.add),
    label: const Text("æ·»åŠ "),
    onPressed: null,
  ),
  TextButton.icon(
    icon: const Icon(Icons.info),
    label: const Text("è¯¦æƒ…"),
    onPressed: null,
  )
```

![f9w5m](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/f9w5m.png)

## RaisedButton

- childï¼šå¯ä»¥æ”¾å…¥å®¹å™¨ï¼Œå›¾æ ‡ï¼Œæ–‡å­—ã€‚è®©ä½ æ„å»ºå¤šå½©çš„æŒ‰é’®ã€‚
- onPressedï¼šç‚¹å‡»äº‹ä»¶çš„ç›¸åº”ï¼Œä¸€èˆ¬ä¼šè°ƒç”¨ Navigator ç»„ä»¶ã€‚

# TextField è¾“å…¥æ¡†å’Œè¡¨å•

Material ç»„ä»¶åº“ä¸­æä¾›äº†è¾“å…¥æ¡†ç»„ä»¶ `TextField` å’Œè¡¨å•ç»„ä»¶ `Form`ã€‚

## TextField è¾“å…¥æ¡†

### TextField å±æ€§

TextField å®šä¹‰ï¼š

```dart
const TextField({
    // ...
    TextEditingController controller, 
    FocusNode focusNode,
    InputDecoration decoration = const InputDecoration(),
    TextInputType keyboardType,
    TextInputAction textInputAction,
    TextStyle style,
    TextAlign textAlign = TextAlign.start,
    bool autofocus = false,
    bool obscureText = false,
    int maxLines = 1,
    int maxLength,
    this.maxLengthEnforcement,
    ToolbarOptions? toolbarOptions,
    ValueChanged<String> onChanged,
    VoidCallback onEditingComplete,
    ValueChanged<String> onSubmitted,
    List<TextInputFormatter> inputFormatters,
    bool enabled,
    this.cursorWidth = 2.0,
    this.cursorRadius,
    this.cursorColor,
    this.onTap,
    // ...
})
```

- **controller**ï¼šç¼–è¾‘æ¡†çš„æ§åˆ¶å™¨ TextEditingControllerï¼Œé€šè¿‡å®ƒå¯ä»¥è®¾ç½®/è·å–/æ¸…ç©ºç¼–è¾‘æ¡†çš„å†…å®¹ã€é€‰æ‹©ç¼–è¾‘å†…å®¹ã€ç›‘å¬ç¼–è¾‘æ–‡æœ¬æ”¹å˜äº‹ä»¶ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½éœ€è¦æ˜¾å¼æä¾›ä¸€ä¸ª controller æ¥ä¸æ–‡æœ¬æ¡†äº¤äº’ã€‚å¦‚æœæ²¡æœ‰æä¾› controllerï¼Œåˆ™ TextField å†…éƒ¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªã€‚
- **focusNode**ï¼šç”¨äºæ§åˆ¶ TextField æ˜¯å¦å æœ‰å½“å‰é”®ç›˜çš„è¾“å…¥ç„¦ç‚¹ã€‚å®ƒæ˜¯æˆ‘ä»¬å’Œé”®ç›˜äº¤äº’çš„ä¸€ä¸ªå¥æŸ„ handleï¼›ç”¨æ¥å®ç°ç±»ä¼¼ä¸Šä¸€ä¸ªä¸‹ä¸€ä¸ªçš„è¾“å…¥æ§åˆ¶ã€‚
- **decoration** InputDecoration ç”¨äºæ§åˆ¶ TextField çš„å¤–è§‚æ˜¾ç¤ºï¼Œå¦‚æç¤ºæ–‡æœ¬ã€èƒŒæ™¯é¢œè‰²ã€è¾¹æ¡†ç­‰ã€‚
  - labelText
  - hintText è®¾ç½®è¾“å…¥æ¡†çš„æç¤ºæ–‡å­—
  - hintColor æç¤ºæ–‡æœ¬é¢œè‰²
  - errorText å¦‚ä½•æ˜¾ç¤ºéªŒè¯é”™è¯¯ä¿¡æ¯
  - icon å‰é¢çš„å›¾æ ‡
  - border è¾¹æ¡†
  - prefixIcon è¾“å…¥æ¡†å‰é¢çš„å›¾æ ‡
  - suffixIcon è¾“å…¥æ¡†åé¢çš„å›¾æ ‡ï¼Œå¦‚æ¸…é™¤
  - enabledBorder è¾“å…¥æ¡†åœ¨æœªè·å–ç„¦ç‚¹çš„ border
  - focusedBorder è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹åçš„ border
- **keyboardType**ï¼šç”¨äºè®¾ç½®è¯¥è¾“å…¥æ¡†é»˜è®¤çš„é”®ç›˜è¾“å…¥ç±»å‹ï¼ˆæ•°å­—ã€å­—æ¯ã€ç”µè¯å·ç ã€é‚®ç®±ã€æ—¥æœŸç­‰å¤šç§æ–¹å¼ï¼‰ï¼Œå–å€¼å¦‚ä¸‹ï¼š

| **TextInputType æšä¸¾å€¼** | **å«ä¹‰**                          |
| -------------------- | ------------------------------- |
| text                 | æ–‡æœ¬è¾“å…¥é”®ç›˜                          |
| multiline            | å¤šè¡Œæ–‡æœ¬ï¼Œéœ€å’Œ maxLines é…åˆä½¿ç”¨ (è®¾ä¸º null æˆ–å¤§äº 1) |
| number               | æ•°å­—ï¼›ä¼šå¼¹å‡ºæ•°å­—é”®ç›˜                      |
| phone                | ä¼˜åŒ–åçš„ç”µè¯å·ç è¾“å…¥é”®ç›˜ï¼›ä¼šå¼¹å‡ºæ•°å­—é”®ç›˜å¹¶æ˜¾ç¤º "* #"    |
| datetime             | ä¼˜åŒ–åçš„æ—¥æœŸè¾“å…¥é”®ç›˜ï¼›Android ä¸Šä¼šæ˜¾ç¤º ": -"     |
| emailAddress         | ä¼˜åŒ–åçš„ç”µå­é‚®ä»¶åœ°å€ï¼›ä¼šæ˜¾ç¤º "@ ."             |
| url                  | ä¼˜åŒ–åçš„ url è¾“å…¥é”®ç›˜ï¼› ä¼šæ˜¾ç¤º "/ ."           |

- **textInputAction**ï¼šé”®ç›˜åŠ¨ä½œæŒ‰é’®å›¾æ ‡ (å³å›è½¦é”®ä½å›¾æ ‡)ï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œæœ‰å¤šä¸ªå¯é€‰å€¼ï¼Œå…¨éƒ¨çš„å–å€¼åˆ—è¡¨è¯»è€…å¯ä»¥æŸ¥çœ‹ API æ–‡æ¡£ï¼Œä¸‹é¢æ˜¯å½“å€¼ä¸º TextInputAction.search æ—¶ï¼ŒåŸç”Ÿ Android ç³»ç»Ÿä¸‹é”®ç›˜æ ·å¼ï¼š

![9lrsq](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/9lrsq.png)

- **style**ï¼šæ­£åœ¨ç¼–è¾‘çš„æ–‡æœ¬æ ·å¼ã€‚
- **textAlign**: è¾“å…¥æ¡†å†…ç¼–è¾‘æ–‡æœ¬åœ¨æ°´å¹³æ–¹å‘çš„å¯¹é½æ–¹å¼ã€‚
- **autofocus**: æ˜¯å¦è‡ªåŠ¨è·å–ç„¦ç‚¹ã€‚
- **obscureText**ï¼šæ˜¯å¦éšè—æ­£åœ¨ç¼–è¾‘çš„æ–‡æœ¬ï¼Œå¦‚ç”¨äºè¾“å…¥å¯†ç çš„åœºæ™¯ç­‰ï¼Œæ–‡æœ¬å†…å®¹ä¼šç”¨ "â€¢" æ›¿æ¢ã€‚
- **maxLines**ï¼šè¾“å…¥æ¡†çš„æœ€å¤§è¡Œæ•°ï¼Œé»˜è®¤ä¸º 1ï¼›å¦‚æœä¸º nullï¼Œåˆ™æ— è¡Œæ•°é™åˆ¶ã€‚
- **maxLength**å’Œ**maxLengthEnforcement** ï¼šmaxLength ä»£è¡¨è¾“å…¥æ¡†æ–‡æœ¬çš„æœ€å¤§é•¿åº¦ï¼Œè®¾ç½®åè¾“å…¥æ¡†å³ä¸‹è§’ä¼šæ˜¾ç¤ºè¾“å…¥çš„æ–‡æœ¬è®¡æ•°ã€‚maxLengthEnforcement å†³å®šå½“è¾“å…¥æ–‡æœ¬é•¿åº¦è¶…è¿‡ maxLength æ—¶å¦‚ä½•å¤„ç†ï¼Œå¦‚æˆªæ–­ã€è¶…å‡ºç­‰ã€‚
- **toolbarOptions**ï¼šé•¿æŒ‰æˆ–é¼ æ ‡å³å‡»æ—¶å‡ºç°çš„èœå•ï¼ŒåŒ…æ‹¬ copyã€cutã€paste ä»¥åŠ selectAllã€‚
- **onChange**ï¼šè¾“å…¥æ¡†å†…å®¹æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼›æ³¨ï¼šå†…å®¹æ”¹å˜äº‹ä»¶ä¹Ÿå¯ä»¥é€šè¿‡ controller æ¥ç›‘å¬ã€‚
- **onEditingComplete**å’Œ**onSubmitted**ï¼šè¿™ä¸¤ä¸ªå›è°ƒéƒ½æ˜¯åœ¨è¾“å…¥æ¡†è¾“å…¥å®Œæˆæ—¶è§¦å‘ï¼Œæ¯”å¦‚æŒ‰äº†é”®ç›˜çš„å®Œæˆé”®ï¼ˆå¯¹å·å›¾æ ‡ï¼‰æˆ–æœç´¢é”®ï¼ˆğŸ”å›¾æ ‡ï¼‰ã€‚ä¸åŒçš„æ˜¯ä¸¤ä¸ªå›è°ƒç­¾åä¸åŒï¼ŒonSubmitted å›è°ƒæ˜¯ `ValueChanged<String>` ç±»å‹ï¼Œå®ƒæ¥æ”¶å½“å‰è¾“å…¥å†…å®¹åšä¸ºå‚æ•°ï¼Œè€Œ onEditingComplete ä¸æ¥æ”¶å‚æ•°
- **inputFormatters**ï¼šç”¨äºæŒ‡å®šè¾“å…¥æ ¼å¼ï¼›å½“ç”¨æˆ·è¾“å…¥å†…å®¹æ”¹å˜æ—¶ï¼Œä¼šæ ¹æ®æŒ‡å®šçš„æ ¼å¼æ¥æ ¡éªŒã€‚
- **enable**ï¼šå¦‚æœä¸º falseï¼Œåˆ™è¾“å…¥æ¡†ä¼šè¢«ç¦ç”¨ï¼Œç¦ç”¨çŠ¶æ€ä¸èƒ½å“åº”è¾“å…¥å’Œäº‹ä»¶ï¼ŒåŒæ—¶æ˜¾ç¤ºç¦ç”¨æ€æ ·å¼ï¼ˆåœ¨å…¶ decoration ä¸­å®šä¹‰ï¼‰ã€‚
- **cursorWidth**ã€**cursorRadius**å’Œ**cursorColor**ï¼šè¿™ä¸‰ä¸ªå±æ€§æ˜¯ç”¨äºè‡ªå®šä¹‰è¾“å…¥æ¡†å…‰æ ‡å®½åº¦ã€åœ†è§’å’Œé¢œè‰²çš„ã€‚

### ç¤ºä¾‹

#### ç™»å½•è¾“å…¥æ¡†

```dart
Column(
  children: <Widget>[
    TextField(
      autofocus: true,
      decoration: InputDecoration(
        labelText: "ç”¨æˆ·å",
        hintText: "ç”¨æˆ·åæˆ–é‚®ç®±",
        prefixIcon: Icon(Icons.person)
      ),
    ),
    TextField(
      decoration: InputDecoration(
        labelText: "å¯†ç ",
        hintText: "æ‚¨çš„ç™»å½•å¯†ç ",
        prefixIcon: Icon(Icons.lock)
      ),
      obscureText: true,
    ),
  ],
);
```

![d37gl](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/d37gl.png)

#### è·å–è¾“å…¥å†…å®¹

```dart
 Column demoWidget() {
    TextEditingController unameController = TextEditingController();
    return Column(
        mainAxisAlignment: MainAxisAlignment.start,
        crossAxisAlignment: CrossAxisAlignment.start, // é»˜è®¤center
        children: [
          TextButton(onPressed: () => {
            // è·å¾—è¾“å…¥æ¡†å†…å®¹
            print(unameController.text)
          }, child: const Text('è·å–æ–‡æœ¬')),
          TextField(
            autofocus: true,
            controller: unameController,
            decoration: const InputDecoration(
                labelText: "ç”¨æˆ·å",
                hintText: "ç”¨æˆ·åæˆ–é‚®ç®±",
                prefixIcon: Icon(Icons.person)),
          ),
          TextField(
            controller: unameController,
            decoration: const InputDecoration(
                labelText: "å¯†ç ",
                hintText: "æ‚¨çš„ç™»å½•å¯†ç ",
                prefixIcon: Icon(Icons.lock)),
            obscureText: true,
          ),
      ]);
}
```

ç”¨æˆ·åå’Œå¯†ç ç”¨çš„åŒä¸€ä¸ª TextEditingControllerï¼Œå…¶ä¸­ä¸€ä¸ªè¾“å…¥çš„æ–‡æœ¬å˜åŒ–åï¼Œå¦å¤–ä¸€ä¸ªæ–‡æœ¬æ¡†ä¼šè·Ÿç€å˜åŒ–

#### ç›‘å¬æ–‡æœ¬å˜åŒ–

1. è®¾ç½® onChange å›è°ƒ

```dart
TextField(
    autofocus: true,
    onChanged: (v) {
      print("onChange: $v");
    }
)
```

2. é€šè¿‡ controller ç›‘å¬

```dart
@override
void initState() {
  //ç›‘å¬è¾“å…¥æ”¹å˜  
  _unameController.addListener((){
    print(_unameController.text);
  });
}
```

ä¸¤ç§æ–¹å¼ç›¸æ¯”ï¼ŒonChanged æ˜¯ä¸“é—¨ç”¨äºç›‘å¬æ–‡æœ¬å˜åŒ–ï¼Œè€Œ controller çš„åŠŸèƒ½å´å¤šä¸€äº›ï¼Œé™¤äº†èƒ½ç›‘å¬æ–‡æœ¬å˜åŒ–å¤–ï¼Œå®ƒè¿˜å¯ä»¥è®¾ç½®é»˜è®¤å€¼ã€é€‰æ‹©æ–‡æœ¬ã€‚<br>è®¾ç½®é»˜è®¤å€¼ï¼Œå¹¶ä»ç¬¬ä¸‰ä¸ªå­—ç¬¦å¼€å§‹é€‰ä¸­åé¢çš„å­—ç¬¦

```dart
_selectionController.text="hello world!";
_selectionController.selection=TextSelection(
    baseOffset: 2,
    extentOffset: _selectionController.text.length
);
```

![radq3](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/radq3.png)

#### æ§åˆ¶ç„¦ç‚¹

ç„¦ç‚¹å¯ä»¥é€šè¿‡ `FocusNode` å’Œ `FocusScopeNode` æ¥æ§åˆ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç„¦ç‚¹ç”± FocusScope æ¥ç®¡ç†ï¼Œå®ƒä»£è¡¨ç„¦ç‚¹æ§åˆ¶èŒƒå›´ï¼Œå¯ä»¥åœ¨è¿™ä¸ªèŒƒå›´å†…é€šè¿‡ FocusScopeNode åœ¨è¾“å…¥æ¡†ä¹‹é—´ç§»åŠ¨ç„¦ç‚¹ã€è®¾ç½®é»˜è®¤ç„¦ç‚¹ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ FocusScope.of(context) æ¥è·å– Widget æ ‘ä¸­é»˜è®¤çš„ FocusScopeNodeã€‚<br>æ•ˆæœï¼š

- ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®å¯ä»¥å°†ç„¦ç‚¹ä»ç¬¬ä¸€ä¸ª TextField æŒªåˆ°ç¬¬äºŒä¸ª TextFieldã€‚
- ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®å¯ä»¥å…³é—­é”®ç›˜ã€‚

```dart
class FocusTestRoute extends StatefulWidget {
  const FocusTestRoute({super.key});

  @override
  _FocusTestRouteState createState() => _FocusTestRouteState();
}

class _FocusTestRouteState extends State<FocusTestRoute> {
  FocusNode focusNode1 = FocusNode();
  FocusNode focusNode2 = FocusNode();
  FocusScopeNode? focusScopeNode;

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.all(16.0),
      child: Column(
        children: <Widget>[
          TextField(
            autofocus: true,
            focusNode: focusNode1, //å…³è”focusNode1
            decoration: const InputDecoration(labelText: "input1",hintText: "hint1"),
          ),
          TextField(
            focusNode: focusNode2, //å…³è”focusNode2
            decoration: const InputDecoration(labelText: "input2"),
          ),
          Builder(
            builder: (ctx) {
              return Column(
                children: <Widget>[
                  ElevatedButton(
                    child: const Text("ç§»åŠ¨ç„¦ç‚¹"),
                    onPressed: () {
                      // å°†ç„¦ç‚¹ä»ç¬¬ä¸€ä¸ªTextFieldç§»åˆ°ç¬¬äºŒä¸ªTextField
                      // è¿™æ˜¯ä¸€ç§å†™æ³• FocusScope.of(context).requestFocus(focusNode2);
                      // è¿™æ˜¯ç¬¬äºŒç§å†™æ³•
                      focusScopeNode ??= FocusScope.of(context);
                      focusScopeNode?.requestFocus(focusNode2);
                    },
                  ),
                  ElevatedButton(
                    child: const Text("éšè—é”®ç›˜"),
                    onPressed: () {
                      // å½“æ‰€æœ‰ç¼–è¾‘æ¡†éƒ½å¤±å»ç„¦ç‚¹æ—¶é”®ç›˜å°±ä¼šæ”¶èµ·
                      focusNode1.unfocus();
                      focusNode2.unfocus();
                    },
                  ),
                ],
              );
            },
          ),
        ],
      ),
    );
  }
}
```

![5yfgb](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/5yfgb.png)

#### ç›‘å¬ç„¦ç‚¹çŠ¶æ€æ”¹å˜äº‹ä»¶

FocusNode ç»§æ‰¿è‡ª ChangeNotifierï¼Œé€šè¿‡ FocusNode å¯ä»¥ç›‘å¬ç„¦ç‚¹çš„æ”¹å˜äº‹ä»¶ï¼š

```dart
// ...
// åˆ›å»º focusNode   
FocusNode focusNode = FocusNode();
// ...
// focusNodeç»‘å®šè¾“å…¥æ¡†   
TextField(focusNode: focusNode);
// ...
// ç›‘å¬ç„¦ç‚¹å˜åŒ–    
focusNode.addListener((){
   print(focusNode.hasFocus);
});
```

è·å¾—ç„¦ç‚¹æ—¶ focusNode.hasFocus å€¼ä¸º trueï¼Œå¤±å»ç„¦ç‚¹æ—¶ä¸º falseã€‚

#### è‡ªå®šä¹‰æ ·å¼

```dart
Theme(
    data: Theme.of(context).copyWith(
        hintColor: Colors.grey[200], //å®šä¹‰ä¸‹åˆ’çº¿é¢œè‰²
        inputDecorationTheme: InputDecorationTheme(
            labelStyle: TextStyle(color: Colors.grey),//å®šä¹‰labelå­—ä½“æ ·å¼
            hintStyle: TextStyle(color: Colors.grey, fontSize: 14.0)//å®šä¹‰æç¤ºæ–‡æœ¬æ ·å¼
        )
    ),
    child: Column(
      children: <Widget>[
        TextField(
          decoration: InputDecoration(
              labelText: "ç”¨æˆ·å",
              hintText: "ç”¨æˆ·åæˆ–é‚®ç®±",
              prefixIcon: Icon(Icons.person)
          ),
        ),
        TextField(
          decoration: InputDecoration(
              prefixIcon: Icon(Icons.lock),
              labelText: "å¯†ç ",
              hintText: "æ‚¨çš„ç™»å½•å¯†ç ",
              hintStyle: TextStyle(color: Colors.grey, fontSize: 13.0)
          ),
          obscureText: true,
        )
      ],
    )
)
```

æ•ˆæœï¼š<br>![wqsla](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/wqsla.png)

- ç”±äº TextField åœ¨ç»˜åˆ¶ä¸‹åˆ’çº¿æ—¶ä½¿ç”¨çš„é¢œè‰²æ˜¯ä¸»é¢˜è‰²é‡Œé¢çš„ hintColorï¼Œä½†æç¤ºæ–‡æœ¬é¢œè‰²ä¹Ÿæ˜¯ç”¨çš„ hintColorï¼Œ å¦‚æœæˆ‘ä»¬ç›´æ¥ä¿®æ”¹ hintColorï¼Œé‚£ä¹ˆä¸‹åˆ’çº¿å’Œæç¤ºæ–‡æœ¬çš„é¢œè‰²éƒ½ä¼šå˜ã€‚å€¼å¾—é«˜å…´çš„æ˜¯ decoration ä¸­å¯ä»¥è®¾ç½® `hintStyle`ï¼Œå®ƒå¯ä»¥è¦†ç›– hintColorï¼Œå¹¶ä¸”ä¸»é¢˜ä¸­å¯ä»¥é€šè¿‡ inputDecorationTheme æ¥è®¾ç½®è¾“å…¥æ¡†é»˜è®¤çš„ decoration

æˆ‘ä»¬æˆåŠŸçš„è‡ªå®šä¹‰äº†ä¸‹åˆ’çº¿é¢œè‰²å’Œæé—®æ–‡å­—æ ·å¼ï¼Œä½†é€šè¿‡è¿™ç§æ–¹å¼è‡ªå®šä¹‰åï¼Œè¾“å…¥æ¡†åœ¨è·å–ç„¦ç‚¹æ—¶ï¼ŒlabelText ä¸ä¼šé«˜äº®æ˜¾ç¤ºäº†ï¼Œæ­£å¦‚ä¸Šå›¾ä¸­çš„ " ç”¨æˆ·å " æœ¬åº”è¯¥æ˜¾ç¤ºè“è‰²ï¼Œä½†ç°åœ¨å´æ˜¾ç¤ºä¸ºç°è‰²ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜æ˜¯æ— æ³•å®šä¹‰ä¸‹åˆ’çº¿å®½åº¦ã€‚å¦ä¸€ç§çµæ´»çš„æ–¹å¼æ˜¯ç›´æ¥éšè—æ‰ TextField æœ¬èº«çš„ä¸‹åˆ’çº¿ï¼Œç„¶åé€šè¿‡ Container å»åµŒå¥—å®šä¹‰æ ·å¼ï¼Œå¦‚ï¼š

```dart
Container(
  child: TextField(
    keyboardType: TextInputType.emailAddress,
    decoration: InputDecoration(
        labelText: "Email",
        hintText: "ç”µå­é‚®ä»¶åœ°å€",
        prefixIcon: Icon(Icons.email),
        border: InputBorder.none //éšè—ä¸‹åˆ’çº¿
    )
  ),
  decoration: BoxDecoration(
      // ä¸‹æ»‘çº¿æµ…ç°è‰²ï¼Œå®½åº¦1åƒç´ 
      border: Border(bottom: BorderSide(color: Colors.grey[200], width: 1.0))
  ),
)
```

![9d0l7](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/9d0l7.png)<br>é€šè¿‡è¿™ç§ç»„ä»¶ç»„åˆçš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥å®šä¹‰èƒŒæ™¯åœ†è§’ç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¼˜å…ˆé€šè¿‡ decoration æ¥è‡ªå®šä¹‰æ ·å¼ï¼Œå¦‚æœ decoration å®ç°ä¸äº†ï¼Œå†ç”¨ widget ç»„åˆçš„æ–¹å¼ã€‚

## Form è¡¨å•

### Form

Form ç±»å®šä¹‰ï¼š

```dart
Form({
    super.key,
    required this.child,
    this.onWillPop,
    this.onChanged,
    AutovalidateMode? autovalidateMode,
})
```

- **onWillPop** å†³å®š Form æ‰€åœ¨çš„è·¯ç”±æ˜¯å¦å¯ä»¥ç›´æ¥è¿”å›ï¼ˆå¦‚ç‚¹å‡»è¿”å›æŒ‰é’®ï¼‰ï¼Œè¯¥å›è°ƒè¿”å›ä¸€ä¸ª Future å¯¹è±¡ï¼Œå¦‚æœ Future çš„æœ€ç»ˆç»“æœæ˜¯ falseï¼Œåˆ™å½“å‰è·¯ç”±ä¸ä¼šè¿”å›ï¼›å¦‚æœä¸º trueï¼Œåˆ™ä¼šè¿”å›åˆ°ä¸Šä¸€ä¸ªè·¯ç”±ã€‚æ­¤å±æ€§é€šå¸¸ç”¨äºæ‹¦æˆªè¿”å›æŒ‰é’®ã€‚
- **onChanged** Form çš„ä»»æ„ä¸€ä¸ªå­ FormField å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ä¼šè§¦å‘æ­¤å›è°ƒ
- **autovalidateMode** AutovalidateMode æ˜¯å¦è‡ªåŠ¨æ ¡éªŒè¾“å…¥å†…å®¹
  - disabled ä¸è‡ªåŠ¨æ ¡éªŒ
  - always è‡ªåŠ¨æ ¡éªŒï¼Œæ— éœ€ç”¨æˆ·äº¤äº’æ‰æ ¡éªŒï¼Œè·å–åˆ°ç„¦ç‚¹ï¼Œæœ‰ç”¨æˆ·äº¤äº’æ—¶æ ¡éªŒ
  - onUserInteraction æœ‰ç”¨æˆ·äº¤äº’æ—¶æ‰æ ¡éªŒ æ¯ä¸€ä¸ªå­ FormField å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šè‡ªåŠ¨æ ¡éªŒåˆæ³•æ€§ï¼Œå¹¶ç›´æ¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

### FormField

```dart
FormField({
  super.key,
  required this.builder,
  this.onSaved, // FormFieldSetter<T>?
  this.validator, // FormFieldValidator<T>? 
  this.initialValue, // T? åˆå§‹å€¼
  this.enabled = true,
  AutovalidateMode? autovalidateMode, // è‡ªåŠ¨æ ¡éªŒæ¨¡å¼
  this.restorationId,
})
```

### FormState

FormState ä¸º Form çš„ State ç±»ï¼Œå¯ä»¥é€šè¿‡ Form.of() æˆ– GlobalKey è·å¾—ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥å¯¹ Form çš„å­å­™<br>FormField è¿›è¡Œç»Ÿä¸€æ“ä½œã€‚

- FormState.validate()ï¼šè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šè°ƒç”¨ Form å­å­™ FormField çš„ validate å›è°ƒï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ ¡éªŒå¤±è´¥ï¼Œåˆ™è¿”å› falseï¼Œæ‰€æœ‰æ ¡éªŒå¤±è´¥é¡¹éƒ½ä¼šè¿”å›ç”¨æˆ·è¿”å›çš„é”™è¯¯æç¤ºã€‚
- FormState.save()ï¼šè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šè°ƒç”¨ Form å­å­™ FormField çš„ save å›è°ƒï¼Œç”¨äºä¿å­˜è¡¨å•å†…å®¹
- FormState.reset()ï¼šè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šå°†å­å­™ FormField çš„å†…å®¹æ¸…ç©º

### ç¤ºä¾‹

ç”¨æˆ·ç™»å½•è¡¨å•æ ¡éªŒï¼š

1. ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™æç¤º " ç”¨æˆ·åä¸èƒ½ä¸ºç©º "ã€‚
2. å¯†ç ä¸èƒ½å°‘äº 6 ä½ï¼Œå¦‚æœå°äº 6 ä¸ºåˆ™æç¤º " å¯†ç ä¸èƒ½å°‘äº 6 ä½ "ã€‚

```dart
class TextFieldFormDemo extends StatelessWidget {
  const TextFieldFormDemo({super.key});
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
        useMaterial3: true,
      ),
      home: Scaffold(
        appBar: AppBar(
          title: const Text("TextFieldForm Demo"),
        ),
        body: Container(
          decoration: const BoxDecoration(
            color: Colors.transparent,
          ),
          child: const FormTestRoute(),
        ),
      ),
    );
  }
}
class FormTestRoute extends StatefulWidget {
  const FormTestRoute({super.key});

  @override
  _FormTestRouteState createState() => _FormTestRouteState();
}
class _FormTestRouteState extends State<FormTestRoute> {
  final TextEditingController _unameController = TextEditingController();
  final TextEditingController _pwdController = TextEditingController();
  final GlobalKey _formKey = GlobalKey<FormState>();
  @override
  Widget build(BuildContext context) {
    return Form(
        key: _formKey,
        autovalidateMode: AutovalidateMode.onUserInteraction,
        child: Column(children: [
          TextFormField(
            autofocus: true,
            controller: _unameController,
            decoration: const InputDecoration(
              labelText: "ç”¨æˆ·å",
              hintText: "ç”¨æˆ·åæˆ–é‚®ç®±",
              icon: Icon(Icons.person),
            ),
            // æ ¡éªŒç”¨æˆ·å
            validator: (name) {
              return name!.trim().isNotEmpty ? null : "ç”¨æˆ·åä¸èƒ½ä¸ºç©º";
            },
          ),
          TextFormField(
            controller: _pwdController,
            decoration: const InputDecoration(
              labelText: "å¯†ç ",
              hintText: "æ‚¨çš„ç™»å½•å¯†ç ",
              icon: Icon(Icons.lock),
            ),
            obscureText: true,
            //æ ¡éªŒå¯†ç 
            validator: (pwd) {
              return pwd!.trim().length > 5 ? null : "å¯†ç ä¸èƒ½å°‘äº6ä½";
            },
          ),
          Padding(
            padding: const EdgeInsets.only(top: 28),
            child: Row(
              children: [
                const Padding(padding: EdgeInsets.only(left: 20.0)),
                Expanded(
                    child: ElevatedButton(
                        onPressed: () {
                          // é€šè¿‡_formKey.currentState è·å–FormStateåï¼Œ
                          // è°ƒç”¨validate()æ–¹æ³•æ ¡éªŒç”¨æˆ·åå¯†ç æ˜¯å¦åˆæ³•ï¼Œæ ¡éªŒ
                          FormState state = _formKey.currentState as FormState;
                          if (state.validate()) {
                            // éªŒè¯é€šè¿‡æäº¤æ•°æ®
                            print('éªŒè¯é€šè¿‡æäº¤æ•°æ®');
                          }
                        },
                        child: const Padding(
                          padding: EdgeInsets.all(16.0),
                          child: Text('ç™»å½•'),
                        ))),
                const Padding(padding: EdgeInsets.only(right: 20.0))
              ],
            ),
          ),
        ]));
  }
}
```

![of0kt](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/of0kt.png)<br>ç™»å½•æŒ‰é’®çš„ onPressed æ–¹æ³•ä¸­ä¸èƒ½é€šè¿‡ `Form.of(context)` æ¥è·å– FormStateï¼ŒåŸå› æ˜¯ï¼Œæ­¤å¤„çš„ context ä¸º FormTestRoute çš„ contextï¼Œè€Œ Form.of(context) æ˜¯æ ¹æ®æ‰€æŒ‡å®š context å‘æ ¹å»æŸ¥æ‰¾ï¼Œè€Œ FormState æ˜¯åœ¨ FormTestRoute çš„å­æ ‘ä¸­ï¼Œæ‰€ä»¥ä¸è¡Œã€‚æ­£ç¡®çš„åšæ³•æ˜¯é€šè¿‡ Builder æ¥æ„å»ºç™»å½•æŒ‰é’®ï¼ŒBuilder ä¼šå°† widget èŠ‚ç‚¹çš„ context ä½œä¸ºå›è°ƒå‚æ•°ï¼š

```dart
Expanded(
 // é€šè¿‡Builderæ¥è·å–ElevatedButtonæ‰€åœ¨widgetæ ‘çš„çœŸæ­£context(Element) 
  child:Builder(builder: (context){
    return ElevatedButton(
      ...
      onPressed: () {
        // ç”±äºæœ¬widgetä¹Ÿæ˜¯Formçš„å­ä»£widgetï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼è·å–FormState  
        if(Form.of(context).validate()){
          // éªŒè¯é€šè¿‡æäº¤æ•°æ®
        }
      },
    );
  })
)
```

# RichText å¯Œæ–‡æœ¬

# Image å’Œ ICON å›¾ç‰‡

Flutter ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Image ç»„ä»¶æ¥åŠ è½½å¹¶æ˜¾ç¤ºå›¾ç‰‡ï¼ŒImage çš„æ•°æ®æºå¯ä»¥æ˜¯ assetã€æ–‡ä»¶ã€å†…å­˜ä»¥åŠç½‘ç»œã€‚

## Image åŸºæœ¬ä½¿ç”¨

### åŠ è½½å›¾ç‰‡çš„å‡ ç§æ–¹å¼

#### ImageProvider

ImageProvider æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸»è¦å®šä¹‰äº†å›¾ç‰‡æ•°æ®è·å–çš„æ¥å£ load()ï¼Œä»ä¸åŒçš„æ•°æ®æºè·å–å›¾ç‰‡éœ€è¦å®ç°ä¸åŒçš„ ImageProvider ï¼Œå¦‚ AssetImage æ˜¯å®ç°äº†ä» Asset ä¸­åŠ è½½å›¾ç‰‡çš„ ImageProviderï¼Œè€Œ NetworkImage å®ç°äº†ä»ç½‘ç»œåŠ è½½å›¾ç‰‡çš„ ImageProvider

- Image.asset: åŠ è½½èµ„æºå›¾ç‰‡ï¼Œå°±æ˜¯åŠ è½½é¡¹ç›®èµ„æºç›®å½•ä¸­çš„å›¾ç‰‡,åŠ å…¥å›¾ç‰‡åä¼šå¢å¤§æ‰“åŒ…çš„åŒ…ä½“ä½“ç§¯ï¼Œç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ã€‚
- Image.network: ç½‘ç»œèµ„æºå›¾ç‰‡ï¼Œæ„æ€å°±æ˜¯ä½ éœ€è¦åŠ å…¥ä¸€æ®µ<http://xxxx.xxx>çš„è¿™æ ·çš„ç½‘ç»œè·¯å¾„åœ°å€ã€‚
- Image.file: åŠ è½½æœ¬åœ°å›¾ç‰‡ï¼Œå°±æ˜¯åŠ è½½æœ¬åœ°æ–‡ä»¶ä¸­çš„å›¾ç‰‡ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œè·ŸåŒ…ä½“æ— å…³ã€‚
- Image.memory: åŠ è½½ Uint8List èµ„æºå›¾ç‰‡\

Image widget æœ‰ä¸€ä¸ªå¿…é€‰çš„ image å‚æ•°ï¼Œå®ƒå¯¹åº”ä¸€ä¸ª ImageProviderã€‚

#### ä» asset ä¸­åŠ è½½å›¾ç‰‡

1. pubspec.yaml ä¸­é…ç½®ï¼ˆå…ˆå°†å›¾ç‰‡ avatar.png æ‹·è´åˆ° images ç›®å½•ï¼‰

```yaml
assets:
	- images/avatar.png
```

2. AssetImage æ¥åŠ è½½

```dart
Image(
  image: AssetImage("images/avatar.png"),
  width: 100.0
);
```

3. Image.asset åŠ è½½

```dart
Image.asset("images/avatar.png",
  width: 100.0,
)
```

#### ä»ç½‘ç»œåŠ è½½å›¾ç‰‡

```dart
Image(
  image: NetworkImage(
      "https://avatars2.githubusercontent.com/u/20411648?s=460&v=4"),
  width: 100.0,
)
// æˆ–
Image.network(
  "https://avatars2.githubusercontent.com/u/20411648?s=460&v=4",
  width: 100.0,
)
```

### Image å‚æ•°

Image ä¸»è¦å‚æ•°ï¼š

```dart
const Image({
  // ...
  this.width, //å›¾ç‰‡çš„å®½
  this.height, //å›¾ç‰‡é«˜åº¦
  this.color, //å›¾ç‰‡çš„æ··åˆè‰²å€¼
  this.colorBlendMode, //æ··åˆæ¨¡å¼
  this.fit,//ç¼©æ”¾æ¨¡å¼
  this.alignment = Alignment.center, //å¯¹é½æ–¹å¼
  this.repeat = ImageRepeat.noRepeat, //é‡å¤æ–¹å¼
  // ...
})
```

#### widthã€heightï¼šç”¨äºè®¾ç½®å›¾ç‰‡çš„å®½ã€é«˜

å½“ä¸æŒ‡å®šå®½é«˜æ—¶ï¼Œå›¾ç‰‡ä¼šæ ¹æ®å½“å‰çˆ¶å®¹å™¨çš„é™åˆ¶ï¼Œå°½å¯èƒ½çš„æ˜¾ç¤ºå…¶åŸå§‹å¤§å°ï¼Œå¦‚æœåªè®¾ç½® widthã€height çš„å…¶ä¸­ä¸€ä¸ªï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªå±æ€§é»˜è®¤ä¼šæŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä½†å¯ä»¥é€šè¿‡ä¸‹é¢ä»‹ç»çš„ fit å±æ€§æ¥æŒ‡å®šé€‚åº”è§„åˆ™ã€‚

#### fit

è¯¥å±æ€§ç”¨äºåœ¨å›¾ç‰‡çš„æ˜¾ç¤ºç©ºé—´å’Œå›¾ç‰‡æœ¬èº«å¤§å°ä¸åŒæ—¶æŒ‡å®šå›¾ç‰‡çš„é€‚åº”æ¨¡å¼ã€‚é€‚åº”æ¨¡å¼æ˜¯åœ¨ BoxFit ä¸­å®šä¹‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œæœ‰å¦‚ä¸‹å€¼ï¼š

- fillï¼šä¼šæ‹‰ä¼¸å¡«å……æ»¡æ˜¾ç¤ºç©ºé—´ï¼Œå›¾ç‰‡æœ¬èº«é•¿å®½æ¯”ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå›¾ç‰‡ä¼šå˜å½¢

> å…¨å›¾æ˜¾ç¤ºï¼Œå›¾ç‰‡ä¼šè¢«æ‹‰ä¼¸ï¼Œå¹¶å……æ»¡çˆ¶å®¹å™¨

- coverï¼šä¼šæŒ‰å›¾ç‰‡çš„é•¿å®½æ¯”æ”¾å¤§åå±…ä¸­å¡«æ»¡æ˜¾ç¤ºç©ºé—´ï¼Œå›¾ç‰‡ä¸ä¼šå˜å½¢ï¼Œè¶…å‡ºæ˜¾ç¤ºç©ºé—´éƒ¨åˆ†ä¼šè¢«å‰ªè£ã€‚

> æ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡ï¼Œå……æ»¡ï¼ˆå›¾ç‰‡è¦å……æ»¡æ•´ä¸ªå®¹å™¨ï¼Œè¿˜ä¸å˜å½¢ï¼‰

- containï¼šè¿™æ˜¯å›¾ç‰‡çš„é»˜è®¤é€‚åº”è§„åˆ™ï¼Œå›¾ç‰‡ä¼šåœ¨ä¿è¯å›¾ç‰‡æœ¬èº«é•¿å®½æ¯”ä¸å˜çš„æƒ…å†µä¸‹ç¼©æ”¾ä»¥é€‚åº”å½“å‰æ˜¾ç¤ºç©ºé—´ï¼Œå›¾ç‰‡ä¸ä¼šå˜å½¢

> å…¨å›¾æ˜¾ç¤ºï¼Œæ˜¾ç¤ºåŸæ¯”ä¾‹ï¼Œå¯èƒ½ä¼šæœ‰ç©ºéš™

- fitWidthï¼šå›¾ç‰‡çš„å®½åº¦ä¼šç¼©æ”¾åˆ°æ˜¾ç¤ºç©ºé—´çš„å®½åº¦ï¼Œé«˜åº¦ä¼šæŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œç„¶åå±…ä¸­æ˜¾ç¤ºï¼Œå›¾ç‰‡ä¸ä¼šå˜å½¢ï¼Œè¶…å‡ºæ˜¾ç¤ºç©ºé—´éƒ¨åˆ†ä¼šè¢«å‰ªè£ã€‚

> å®½åº¦å……æ»¡ï¼ˆæ¨ªå‘å……æ»¡ï¼‰ï¼Œæ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡

- fitHeightï¼šå›¾ç‰‡çš„é«˜åº¦ä¼šç¼©æ”¾åˆ°æ˜¾ç¤ºç©ºé—´çš„é«˜åº¦ï¼Œå®½åº¦ä¼šæŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œç„¶åå±…ä¸­æ˜¾ç¤ºï¼Œå›¾ç‰‡ä¸ä¼šå˜å½¢ï¼Œè¶…å‡ºæ˜¾ç¤ºç©ºé—´éƒ¨åˆ†ä¼šè¢«å‰ªè£ã€‚

> é«˜åº¦å……æ»¡ï¼ˆç«–å‘å……æ»¡ï¼‰,æ˜¾ç¤ºå¯èƒ½æ‹‰ä¼¸ï¼Œå¯èƒ½è£åˆ‡ã€‚

- noneï¼šå›¾ç‰‡æ²¡æœ‰é€‚åº”ç­–ç•¥ï¼Œä¼šåœ¨æ˜¾ç¤ºç©ºé—´å†…æ˜¾ç¤ºå›¾ç‰‡ï¼Œå¦‚æœå›¾ç‰‡æ¯”æ˜¾ç¤ºç©ºé—´å¤§ï¼Œåˆ™æ˜¾ç¤ºç©ºé—´åªä¼šæ˜¾ç¤ºå›¾ç‰‡ä¸­é—´éƒ¨åˆ†ã€‚
- scaleDownï¼šæ•ˆæœå’Œ contain å·®ä¸å¤šï¼Œä½†æ˜¯æ­¤å±æ€§ä¸å…è®¸æ˜¾ç¤ºè¶…è¿‡æºå›¾ç‰‡å¤§å°ï¼Œå¯å°ä¸å¯å¤§ã€‚

ç¤ºä¾‹ï¼š

```dart
import 'package:flutter/material.dart';

class ImageAndIconRoute extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    var img=AssetImage("imgs/avatar.png");
    return SingleChildScrollView(
      child: Column(
        children: <Image>[
          Image(
            image: img,
            height: 50.0,
            width: 100.0,
            fit: BoxFit.fill,
          ),
          Image(
            image: img,
            height: 50,
            width: 50.0,
            fit: BoxFit.contain,
          ),
          Image(
            image: img,
            width: 100.0,
            height: 50.0,
            fit: BoxFit.cover,
          ),
          Image(
            image: img,
            width: 100.0,
            height: 50.0,
            fit: BoxFit.fitWidth,
          ),
          Image(
            image: img,
            width: 100.0,
            height: 50.0,
            fit: BoxFit.fitHeight,
          ),
          Image(
            image: img,
            width: 100.0,
            height: 50.0,
            fit: BoxFit.scaleDown,
          ),
          Image(
            image: img,
            height: 50.0,
            width: 100.0,
            fit: BoxFit.none,
          )
        ].map((e){
          return Row(
            children: <Widget>[
              Padding(
                padding: EdgeInsets.all(16.0),
                child: SizedBox(
                  width: 100,
                  child: e,
                ),
              ),
              Text(e.fit.toString())
            ],
          );
        }).toList()
      ),
    );
  }
}
```

![mdr6m](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/mdr6m.png)

#### color å’Œ colorBlendMode å›¾ç‰‡çš„æ··åˆæ¨¡å¼

åœ¨å›¾ç‰‡ç»˜åˆ¶æ—¶å¯ä»¥å¯¹æ¯ä¸€ä¸ªåƒç´ è¿›è¡Œé¢œè‰²æ··åˆå¤„ç†ï¼Œcolor æŒ‡å®šæ··åˆè‰²ï¼Œè€Œ colorBlendMode æŒ‡å®šæ··åˆæ¨¡å¼ï¼Œ

- colorï¼šæ˜¯è¦æ··åˆçš„é¢œè‰²ï¼Œå¦‚æœä½ åªè®¾ç½® color æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚
- colorBlendMode: æ˜¯æ··åˆæ¨¡å¼ï¼Œç›¸å½“äºæˆ‘ä»¬å¦‚ä½•æ··åˆã€‚

æ¡ˆä¾‹ 1ï¼š

```dart
Image(
  image: AssetImage("images/avatar.png"),
  width: 100.0,
  color: Colors.blue,
  colorBlendMode: BlendMode.difference,
);
```

![fzumt](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/fzumt.png)<br>æ¡ˆä¾‹ 2ï¼š

```dart
class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'è¿™æ˜¯title',
      home: Scaffold(

        appBar: AppBar(
          title: Text("è¿™æ˜¯AppBarçš„title"),
        ),

        body: Center(
            child: Container(
            child: Image(
                image: NetworkImage("https://10.url.cn/eth/ajNVdqHZLLB2ibIiaR23jaQpq0rTL1eXfBDkQzHc15ZH2qbl5Tn7A6HMnGfCfU3nDSqHHEuh8Lw7I/"),
              fit: BoxFit.scaleDown,
              color: Colors.blueGrey,
              colorBlendMode: BlendMode.multiply,
            ),
              width: 500.0,
              height: 600.0,
              color: Colors.deepOrangeAccent,
        )
        ),
      ),
    );
  }
}
```

![pcd4e](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/pcd4e.png)

- repeat å½“å›¾ç‰‡æœ¬èº«å¤§å°å°äºæ˜¾ç¤ºç©ºé—´æ—¶ï¼ŒæŒ‡å®šå›¾ç‰‡çš„é‡å¤è§„åˆ™
  - ImageRepeat.repeat : æ¨ªå‘å’Œçºµå‘éƒ½è¿›è¡Œé‡å¤ï¼Œç›´åˆ°é“ºæ»¡æ•´ä¸ªç”»å¸ƒã€‚
  - ImageRepeat.repeatX: æ¨ªå‘é‡å¤ï¼Œçºµå‘ä¸é‡å¤ã€‚
  - ImageRepeat.repeatYï¼šçºµå‘é‡å¤ï¼Œæ¨ªå‘ä¸é‡å¤ã€‚

```dart
Image(
  image: AssetImage("images/avatar.png"),
  width: 100.0,
  height: 200.0,
  repeat: ImageRepeat.repeatY ,
)
```

![y29yf](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/y29yf.png)

## Image åœ†å½¢å›¾ç‰‡è£å‰ª

åœ¨ Flutter ä¸­å›¾ç‰‡åœ†å½¢è£å‰ªæœ‰ä¸¤ç§æ–¹å¼ï¼š

1. å°†å¤–å±‚æ­£æ–¹å½¢çš„å®¹å™¨ Container æŒ‰åœ†å½¢è£å‰ª

> ä½¿ç”¨ BoxDecoration å°† borderRadius åŠä»·è®¾ç½®ä¸ºè¾¹é•¿çš„ä¸€åŠï¼Œå°±æ˜¯åœ†å½¢çš„æ•ˆæœäº†
> è®¾ç½® clipBehavior è¾¹ç¼˜è£å‰ªç±»å‹ï¼Œé»˜è®¤æ˜¯ä¸è£å‰ªçš„ã€‚è¿™é‡Œä½¿ç”¨äº† Clip.antiAliasï¼ˆæŠ—é”¯é½¿ï¼‰çš„æ–¹å¼è¿›è¡Œè£å‰ªï¼Œè¿™ç§æ–¹å¼çš„è£å‰ªæ•ˆæœæœ€å¥½ï¼Œä½†æ˜¯æ›´è€—èµ„æºï¼Œå…¶ä»–çš„è£å‰ªæ–¹å¼å¦‚ä¸‹ï¼š
>
> - Clip.hardEdgeï¼šä»åå­—å°±çŸ¥é“ï¼Œè¿™ç§æ–¹å¼å¾ˆç²—ç³™ï¼Œä½†æ˜¯è£å‰ªçš„æ•ˆç‡æœ€å¿«ï¼›
> - Clip.antiAliasSaveLayerï¼šæœ€ä¸ºç²¾ç»†çš„è£å‰ªï¼Œä½†æ˜¯éå¸¸æ…¢ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼›
> - Clip.noneï¼šé»˜è®¤å€¼ï¼Œå¦‚æœå†…å®¹åŒºæ²¡æœ‰è¶…å‡ºå®¹å™¨è¾¹ç•Œçš„è¯ï¼Œä¸ä¼šåšä»»ä½•è£å‰ªã€‚å†…å®¹è¶…å‡ºè¾¹ç•Œçš„è¯éœ€è¦ä½¿ç”¨åˆ«çš„è£å‰ªæ–¹å¼é˜²æ­¢å†…å®¹æº¢å‡º

```dart
Widget _getRoundImage(String imageName, double size) {
  return Container(
    width: size,
    height: size,
    clipBehavior: Clip.antiAlias,
    decoration: BoxDecoration(
        borderRadius: BorderRadius.all(Radius.circular(size / 2))),
    child: Image.asset(
      imageName,
      fit: BoxFit.fitWidth,
    ),
  );
}
```

![fewvn](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/fewvn.png)

2. ä½¿ç”¨ CircleAvatarï¼Œä¸€èˆ¬ç”¨äºå¤´åƒ

## ICON

### iconfont

Flutter ä¸­ï¼Œå¯ä»¥åƒ Web å¼€å‘ä¸€æ ·ä½¿ç”¨ iconfontï¼Œiconfont å³ " å­—ä½“å›¾æ ‡ "ï¼Œå®ƒæ˜¯å°†å›¾æ ‡åšæˆå­—ä½“æ–‡ä»¶ï¼Œç„¶åé€šè¿‡æŒ‡å®šä¸åŒçš„å­—ç¬¦è€Œæ˜¾ç¤ºä¸åŒçš„å›¾ç‰‡ã€‚<br>åœ¨å­—ä½“æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€ä¸ªå­—ç¬¦éƒ½å¯¹åº”ä¸€ä¸ªä½ç ï¼Œè€Œæ¯ä¸€ä¸ªä½ç å¯¹åº”ä¸€ä¸ªæ˜¾ç¤ºå­—å½¢ï¼Œä¸åŒçš„å­—ä½“å°±æ˜¯æŒ‡å­—å½¢ä¸åŒï¼Œå³å­—ç¬¦å¯¹åº”çš„å­—å½¢æ˜¯ä¸åŒçš„ã€‚è€Œåœ¨ iconfont ä¸­ï¼Œåªæ˜¯å°†ä½ç å¯¹åº”çš„å­—å½¢åšæˆäº†å›¾æ ‡ï¼Œæ‰€ä»¥ä¸åŒçš„å­—ç¬¦æœ€ç»ˆå°±ä¼šæ¸²æŸ“æˆä¸åŒçš„å›¾æ ‡ã€‚<br>åœ¨ Flutter å¼€å‘ä¸­ï¼Œiconfont å’Œå›¾ç‰‡ç›¸æ¯”æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š

1. ä½“ç§¯å°ï¼šå¯ä»¥å‡å°å®‰è£…åŒ…å¤§å°ã€‚
2. çŸ¢é‡çš„ï¼šiconfont éƒ½æ˜¯çŸ¢é‡å›¾æ ‡ï¼Œæ”¾å¤§ä¸ä¼šå½±å“å…¶æ¸…æ™°åº¦ã€‚
3. å¯ä»¥åº”ç”¨æ–‡æœ¬æ ·å¼ï¼šå¯ä»¥åƒæ–‡æœ¬ä¸€æ ·æ”¹å˜å­—ä½“å›¾æ ‡çš„é¢œè‰²ã€å¤§å°å¯¹é½ç­‰ã€‚
4. å¯ä»¥é€šè¿‡ TextSpan å’Œæ–‡æœ¬æ··ç”¨ã€‚

### Material Design å­—ä½“å›¾æ ‡

Material Design æ‰€æœ‰å›¾æ ‡å¯ä»¥åœ¨å…¶å®˜ç½‘æŸ¥çœ‹ï¼š<https://material.io/tools/icons/><br>Flutter é»˜è®¤åŒ…å«äº†ä¸€å¥— Material Design çš„å­—ä½“å›¾æ ‡ï¼Œåœ¨ pubspec.yaml æ–‡ä»¶ä¸­çš„é…ç½®å¦‚ä¸‹ï¼š

```yaml
flutter:
  uses-material-design: true
```

ç¤ºä¾‹ï¼š

```dart
String icons = "";
// accessible: 0xe03e
icons += "\uE03e";
// error:  0xe237
icons += " \uE237";
// fingerprint: 0xe287
icons += " \uE287";

Text(
  icons,
  style: TextStyle(
    fontFamily: "MaterialIcons",
    fontSize: 24.0,
    color: Colors.green,
  ),
);
```

![yh3m9](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/yh3m9.png)<br>è¿™ç§é€šè¿‡æ¯ä¸ªå›¾æ ‡çš„ç ç‚¹å¯¹å¼€å‘è€…ä¸å‹å¥½ï¼ŒFlutter å°è£…äº† IconData å’Œ Icon æ¥ä¸“é—¨æ˜¾ç¤ºå­—ä½“å›¾æ ‡ï¼š

```dart
Row(
  mainAxisAlignment: MainAxisAlignment.center,
  children: <Widget>[
    Icon(Icons.accessible,color: Colors.green),
    Icon(Icons.error,color: Colors.green),
    Icon(Icons.fingerprint,color: Colors.green),
  ],
)
```

Icons ç±»ä¸­åŒ…å«äº†æ‰€æœ‰ Material Design å›¾æ ‡çš„ IconData é™æ€å˜é‡å®šä¹‰ã€‚

### è‡ªå®šä¹‰å­—ä½“å›¾æ ‡

iconfont.cn ä¸Šæœ‰å¾ˆå¤šå­—ä½“å›¾æ ‡ç´ æ

1. ä¸‹è½½å¯¼å…¥å­—ä½“å›¾æ ‡æ–‡ä»¶ï¼›è¿™ä¸€æ­¥å’Œå¯¼å…¥å­—ä½“æ–‡ä»¶ç›¸åŒï¼Œå‡è®¾æˆ‘ä»¬çš„å­—ä½“å›¾æ ‡æ–‡ä»¶ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè·¯å¾„ä¸º "fonts/iconfont.ttf"ï¼š

```yaml
fonts:
  - family: myIcon  #æŒ‡å®šä¸€ä¸ªå­—ä½“å
    fonts:
      - asset: fonts/iconfont.ttf
```

2. ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª MyIcons ç±»ï¼ŒåŠŸèƒ½å’Œ Icons ç±»ä¸€æ ·ï¼šå°†å­—ä½“æ–‡ä»¶ä¸­çš„æ‰€æœ‰å›¾æ ‡éƒ½å®šä¹‰æˆé™æ€å˜é‡ï¼š

```yaml
class MyIcons{
  // book å›¾æ ‡
  static const IconData book = const IconData(
      0xe614, 
      fontFamily: 'myIcon', 
      matchTextDirection: true
  );
  // å¾®ä¿¡å›¾æ ‡
  static const IconData wechat = const IconData(
      0xec7d,  
      fontFamily: 'myIcon', 
      matchTextDirection: true
  );
}
```

3. ä½¿ç”¨

```dart
Row(
  mainAxisAlignment: MainAxisAlignment.center,
  children: <Widget>[
    Icon(MyIcons.book,color: Colors.purple),
    Icon(MyIcons.wechat,color: Colors.green),
  ],
)
```

4. æ•ˆæœ

![4xuih](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/4xuih.png)

# Switch å’Œ CheckBox å•é€‰å’Œå¤šé€‰æ¡†

Material ç»„ä»¶åº“ä¸­æä¾›äº† Material é£æ ¼çš„å•é€‰å¼€å…³ `Switch` å’Œå¤é€‰æ¡† `Checkbox`ï¼Œè™½ç„¶å®ƒä»¬éƒ½æ˜¯ç»§æ‰¿è‡ª StatefulWidgetï¼Œä½†å®ƒä»¬æœ¬èº«ä¸ä¼šä¿å­˜å½“å‰é€‰ä¸­çŠ¶æ€ï¼Œé€‰ä¸­çŠ¶æ€éƒ½æ˜¯ç”±çˆ¶ç»„ä»¶æ¥ç®¡ç†çš„ã€‚å½“ Switch æˆ– Checkbox è¢«ç‚¹å‡»æ—¶ï¼Œä¼šè§¦å‘å®ƒä»¬çš„ onChanged å›è°ƒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤å›è°ƒä¸­å¤„ç†é€‰ä¸­çŠ¶æ€æ”¹å˜é€»è¾‘ã€‚

```dart
class SwitchAndCheckBoxTestRoute extends StatefulWidget {
  @override
  _SwitchAndCheckBoxTestRouteState createState() => _SwitchAndCheckBoxTestRouteState();
}

class _SwitchAndCheckBoxTestRouteState extends State<SwitchAndCheckBoxTestRoute> {
  bool _switchSelected=true; //ç»´æŠ¤å•é€‰å¼€å…³çŠ¶æ€
  bool _checkboxSelected=true;//ç»´æŠ¤å¤é€‰æ¡†çŠ¶æ€
  @override
  Widget build(BuildContext context) {
    return Column(
      children: <Widget>[
        Switch(
          value: _switchSelected,//å½“å‰çŠ¶æ€
          onChanged:(value){
            //é‡æ–°æ„å»ºé¡µé¢  
            setState(() {
              _switchSelected=value;
            });
          },
        ),
        Checkbox(
          value: _checkboxSelected,
          activeColor: Colors.red, //é€‰ä¸­æ—¶çš„é¢œè‰²
          onChanged:(value){
            setState(() {
              _checkboxSelected=value;
            });
          } ,
        )
      ],
    );
  }
}
```

![rot3k](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/rot3k.png)

## å±æ€§

- activeColor Switch å’Œ Checkbox å±æ€§æ¯”è¾ƒç®€å•ï¼Œè¯»è€…å¯ä»¥æŸ¥çœ‹ API æ–‡æ¡£ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ª activeColor å±æ€§ï¼Œç”¨äºè®¾ç½®æ¿€æ´»æ€çš„é¢œè‰²
- å¤§å° Checkbox çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ— æ³•è‡ªå®šä¹‰ï¼Œè€Œ Switch åªèƒ½å®šä¹‰å®½åº¦ï¼Œé«˜åº¦ä¹Ÿæ˜¯å›ºå®šçš„ã€‚
- tristate Checkbox çš„å±æ€§ ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸ºä¸‰æ€ï¼Œå…¶é»˜è®¤å€¼ä¸º false ï¼Œè¿™æ—¶ Checkbox æœ‰ä¸¤ç§çŠ¶æ€å³ " é€‰ä¸­ " å’Œ " ä¸é€‰ä¸­ "ï¼Œå¯¹åº”çš„ value å€¼ä¸º true å’Œ false ï¼›å¦‚æœ tristate å€¼ä¸º true æ—¶ï¼Œvalue çš„å€¼ä¼šå¢åŠ ä¸€ä¸ªçŠ¶æ€ null

## çŠ¶æ€

é€šè¿‡ Switch å’Œ Checkbox æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶å®ƒä»¬æœ¬èº«æ˜¯ä¸çŠ¶æ€ï¼ˆæ˜¯å¦é€‰ä¸­ï¼‰å…³è”çš„ï¼Œä½†å®ƒä»¬å´ä¸æ˜¯è‡ªå·±æ¥ç»´æŠ¤çŠ¶æ€ï¼Œè€Œæ˜¯éœ€è¦çˆ¶ç»„ä»¶æ¥ç®¡ç†çŠ¶æ€ï¼Œç„¶åå½“ç”¨æˆ·ç‚¹å‡»æ—¶ï¼Œå†é€šè¿‡äº‹ä»¶é€šçŸ¥ç»™çˆ¶ç»„ä»¶ï¼Œè¿™æ ·æ˜¯åˆç†çš„ï¼Œå› ä¸º Switch å’Œ Checkbox æ˜¯å¦é€‰ä¸­æœ¬å°±å’Œç”¨æˆ·æ•°æ®å…³è”ï¼Œè€Œè¿™äº›ç”¨æˆ·æ•°æ®ä¹Ÿä¸å¯èƒ½æ˜¯å®ƒä»¬çš„ç§æœ‰çŠ¶æ€ã€‚æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶æ—¶ä¹Ÿåº”è¯¥æ€è€ƒä¸€ä¸‹å“ªç§çŠ¶æ€çš„ç®¡ç†æ–¹å¼æœ€ä¸ºåˆç†ã€‚

# ProgressIndicator è¿›åº¦æ¡

Material ç»„ä»¶åº“ä¸­æä¾›äº†ä¸¤ç§è¿›åº¦æŒ‡ç¤ºå™¨ï¼š`LinearProgressIndicator` å’Œ `CircularProgressIndicator`ï¼Œå®ƒä»¬éƒ½å¯ä»¥åŒæ—¶ç”¨äºç²¾ç¡®çš„è¿›åº¦æŒ‡ç¤ºå’Œæ¨¡ç³Šçš„è¿›åº¦æŒ‡ç¤ºã€‚ç²¾ç¡®è¿›åº¦é€šå¸¸ç”¨äºä»»åŠ¡è¿›åº¦å¯ä»¥è®¡ç®—å’Œé¢„ä¼°çš„æƒ…å†µï¼Œæ¯”å¦‚æ–‡ä»¶ä¸‹è½½ï¼›è€Œæ¨¡ç³Šè¿›åº¦åˆ™ç”¨æˆ·ä»»åŠ¡è¿›åº¦æ— æ³•å‡†ç¡®è·å¾—çš„æƒ…å†µï¼Œå¦‚ä¸‹æ‹‰åˆ·æ–°ï¼Œæ•°æ®æäº¤ç­‰ã€‚

## LinearProgressIndicator

LinearProgressIndicator æ˜¯ä¸€ä¸ªçº¿æ€§ã€æ¡çŠ¶çš„è¿›åº¦æ¡ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š

```dart
LinearProgressIndicator({
  double value,
  Color backgroundColor,
  Animation<Color> valueColor,
  // ...
})
```

- valueï¼švalue è¡¨ç¤ºå½“å‰çš„è¿›åº¦ï¼Œå–å€¼èŒƒå›´ä¸º [0,1]ï¼›å¦‚æœ value ä¸º null æ—¶åˆ™æŒ‡ç¤ºå™¨ä¼šæ‰§è¡Œä¸€ä¸ªå¾ªç¯åŠ¨ç”»ï¼ˆæ¨¡ç³Šè¿›åº¦ï¼‰ï¼›å½“ value ä¸ä¸º null æ—¶ï¼ŒæŒ‡ç¤ºå™¨ä¸ºä¸€ä¸ªå…·ä½“è¿›åº¦çš„è¿›åº¦æ¡ã€‚
- backgroundColorï¼šæŒ‡ç¤ºå™¨çš„èƒŒæ™¯è‰²ã€‚
- valueColor: æŒ‡ç¤ºå™¨çš„è¿›åº¦æ¡é¢œè‰²ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥å€¼ç±»å‹æ˜¯ `Animation<Color>`ï¼Œè¿™å…è®¸æˆ‘ä»¬å¯¹è¿›åº¦æ¡çš„é¢œè‰²ä¹Ÿå¯ä»¥æŒ‡å®šåŠ¨ç”»ã€‚å¦‚æœæˆ‘ä»¬ä¸éœ€è¦å¯¹è¿›åº¦æ¡é¢œè‰²æ‰§è¡ŒåŠ¨ç”»ï¼Œæ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬æƒ³å¯¹è¿›åº¦æ¡åº”ç”¨ä¸€ç§å›ºå®šçš„é¢œè‰²ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ `AlwaysStoppedAnimation` æ¥æŒ‡å®šã€‚

ç¤ºä¾‹ï¼š

```dart
Column demoWidget() {
    return Column(
      children: [
        const Padding(padding: EdgeInsets.all(16.0)),
        // æ¨¡ç³Šè¿›åº¦æ¡(ä¼šæ‰§è¡Œä¸€ä¸ªåŠ¨ç”»)
        LinearProgressIndicator(
          backgroundColor: Colors.grey[200],
          valueColor: const AlwaysStoppedAnimation(Colors.blue),
        ),
        const Padding(padding: EdgeInsets.all(16.0)),
//è¿›åº¦æ¡æ˜¾ç¤º50%
        LinearProgressIndicator(
          backgroundColor: Colors.grey[200],
          valueColor: const AlwaysStoppedAnimation(Colors.blue),
          value: .5,
        )
      ],
    );
  }
```

![iewh7](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/iewh7.png)

> ç¬¬ä¸€ä¸ªè¿›åº¦æ¡åœ¨æ‰§è¡Œå¾ªç¯åŠ¨ç”»ï¼šè“è‰²æ¡ä¸€ç›´åœ¨ç§»åŠ¨ï¼Œè€Œç¬¬äºŒä¸ªè¿›åº¦æ¡æ˜¯é™æ­¢çš„ï¼Œåœåœ¨ 50% çš„ä½ç½®ã€‚

## CircularProgressIndicator

CircularProgressIndicator æ˜¯ä¸€ä¸ªåœ†å½¢è¿›åº¦æ¡ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š

```dart
 CircularProgressIndicator({
  double value,
  Color backgroundColor,
  Animation<Color> valueColor,
  this.strokeWidth = 4.0,
  ...   
}) 
```

å‰ä¸‰ä¸ªå‚æ•°å’Œ LinearProgressIndicator ç›¸åŒï¼ŒstrokeWidth è¡¨ç¤ºåœ†å½¢è¿›åº¦æ¡çš„ç²—ç»†ã€‚<br>ç¤ºä¾‹ï¼š

```dart
// æ¨¡ç³Šè¿›åº¦æ¡(ä¼šæ‰§è¡Œä¸€ä¸ªæ—‹è½¬åŠ¨ç”»)
CircularProgressIndicator(
  backgroundColor: Colors.grey[200],
  valueColor: AlwaysStoppedAnimation(Colors.blue),
),
//è¿›åº¦æ¡æ˜¾ç¤º50%ï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ªåŠåœ†
CircularProgressIndicator(
  backgroundColor: Colors.grey[200],
  valueColor: AlwaysStoppedAnimation(Colors.blue),
  value: .5,
),
```

![ck5i1](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/ck5i1.png)

> ç¬¬ä¸€ä¸ªè¿›åº¦æ¡ä¼šæ‰§è¡Œæ—‹è½¬åŠ¨ç”»ï¼Œè€Œç¬¬äºŒä¸ªè¿›åº¦æ¡æ˜¯é™æ­¢çš„ï¼Œå®ƒåœåœ¨ 50% çš„ä½ç½®

## è‡ªå®šä¹‰å°ºå¯¸

LinearProgressIndicator å’Œ CircularProgressIndicatorï¼Œå¹¶æ²¡æœ‰æä¾›è®¾ç½®åœ†å½¢è¿›åº¦æ¡å°ºå¯¸çš„å‚æ•°ï¼›<br>å…¶å® LinearProgressIndicator å’Œ CircularProgressIndicator éƒ½æ˜¯å–çˆ¶å®¹å™¨çš„å°ºå¯¸ä½œä¸ºç»˜åˆ¶çš„è¾¹ç•Œçš„ã€‚çŸ¥é“äº†è¿™ç‚¹ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡å°ºå¯¸é™åˆ¶ç±» Widgetï¼Œå¦‚ ConstrainedBoxã€SizedBox æ¥æŒ‡å®šå°ºå¯¸ï¼Œå¦‚ï¼š

```dart
// çº¿æ€§è¿›åº¦æ¡é«˜åº¦æŒ‡å®šä¸º3
SizedBox(
  height: 3,
  child: LinearProgressIndicator(
    backgroundColor: Colors.grey[200],
    valueColor: AlwaysStoppedAnimation(Colors.blue),
    value: .5,
  ),
),
// åœ†å½¢è¿›åº¦æ¡ç›´å¾„æŒ‡å®šä¸º100
SizedBox(
  height: 100,
  width: 100,
  child: CircularProgressIndicator(
    backgroundColor: Colors.grey[200],
    valueColor: AlwaysStoppedAnimation(Colors.blue),
    value: .7,
  ),
),
```

![u9viy](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/u9viy.png)<br>æ³¨æ„ï¼Œå¦‚æœ CircularProgressIndicator æ˜¾ç¤ºç©ºé—´çš„å®½é«˜ä¸åŒï¼Œåˆ™ä¼šæ˜¾ç¤ºä¸ºæ¤­åœ†ï¼š

```dart
// å®½é«˜ä¸ç­‰
SizedBox(
  height: 100,
  width: 130,
  child: CircularProgressIndicator(
    backgroundColor: Colors.grey[200],
    valueColor: AlwaysStoppedAnimation(Colors.blue),
    value: .7,
  ),
),
```

![cioxo](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/cioxo.png)

## è¿›åº¦è‰²åŠ¨ç”»

å®ç°ä¸€ä¸ªè¿›åº¦æ¡åœ¨ 3 ç§’å†…ä»ç°è‰²å˜æˆè“è‰²ï¼Œä»å·¦åˆ°å³è¾¹çš„åŠ¨ç”»

```dart
class ProgressRoute extends StatefulWidget {
  @override
  _ProgressRouteState createState() => _ProgressRouteState();
}

class _ProgressRouteState extends State<ProgressRoute>
    with SingleTickerProviderStateMixin {
  late AnimationController _animationController;

  @override
  void initState() {
    // åŠ¨ç”»æ‰§è¡Œæ—¶é—´3ç§’
    _animationController = AnimationController(
      vsync: this, //æ³¨æ„Stateç±»éœ€è¦æ··å…¥SingleTickerProviderStateMixinï¼ˆæä¾›åŠ¨ç”»å¸§è®¡æ—¶/è§¦å‘å™¨ï¼‰
      duration: const Duration(seconds: 3),
    );
    _animationController.forward();
    _animationController.addListener(() => setState(() => {}));
    super.initState();
  }

  @override
  void dispose() {
    _animationController.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      child: Column(
        children: <Widget>[
          Padding(
            padding: const EdgeInsets.all(16),
            child: LinearProgressIndicator(
              backgroundColor: Colors.grey[200],
              valueColor: ColorTween(begin: Colors.grey, end: Colors.blue)
                  .animate(_animationController), // ä»ç°è‰²å˜æˆè“è‰²
              value: _animationController.value,
            ),
          )
        ],
      ),
    );
  }
}
```

![mr3s9](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/mr3s9.png)

## è‡ªå®šä¹‰è¿›åº¦æŒ‡ç¤ºå™¨æ ·å¼

å®šåˆ¶è¿›åº¦æŒ‡ç¤ºå™¨é£æ ¼æ ·å¼ï¼Œå¯ä»¥é€šè¿‡ `CustomPainter` Widget æ¥è‡ªå®šä¹‰ç»˜åˆ¶é€»è¾‘ï¼Œå®é™…ä¸Š LinearProgressIndicator å’Œ CircularProgressIndicator ä¹Ÿæ­£æ˜¯é€šè¿‡ CustomPainter æ¥å®ç°å¤–è§‚ç»˜åˆ¶çš„ã€‚

> [flutter_spinkit](https://pub.flutter-io.cn/packages/flutter_spinkit) åŒ…æä¾›äº†å¤šç§é£æ ¼çš„æ¨¡ç³Šè¿›åº¦æŒ‡ç¤ºå™¨

# BottomNavigationBar åº•éƒ¨å¯¼èˆª

```dart
BottomNavigationBar({
  super.key,
  required this.items,
  this.onTap,
  this.currentIndex = 0,
  this.elevation,
  this.type,
  Color? fixedColor,
  this.backgroundColor,
  this.iconSize = 24.0,
  Color? selectedItemColor,
  this.unselectedItemColor,
  this.selectedIconTheme,
  this.unselectedIconTheme,
  this.selectedFontSize = 14.0,
  this.unselectedFontSize = 12.0,
  this.selectedLabelStyle,
  this.unselectedLabelStyle,
  this.showSelectedLabels,
  this.showUnselectedLabels,
  this.mouseCursor,
  this.enableFeedback,
  this.landscapeLayout,
  this.useLegacyColorScheme = true,
})
```

å…¶ä¸­å¸¸ç”¨çš„å‚æ•°ä¸ºï¼š

- itemsï¼šå¯¹åº”çš„é¡µé¢ç»„ä»¶æ•°ç»„ï¼Œå¿…é¡»å‚æ•°
- currentIndexï¼šé»˜è®¤æ˜¾ç¤ºç¬¬å‡ ä¸ªé¡µé¢
- typeï¼šç»„ä»¶ç±»å‹ï¼Œä½¿ç”¨ BottomNavigationBarType æšä¸¾ï¼Œæœ‰ fixed å’Œ shifting ä¸¤ç§ã€‚fixed æ˜¯å›¾æ ‡å›ºå®šä½ç½®ï¼Œè€Œ shifting çš„å›¾æ ‡ç‚¹å‡»åä¼šæœ‰ä¸€ä¸ªæ¼‚ç§»æ•ˆæœï¼Œå¯ä»¥å®é™…è¯•ä¸€ä¸‹ï¼Œä¸€èˆ¬ç”¨ fixed æ¯”è¾ƒå¤š
- onTapï¼šç‚¹å‡»åçš„äº‹ä»¶ï¼Œä¸€èˆ¬ç”¨è¿™ä¸ªæ›´æ–°çŠ¶æ€æ•°æ®ï¼Œä»¥ä¾¿æ›´æ–°é¡µé¢
- å…¶ä»–å‚æ•°ç”¨äºæ§åˆ¶æ ·å¼çš„ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€è¦è®¾ç½®å›¾æ ‡å¤§å°ï¼Œä¸»é¢˜è‰²ï¼Œå­—ä½“ç­‰å‚æ•°

# Decoration

å®¹å™¨éœ€è¦é¢å¤–çš„æ ·å¼ï¼Œå¦‚åœ†è§’ã€èƒŒæ™¯è‰²ç­‰ã€‚Flutter ä¸­å„ç§å®¹å™¨æœ‰ä¸€ä¸ª `decoration` å±æ€§ç”¨äºè£…é¥°å®¹å™¨ï¼Œå¯ç”¨äºè®¾ç½®èƒŒæ™¯è‰²ï¼ˆå¯æ¸å˜ï¼‰ã€åœ†è§’ã€è¾¹æ¡†å’Œé˜´å½±ç­‰<br>decoration æ˜¯ä¸€ä¸ª Decoration å¯¹è±¡ï¼Œå¸¸ç”¨çš„æ˜¯ BoxDecoration

## BoxDecoration

```dart
const BoxDecoration({
    this.color,
    this.image,
    this.border,
    this.borderRadius,
    this.boxShadow,
    this.gradient,
    this.backgroundBlendMode,
    this.shape = BoxShape.rectangle,
})
```

- color ä¸ºä½¿ç”¨é¢œè‰²å¡«å……å®¹å™¨
- image ä¸ºä½¿ç”¨å›¾ç‰‡ä½œä¸ºèƒŒæ™¯
- border ä¸ºè¾¹æ¡†
- borderRadius ä¸ºè¾¹æ¡†åœ†è§’
- boxShadow ä¸ºå®¹å™¨é˜´å½±
- gradient ä½¿ç”¨æ¸å˜è‰²ä½œä¸ºèƒŒæ™¯
- backgroundBlendMode æ˜¯æŒ‡ä¸å®¹å™¨çš„æ··åˆæ¨¡å‹ï¼Œé»˜è®¤æ˜¯è¦†ç›–
- shape æ˜¯èƒŒæ™¯å½¢çŠ¶ï¼Œé»˜è®¤æ˜¯çŸ©å½¢

ç¤ºä¾‹ä»£ç ï¼š

```dart
class WxPageTest extends StatelessWidget {
  const WxPageTest({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: BoxDecoration(
        borderRadius: BorderRadius.circular(100.0),
        gradient: const LinearGradient(
            begin: Alignment.topLeft,
            end: Alignment.bottomCenter,
            colors: [
                Color(0xFF56AF6D),
                Color(0x21FF00FF),
                Color(0xFF56AA6D),
              ])),
    );
  }
}
```

æ•ˆæœï¼š<br>![widfq](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/widfq.png)
