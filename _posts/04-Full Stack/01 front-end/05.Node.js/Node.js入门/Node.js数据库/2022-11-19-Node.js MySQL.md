---
date_created: Tuesday, November 19th 2022, 11:27:19 pm
date_updated: Friday, January 31st 2025, 11:47:27 pm
title: Node.js MySQL
author: hacket
categories:
  - back-end
category: Nodejs
tags: [Nodejs]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
image-auto-upload: true
feed: show
format: list
date created: 2024-12-25 23:54
date updated: 2024-12-25 23:54
aliases: [mysql 模块]
linter-yaml-title-alias: mysql 模块
---

# mysql 模块

<https://github.com/mysqljs/mysql>

## 安装

```shell
cnpm install mysql
```

## 连接数据库

数据库连接参数说明：

| 参数                 | 描述                                                                                 |
| ------------------ | ---------------------------------------------------------------------------------- |
| host               | 主机地址 （默认：localhost）                                                                |
| user               | 用户名                                                                                |
| password           | 密码                                                                                 |
| port               | 端口号 （默认：3306）                                                                      |
| database           | 数据库名                                                                               |
| charset            | 连接字符集（默认：'UTF8_GENERAL_CI'，注意字符集的字母都要大写）                                           |
| localAddress       | 此 IP 用于 TCP 连接（可选）                                                                     |
| socketPath         | 连接到 unix 域路径，当使用 host 和 port 时会被忽略                                                   |
| timezone           | 时区（默认：'local'）                                                                     |
| connectTimeout     | 连接超时（默认：不限制；单位：毫秒）                                                                 |
| stringifyObjects   | 是否序列化对象                                                                            |
| typeCast           | 是否将列值转化为本地 JavaScript 类型值 （默认：true）                                                  |
| queryFormat        | 自定义 query 语句格式化方法                                                                    |
| supportBigNumbers  | 数据库支持 bigint 或 decimal 类型列时，需要设此 option 为 true （默认：false）                                 |
| bigNumberStrings   | supportBigNumbers 和 bigNumberStrings 启用 强制 bigint 或 decimal 列以 JavaScript 字符串类型返回（默认：false） |
| dateStrings        | 强制 timestamp,datetime,data 类型以字符串类型返回，而不是 JavaScript Date 类型（默认：false）                 |
| debug              | 开启调试（默认：false）                                                                     |
| multipleStatements | 是否许一个 query 中有多个 MySQL 语句 （默认：false）                                                   |
| flags              | 用于修改连接标志                                                                           |
| ssl                | 使用 ssl 参数（与 crypto.createCredenitals 参数格式一至）或一个包含 ssl 配置文件名称的字符串，目前只捆绑 Amazon RDS 的配置文件    |

示例：

```javascript
var mysql      = require('mysql');
var connection = mysql.createConnection({
  host     : 'localhost',
  user     : 'root',
  password : '123456',
  database : 'test'
});
 
connection.connect();
 
connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});
```

## CURD
