---
date_created: Tuesday, December 3rd 2024, 12:35:16 am
date_updated: Sunday, February 2nd 2025, 9:03:11 pm
title: 云主机域名选购
author: hacket
categories:
  - back-end
category: 云
tags: [云]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
image-auto-upload: true
feed: show
format: list
date created: 2024-12-03 00:35
date updated: 2024-12-26 00:16
aliases: [云主机]
linter-yaml-title-alias: 云主机
---

# 云主机

## UC 53 元

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412030035277.png)

- (<https://www.ucloud.cn/site/active/kuaijiesale.html?invitation_code=C1xD88603A8CDF9>)

## 腾讯云

### 云主机购买

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412030036155.png)

- <https://cloud.tencent.com/act/pro/Featured?from=22334&page=double11-2024>

### 设置

#### 防火墙

##### 图形化

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412141313209.png)

##### 命令行

```shell
# 1、查看防火墙状态
systemctl status firewalld 

# 2、启动
systemctl start firewalld

# 3、停止
systemctl disable firewalld

# 4、禁用
systemctl stop firewalld

# 5、查看所有打开的端口
firewall-cmd --zone=public --list-ports

# 6、添加开放端口
firewall-cmd --zone=public --add-port=80/tcp --permanent

（--permanent永久生效，没有此参数重启后失效）

# 7、重新载入（更新防火墙规则）
firewall-cmd --reload

# 8、查看端口是否开放
firewall-cmd --zone=public --query-port=80/tcp

# 9、删除
firewall-cmd --zone=public --remove-port=80/tcp --permanent 
```

- 查看所有开放的端口

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412141314162.png)

#### 安全组

<https://cloud.tencent.com/document/product/213/112614>

##### 作用（开放端口）

安全组用于管理是否放行来自公网或者内网的访问请求。

##### 操作

- [安全组控制台](https://console.cloud.tencent.com/vpc/security-group?rid=1&rid=1)
- 添加安全组规则

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412032321763.png)

### Remote SSH

- 添加公钥到腾讯云服务器，绑定实例（网页生成或者本地生成）

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412050048257.png)

- 配置 `.ssh` 文件 (`qqq.pem` 从服务器下载的，root 是用户)

```shell
Host tencentClound
    HostName 43.159.135.247
    User hacket
    IdentityFile ~/.ssh/qqq.pem
```

- Vscode，安装 `Remote-SSH` 插件
- 连接

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412050051782.png)

- [VSCode 通过 Remote - SSH 远程连接腾讯云服务器( DAY 58)_vscode连接腾讯云-CSDN博客](https://blog.csdn.net/Watremelon/article/details/124850655)

# 域名注册

## Godaddy

- <https://dashboard.godaddy.com/>

## DNS 域名服务器

腾讯云需要配置 dns 服务器：

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412030821392.png)

- `humphrey.dnspod.net`
- `spectator.dnspod.net`

[云解析 DNS GoDaddy 注册域名如何配置为 DNSPod 的 DNS 服务器-操作指南-文档中心-腾讯云](https://cloud.tencent.com/document/product/302/105676)

## 域名解析

### 域名解析定义

**域名解析**是把域名指向网站空间 IP，让人们通过注册的域名可以方便地访问到网站的一种服务。IP 地址是网络上标识站点的数字地址，为了方便记忆，采用域名来代替 IP 地址标识站点地址。域名解析就是域名到 IP 地址的转换过程。域名的解析工作由 DNS 服务器完成。

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412030827900.png)

#### 主机名

主机名就是域名前缀，比如：

- 这个域名 xxx.com 前缀就是@，那么主机名就填 **@**
- 这个域名<www.xxx.com>前缀就是 www，那么主机名就填 **www**
- 这个域名 abc.xxx.com 前缀就是 abc，那么主机名就填 **abc**

#### 记录类型

记录类型常用的有 2 中，**A 记录**和 **CNAME 记录**，这个要根据解析值的类型来定

- 如果域名要解析到的服务器 ip 是 `1.1.1.1` 这种的，那么记录类型就选 **A**
- 如果域名要解析到的服务器 ip 是 `test.gotoip4.com` 这种的，你们记录类型就选 **CNAME**

##### 常见的 DNS 记录类型

以下是常见的 DNS 记录类型以及它们的区别和作用：

1. **A 记录（Address record）：**
	- **作用：** 将域名或子域名指向一个 IPv4 地址。
	- **示例：** `hacket.me` -> `192.0.2.1`
	- **特点：** 最基本的 DNS 记录类型，用于将域名直接映射到服务器的 IP 地址。
2. **AAAA 记录（IPv6 address record）：**
	- **作用：** 将域名或子域名指向一个 IPv6 地址。
	- **示例：** `hacket.me` -> `2001:db8::1`
	- **特点：** 与 A 记录类似，但用于 IPv6 地址，随着 IPv6 的普及，AAAA 记录也越来越重要。
3. **CNAME 记录（Canonical name record）：**
	- **作用：** 将一个域名或子域名指向另一个域名或子域名（别名）。
	- **示例：** `www.hacket.me` -> `hacket.github.io`
	- **特点：** 用于创建域名的别名，方便管理和维护。例如，您可以将 `www.hacket.me` 指向 `hacket.github.io`，这样无论 `hacket.github.io` 的 IP 地址如何变化，`www.hacket.me` 都可以正常访问。
4. MX 记录（Mail exchange record）：
	- **作用：** 指定负责接收电子邮件的邮件服务器。
	- **示例：** `hacket.me` MX 10 `mail.hacket.me`
	- **特点：** 用于配置电子邮件服务，指定邮件服务器的优先级和地址。
5. NS 记录（Name server record）：
	- **作用：** 指定负责解析域名的 DNS 服务器。
	- **示例：** `hacket.me` NS `ns1.example.com`
	- **特点：** 用于指定管理域名的 DNS 服务器，一个域名可以有多个 NS 记录。
6. TXT 记录（Text record）：
	- **作用：** 存储文本信息，通常用于验证域名所有权、SPF（Sender Policy Framework）等。
	- **示例：** `hacket.me` TXT `"v=spf1 include:example.com -all"`
	- **特点：** 用于存储任意文本信息，应用场景广泛。
7. SRV 记录（Service record）：
	- **作用：** 指定特定服务的域名和端口号。
	- **示例：** `_http._tcp.hacket.me` SRV 0 0 80 `webserver.hacket.me`
	- **特点：** 用于配置特定服务，例如 HTTP、HTTPS、LDAP 等。

#### 主机记录

在 DNS 记录中，主机记录（Host）指的是域名的最左边部分，用于标识特定的子域名或主机。例如，在 `www.hacket.me` 这个域名中，`www` 就是一个主机记录。

##### @的含义

- `@` 代表的是根域名（Root Domain），也就是不带任何前缀的域名。
- 例如，对于域名 `hacket.me` 来说，`@` 就代表 `hacket.me` 本身。
- 在 DNS 解析中，当主机记录为 `@` 时，表示该记录直接应用于根域名。

##### www 的含义

- `www` 是一个常见的主机记录，通常用于表示网站的 Web 服务器。
- `www.hacket.me` 表示的是 `hacket.me` 这个域名的 `www` 子域名，通常用于访问网站。

##### 实际应用中

- 通常情况下，我们会同时设置 `@` 和 `www` 两个主机记录，以确保用户可以通过 `hacket.me` 和 `www.hacket.me` 两种方式访问网站。
- 对于 GitHub Pages 来说，推荐使用 CNAME 记录将 `@` 和 `www` 都指向你的 GitHub Pages 地址，例如 `yourusername.github.io`。

**示例：**
假设你的域名是 `hacket.me`，你的 GitHub Pages 地址是 `hacket.github.io`，你可以在 DNS 解析中添加以下两条 CNAME 记录：
- 主机记录：`@`，记录值：`hacket.github.io`
- 主机记录：`www`，记录值：`hacket.github.io`

这样，用户就可以通过 `hacket.me` 和 `www.hacket.me` 两种方式访问你的 GitHub Pages 网站了。

#### 解析值（IP 或者别名）

解析值就是服务器的 IP，在服务器弄好后，服务器商会把服务器的 ip 发给你

线路、MX 优先级和 TTL 这几个默认即可

弄好后，点击新增，解析就成功添加了

如果是香港，美国等免备案的服务器，并且域名已经实名认证了，站点也绑定了域名，解析后等个几分钟（域名解析生效需要一段时间），就可以访问网站了。

##### A 类型的记录值能填多个 IP 吗？

可以的，一个 A 记录可以对应多个 IP 地址，这种情况通常被称为多 IP 解析**或**负载均衡。

> 腾讯云多个 ip 都是一条 A 记录，ipv4 最多 3 个，ipv6 最多 2 个

![image.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/20250202210253.png)

为什么需要多 IP 解析？

- **提高网站可用性：** 当网站服务器出现故障时，可以将流量导向其他可用的服务器，避免网站无法访问。
- **负载均衡：** 将用户请求分发到不同的服务器上，减轻单台服务器的压力，提高网站的响应速度和并发能力。
- **地理位置优化：** 根据用户的地理位置，将请求导向距离用户最近的服务器，提高访问速度。

#### 案例

- 这 3 个域名 `xxx.com`、`www.xxx.com` 和 `abc.xxx.com` 都要解析到服务器 ip: `1.2.3.4` 上面

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412030829328.png)

- 这 3 个域名 `xxx.com`、`www.xxx.com` 和 `abc.xxx.com` 都要解析到服务器 ip：`test.gotoip4.com` 上面

![](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202412030829432.png)

**注：**
站点或空间绑定了哪几个域名，就要解析那几个域名
比如：绑定了这 3 个域名 `xxx.com`、`www.xxx.com` 和 `abc.xxx.com`，那么解析的时候就解析这 3 个域名，如果解析了 `www.xxx.com` 这个域名，但是没有绑定，那么访问这个域名 `www.xxx.com` 是肯定打不开网站的。
