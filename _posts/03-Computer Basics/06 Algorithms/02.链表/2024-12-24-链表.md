---
date created: 2024-12-24 00:20
date updated: 2024-12-24 00:20
dg-publish: true
---

# é“¾è¡¨å¿…é¡»è¦æŒæ¡çš„é¢˜

- [x] åè½¬å•é“¾è¡¨ï¼ˆé€’å½’+è¿­ä»£ï¼‰
- [x] åè½¬é“¾è¡¨æŒ‡å®šåŒºé—´
- [x] é“¾è¡¨ä¸­æ¯Kä¸ªä¸€ç»„åè½¬ï¼ˆhardï¼‰
- [x] å¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹
- [x] åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨
- [x] åˆå¹¶kä¸ªå·²æ’åºçš„é“¾è¡¨ hard
- [x] åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼ˆ2014 ç™¾åº¦è€ƒè¿‡ï¼‰
- [x] åˆ¤æ–­é“¾è¡¨ç¯çš„å…¥å£
- [x] åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ï¼ˆ2022å¹´ï¼Œåæ¶¦ä¸‡å®¶ å…¨åKæ­Œè€ƒè¿‡ï¼‰
- [x] è·å–é“¾è¡¨çš„å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ï¼šæ³¨æ„headä»…ä¸€ä¸ªå…ƒç´ ï¼Œk=1çš„æƒ…å†µ
- [ ] åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨ç›¸äº¤

# é“¾è¡¨åŸºç¡€

## é“¾è¡¨å‰åºååº

```java
void traverse(ListNode head) {
    // å‰åºä½ç½®
	traverse(head.next);
    // ååºä½ç½®
}

// é¡ºåºæ‰“å°é“¾è¡¨
static void traverse(ListNode node) {
    if (node == null) return;
    // å‰åº
    System.out.print(node.val+" ");
    traverse(node.next);
}
// 1 2 3 4 5 6 7
// å€’åºæ‰“å°
static void traverse(ListNode node) {
    if (node == null) return;
    traverse(node.next);
    // ååº
    System.out.print(node.val+" ");
}
// 7 6 5 4 3 2 1
```

## è·å–é“¾è¡¨é•¿åº¦

```java
private static int getLength(ListNode node) {
    ListNode cur = node;
    int len = 0;
    while (cur!=null) {
        cur = cur.next;
        len++;
    }
    return len;
}
```

## è·å–é“¾è¡¨ç¬¬Nä¸ªèŠ‚ç‚¹

### 1ã€è·å–é“¾è¡¨ä¸­æœ€åä¸€ä¸ªèŠ‚ç‚¹

```java
// è·å–é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼šå¼•å…¥preèŠ‚ç‚¹æ¥è®°å½•æœ€åä¸€ä¸ªèŠ‚ç‚¹
private static ListNode getLastNode(ListNode node) {
    ListNode cur = node;
    ListNode pre = null;
    while (cur != null) {
        pre = cur;
        cur = cur.next;
    }
    return pre;
}
// è·å–é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼šä¸å¼•å…¥å…¶ä»–èŠ‚ç‚¹
private static ListNode getLastNode(ListNode node) {
    ListNode cur = node;
    while (cur.next != null) {
        cur = cur.next;
    }
    return cur;
}
```

### 2ã€è·å–é“¾è¡¨ä¸­æœ€åä¸€ä¸ªèŠ‚ç‚¹å‰ä¸€ä¸ªèŠ‚ç‚¹

```java
private static ListNode getLastPreNode(ListNode node) {
    ListNode cur = node;
    ListNode pre = null;
    while (cur.next != null) {
        pre = cur;
        cur = cur.next;
    }
    return pre;
}
```

### 3ã€è·å–é“¾è¡¨ç¬¬Nä¸ªèŠ‚ç‚¹(nä»0æˆ–1å¼€å§‹)

```java
// ä¸å¸¦å“‘å…ƒèŠ‚ç‚¹ï¼šiä»1å¼€å§‹è®¡æ•°
private static ListNode getNNode(ListNode node, int n) {
    if (node == null) return null;
    ListNode cur = node;
    for (int i = 1; i < n; i++) {
        cur = cur.next;
    }
    return cur;
}
// ä¸å¸¦å“‘å…ƒèŠ‚ç‚¹ï¼šiä»0å¼€å§‹éå†ï¼Œéå†éœ€è¦å‡å»1æ¬¡
private static ListNode getNNode(ListNode node, int n) {
    if (node == null) return null;
    ListNode cur = node;
    for (int i = 0; i < n - 1; i++) {
        cur = cur.next;
    }
    return cur;
}

// å¸¦å“‘å…ƒèŠ‚ç‚¹ä¸”nä»0å¼€å§‹ï¼Œéœ€å¤šéå†1æ¬¡ï¼šè·å–ç¬¬nä¸ªèŠ‚ç‚¹
private static ListNode getNNode(ListNode node, int n) {
    if (node == null) return null;
    ListNode dummy = new ListNode(-1, node);
    ListNode cur = dummy;
    for (int i = 0; i < n; i++) {
        cur = cur.next;
    }
    return cur;
}

```

### 4ã€è·å–é“¾è¡¨å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹

```java
public ListNode getKthFromEnd(ListNode head, int k) {
    ListNode right = head;
    for (int i = 0; i < k && right != null; i++) {
        right = right.next;
    }
    // ä¸‹é¢åˆ¤æ–­è¦å»æ‰ï¼Œé˜²æ­¢headåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œk=1çš„æƒ…å†µï¼Œrightç›´æ¥=nullè¿”å›äº†nullï¼Œå®é™…è¦è¿”å›ä¸€ä¸ªå…ƒç´ 
    // if (right == null) {
    //     return head;
    // }
    ListNode left = head;
    while (right != null) {
        right = right.next;
        left = left.next;
    }
    return left;
}
// æ— æœ‰å“‘å…ƒèŠ‚ç‚¹ï¼šè·å–å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ï¼Œiä»0å¼€å§‹ï¼Œéƒ½æ˜¯i<k
```

### æ“ä½œé“¾è¡¨æ—¶å¯ç”¨å“‘å…ƒdummyèŠ‚ç‚¹æƒ…å†µ

#### 1ã€ç”Ÿæˆæ–°çš„é“¾è¡¨

æ ¹æ®ä¸€ä¸ªList/æ•°ç»„ç”Ÿæˆä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼Œç”¨å“‘å…ƒèŠ‚ç‚¹å¯é¿å…éœ€è¦å¤„ç†head==nullçš„æƒ…å†µ

#### 2ã€éœ€è¦åˆ¤æ–­head==nullçš„æƒ…å†µ

1. ç¿»è½¬é“¾è¡¨ï¼šç¿»è½¬é“¾è¡¨æ¶‰åŠåˆ°head==nullçš„æƒ…å†µ
2. åˆå¹¶é“¾è¡¨
3. åˆ é™¤å€’æ•°Nä¸ªèŠ‚ç‚¹

# é“¾è¡¨é¢è¯•é¢˜

## åè½¬é“¾è¡¨ç›¸å…³

[åè½¬é“¾è¡¨ã€Œæ±‡æ€»çº§åˆ«æ•´ç† ğŸ”¥ğŸ”¥ğŸ”¥ã€](https://leetcode.cn/problems/reverse-linked-list-ii/solution/by-lfool-zzcv/)

### [206. åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list/) easy

**é¢˜ç›®ï¼š**

> ç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚

#### é€’å½’è§£æ³•

**æ€è·¯**

1. åè½¬é“¾è¡¨è¿™ä¸ªé—®é¢˜å¯ä»¥æ‹†è§£æˆå­é—®é¢˜ï¼Œè€ƒè™‘ç”¨é€’å½’æ¥è§£
2. ç”¨é€’å½’å°±éœ€è¦æ‰¾åˆ°é€’æ¨å…¬å¼ï¼šfun(n) = fun(n-1)â†’1ï¼›é€’å½’ç»“æŸæ¡ä»¶ head==null æˆ– head.next==null
3. æˆ‘ä»¬reverseList(head.next) ä»ç¬¬äºŒä¸ªèŠ‚ç‚¹å¼€å§‹å·²ç»åè½¬å¥½ï¼Œè¿”å›çš„æ˜¯åè½¬åçš„å¤´èŠ‚ç‚¹
4. æ¥ä¸‹æ¥æˆ‘ä»¬åªéœ€è¦å°†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹åè½¬è¿‡æ¥ï¼Œhead.nextè¡¨ç¤ºç¬¬äºŒä¸ªèŠ‚ç‚¹: head.next.next = head
5. è¦å°†headçš„æŒ‡å‘nullï¼Œé˜²æ­¢å¾ªç¯æŒ‡å‘ 1â†’2â†’1

**é€’å½’å›¾è§£**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660930608830-00094c4f-ca3c-49c8-bc08-0e5d36774760.png#averageHue=%23f7f5f3&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=85&id=uc0ff7229&originHeight=128&originWidth=587&originalType=binary&ratio=1&rotation=0&showTitle=false&size=67810&status=error&style=none&taskId=uddf8458f-e7bc-4a35-9abf-9dd2d10c34d&title=&width=391.3333333333333)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660930622344-139f42f9-3bfc-4488-819c-5716ac108278.png#averageHue=%23f7f6f3&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=89&id=u8f10bbb1&originHeight=133&originWidth=608&originalType=binary&ratio=1&rotation=0&showTitle=false&size=75574&status=error&style=none&taskId=u49f438ad-f8bb-410a-90d2-38f17e563f0&title=&width=405.3333333333333)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660930654125-df9879d0-c517-4f2f-ab55-253264136b95.png#averageHue=%23f8f7f4&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=129&id=u5294da4a&originHeight=194&originWidth=552&originalType=binary&ratio=1&rotation=0&showTitle=false&size=92843&status=error&style=none&taskId=u41e6dd3c-90f3-407a-bfd9-3f3cb1ae981&title=&width=368)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660930671209-eeafd904-9518-47ad-9d7e-bc5ccaef5444.png#averageHue=%23f9f8f5&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=177&id=u5ec6b4c1&originHeight=266&originWidth=564&originalType=binary&ratio=1&rotation=0&showTitle=false&size=133940&status=error&style=none&taskId=u3d2379de-a897-498e-a12d-eb9db45d349&title=&width=376)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660930696860-437c4a18-6013-42be-bc3a-9b014db720ab.png#averageHue=%23f7f7f2&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=139&id=u67747342&originHeight=208&originWidth=609&originalType=binary&ratio=1&rotation=0&showTitle=false&size=114558&status=error&style=none&taskId=u3a2fcb52-018f-4d05-9af8-fdf27b3a74a&title=&width=406)<br />**ä»£ç **

```java
public static ListNode reverseList(ListNode head) {
    // åˆ¤ç©º
    if (head == null || head.next == null) return head;

    // ç¬¬äºŒä¸ªèŠ‚ç‚¹åŠä»¥åçš„èŠ‚ç‚¹éƒ½åè½¬äº†ï¼Œè¿”å›çš„nodeæ˜¯åè½¬åçš„å¤´èŠ‚ç‚¹
    ListNode node = reverseList(head.next);
    // ç°åœ¨åè½¬ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ head.nextä»£è¡¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œå°†ç¬¬äºŒä¸ªèŠ‚ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
    head.next.next = head;
    head.next = null; // é˜²æ­¢å¾ªç¯æŒ‡å‘ 1â†’2â†’1
    return node;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œé“¾è¡¨éœ€è¦éå†næ¬¡ï¼Œéœ€è¦å¯¹æ¯ä¸ªé“¾è¡¨åè½¬1æ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œéå†1æ¬¡ä¸€ä¸ªæ ˆï¼Œéœ€è¦éå†næ¬¡ï¼Œè°ƒç”¨æ ˆä¸ºnå±‚

#### è¿­ä»£æ–¹å¼(æ¨è)

**æ€è·¯**

1. æ¯éå†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±å°†å½“å‰èŠ‚ç‚¹ç»™åè½¬è¿‡æ¥
2. éœ€è¦2ä¸ªä¸´æ—¶å˜é‡ï¼Œpreè®°å½•å½“å‰å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨äºåè½¬å½“å‰èŠ‚ç‚¹æ—¶ç”¨ï¼Œpreé»˜è®¤æŒ‡å‘nullï¼›curè®°å½•å½“å‰èŠ‚ç‚¹ï¼Œcuré»˜è®¤æŒ‡å‘head
3. éå†ç»“æŸæ¡ä»¶cur==null
   1. preé»˜è®¤æŒ‡å‘nullï¼Œcuré»˜è®¤æŒ‡å‘headï¼›æ¯åè½¬ä¸€ä¸ªèŠ‚ç‚¹åï¼Œpreå’ŒcuråŒæ­¥å‘å‰èµ°ä¸€æ­¥
   2. éœ€è¦è®°å½•cur.nextç”¨æ¥ä½œä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹åè½¬ç”¨ï¼šnext=cur.next
   3. åè½¬å½“å‰èŠ‚ç‚¹curï¼šcur.next = pre
   4. preæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼ˆpreå¾€å‰èµ°ä¸€æ­¥ï¼‰ï¼špre=cur
   5. curæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆcurå¾€å‰èµ°ä¸€æ­¥ï¼‰ï¼šcur=next ï¼ˆå¦‚æœæœ€å¼€å§‹ä¸è®°å½•cur.nextï¼Œè¿™é‡Œå°±ä¸¢å¤±äº†ï¼‰
   6. æœ€åcuræŒ‡å‘åˆ°nulléå†ç»“æŸï¼ŒpreæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹
   7. è¿”å›preå³å¯

**ä»£ç **

```java
public static ListNode reverseList(ListNode head) {
    // åˆ¤ç©º
    if (head == null || head.next == null) return head;

    ListNode pre = null; // æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹
    ListNode cur = head; // æŒ‡å‘å½“å‰éå†çš„èŠ‚ç‚¹
    while (cur != null) { // éå†é€ä¸ªèŠ‚ç‚¹åè½¬
        // è®°å½•å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å¤‡ç”¨ï¼Œå¦åˆ™å½“å‰èŠ‚ç‚¹åè½¬åæ‰¾ä¸åˆ°äº†
        ListNode next = cur.next;
        // åè½¬å½“å‰èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹æŒ‡å‘pre
        cur.next = pre;
        // preè®°å½•å½“å‰èŠ‚ç‚¹ï¼Œç”¨äºä¸‹ä¸€è½®èŠ‚ç‚¹åè½¬
        pre = cur;
        // å½“å‰èŠ‚ç‚¹å¾€ä¸‹èµ°
        cur = next;
    }
    return pre; // åˆ°è¿™é‡Œcurä¸ºnullï¼ŒæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ å³ä¸ºnulläº†
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œé“¾è¡¨éœ€è¦éå†næ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### åè½¬é“¾è¡¨å‰ N ä¸ªå…ƒç´ 

#### äºŒè¶Ÿéå†

**æ€è·¯**

1. å®šä¹‰å“‘å…ƒèŠ‚ç‚¹ï¼Œå°±ä¸éœ€è¦å¤„ç†è¾¹ç•Œé—®é¢˜äº†
2. å…ˆéå†næ¬¡ï¼Œæ‰¾åˆ°ç¬¬nä¸ªèŠ‚ç‚¹
3. ä¸´æ—¶å­˜å‚¨é¦–èŠ‚ç‚¹(å³leftèŠ‚ç‚¹)ï¼ŒèŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç”¨äºåè½¬åæŒ‡å‘ï¼‰
4. æ–­å¼€nèŠ‚ç‚¹çš„æŒ‡å‘ï¼Œå³node.next = null

**ä»£ç **

```java
public static ListNode reverseListN(ListNode head, int n) {
    ListNode dummy = new ListNode(-1, head);

    // æ‰¾åˆ°ç¬¬nä¸ªèŠ‚ç‚¹
    ListNode nNode = dummy;
    for (int i = 0; i < n && nNode != null; i++) {
        nNode = nNode.next;
    }
    if (nNode == null) {
        return head;
    }
    System.out.println("æ‰¾åˆ°ç¬¬" + n + "ä¸ªèŠ‚ç‚¹ï¼Œnode=" + nNode);

    // ä¸´æ—¶è®°å½•èŠ‚ç‚¹
    ListNode left = dummy.next;
    ListNode rightAfter = nNode.next;
    // æ–­å¼€è¿æ¥
    nNode.next = null;

    // åè½¬å‰nä¸ªèŠ‚ç‚¹
    ListNode pre = null;
    ListNode cur = dummy.next;
    while (cur != null) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }

    // æ­¤æ—¶preä¸ºå¤´èŠ‚ç‚¹
    left.next = rightAfter;
    return pre;
}
```

#### ä¸€è¶Ÿéå†

**æ€è·¯**

1. ä¸éœ€è¦å…ˆéå†å‡ºç¬¬nä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦è¾¹éå†çš„è¿‡ç¨‹ä¸­è¾¹åè½¬ï¼Œéå†ä¸€ä¸ªèŠ‚ç‚¹åè½¬ä¸€ä¸ª
2. ä¹Ÿéœ€è¦å¼•å…¥å“‘å…ƒèŠ‚ç‚¹
3. è®°å½•leftèŠ‚ç‚¹ï¼Œä¾¿äºåè½¬åleftéœ€è¦æŒ‡å‘nèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ª
4. éå†næ¬¡ï¼Œåè½¬é“¾è¡¨
5. åè½¬åå°†é“¾è¡¨çš„é¦–å°¾é“¾æ¥èµ·æ¥

**ä»£ç **

```java
public static ListNode reverseListN(ListNode head, int n) {
    ListNode dummy = new ListNode(-1, head);

    ListNode left = dummy.next;

    ListNode pre = null;
    ListNode cur = dummy.next;
    // è¾¹éå†è¾¹åè½¬
    for (int i = 0; i < n && cur != null; i++) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    System.out.println("pre=" + pre + ",cur=" + cur);
    // preä¸ºæ–°çš„å¤´èŠ‚ç‚¹, curä¸ºnä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    dummy.next = pre;
    left.next = cur;
    return dummy.next;
}
```

### [92. åè½¬é“¾è¡¨ II (åè½¬æŒ‡å®šåŒºé—´é“¾è¡¨)](https://leetcode.cn/problems/reverse-linked-list-ii/) éœ€è¦å“‘å…ƒèŠ‚ç‚¹å¤„ç†è¾¹ç•Œ medium

**é¢˜ç›®**

> ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆ head å’Œä¸¤ä¸ªæ•´æ•°Â left å’Œ right ï¼Œå…¶ä¸­Â left <= right ã€‚è¯·ä½ åè½¬ä»ä½ç½® left åˆ°ä½ç½® right çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å› åè½¬åçš„é“¾è¡¨ ã€‚
> **è¾“å…¥ï¼š**head = [1,2,3,4,5], left = 2, right = 4
> **è¾“å‡ºï¼š**[1,4,3,2,5]

#### è§£æ³•1ï¼šéå†

**æ€è·¯**

1. æ·»åŠ å“‘å…ƒèŠ‚ç‚¹æ¥å¤„ç†è¾¹ç•Œé—®é¢˜ï¼Œleft=1æ—¶ä¸åŠ å“‘å…ƒèŠ‚ç‚¹ï¼Œè¾¹ç•Œå¾ˆéš¾å¤„ç†
2. å…ˆæ‰¾åˆ°leftèŠ‚ç‚¹å‰ä¸€ä¸ªèŠ‚ç‚¹leftNodePreï¼ˆç”¨äºåè½¬åæŒ‡å‘æ–°çš„åè½¬é“¾è¡¨å¤´ï¼‰ï¼›ä¿å­˜leftèŠ‚ç‚¹ï¼ˆç”¨äºåè½¬åæŒ‡å‘rightä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼‰
3. éå†leftåˆ°rightï¼Œä¸åœåœ°åè½¬é“¾è¡¨
4. åŒºé—´åè½¬å®Œæˆåï¼ŒleftNodePre.nextæŒ‡å‘preï¼ˆpreä¸ºåè½¬åå¤´èŠ‚ç‚¹ï¼‰ï¼›leftæŒ‡å‘curï¼ˆcuræ­¤æ—¶ä¸ºrightèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼‰

**ä»£ç **

```java
public static ListNode reverseBetween(ListNode head, int left, int right) {
    if (head == null || head.next == null || left == right) return head;

    // å“‘å…ƒèŠ‚ç‚¹ï¼Œä¸ç„¶left=1çš„æƒ…å†µå¾ˆéš¾å¤„ç†
    ListNode dummyNode = new ListNode(-1, head);
    // å…ˆæ‰¾åˆ°ç¬¬leftèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
    ListNode leftNodePre = dummyNode;
    for (int i = 0; i < left - 1 && leftNodePre != null; i++) {
        leftNodePre = leftNodePre.next;
    }
    if (leftNodePre == null) {
        System.out.println("left=" + left + ",right=" + right + "ï¼ŒleftNodePreä¸ºnull");
        return head;
    }
    System.out.println("æ‰¾åˆ°ç¬¬" + left + "ä¸ªèŠ‚ç‚¹=" + leftNodePre);
    ListNode leftNode = leftNodePre.next; // ç¬¬leftç´¢å¼•å¤„çš„èŠ‚ç‚¹ï¼Œç”¨äºåè½¬åçš„æŒ‡å‘
    // éå†åè½¬åŒºé—´çš„é“¾è¡¨
    ListNode pre = leftNodePre;
    ListNode cur = leftNode;
    for (int i = left; i <= right; i++) {
        System.out.println("----- left=" + left + ",right=" + right + ",i=" + i + ",cur=" + cur);
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    // preä¸ºåè½¬åçš„å¤´èŠ‚ç‚¹ï¼Œå³leftNodePreæŒ‡å‘å®ƒ
    leftNodePre.next = pre;
    // leftNodeåè½¬ååˆ°å³è¾¹äº†ï¼Œå…¶nextæŒ‡å‘cur
    leftNode.next = cur;
    return dummyNode.next;
}
```

#### è§£æ³•2ï¼šè¿˜æ˜¯éå†

**æ€è·¯**

1. å’Œè§£æ³•1ç±»ä¼¼
2. å…ˆæ‰¾åˆ°leftçš„å‰ä¸€ä¸ªèŠ‚ç‚¹å¹¶è®°å½•ï¼Œå†æ‰¾åˆ°rightèŠ‚ç‚¹å¹¶è®°å½•
3. ä¸´æ—¶è®°å½•leftç´¢å¼•å¤„èŠ‚ç‚¹ï¼Œrightä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç”¨äºåè½¬åè¿æ¥ï¼‰ï¼Œå¹¶åˆ é™¤åŒºé—´å‰åèŠ‚ç‚¹çš„æŒ‡å‘
4. åè½¬é“¾è¡¨æŒ‡å®šçš„åŒºé—´
5. å°†åè½¬åçš„é“¾è¡¨é‡æ–°é“¾èµ·æ¥

**ä»£ç **

```java
public static ListNode reverseBetween(ListNode head, int left, int right) {
    // è¾¹ç•Œåˆ¤æ–­
    if (head == null || head.next == null) return head;
    // æ·»åŠ å“‘å…ƒèŠ‚ç‚¹ï¼Œæ›´å¥½çš„å¤„ç†è¾¹ç•Œ
    ListNode dummyNode = new ListNode(-1, head);

    // å…ˆæ‰¾åˆ°leftå‰ä¸€ä¸ªèŠ‚ç‚¹
    ListNode leftPre = dummyNode;
    for (int i = 0; i < left - 1 && leftPre != null; i++) { // å¦‚æœæ²¡æœ‰dummyNodeï¼Œåˆ°left-1
        leftPre = leftPre.next;
    }
    if (leftPre == null) return null;
    System.out.println("left=" + left + ", leftå‰ä¸€ä¸ª=" + leftPre);
    // æ‰¾åˆ°rightèŠ‚ç‚¹(ä»leftPreå¼€å§‹æ‰¾ï¼Œé¿å…ä»å¤´å¼€å§‹æ‰¾)
    ListNode rightNode = leftPre;
    for (int i = 0; i < right - left + 1; i++) {
        rightNode = rightNode.next;
    }
    if (rightNode == null) return null;
    System.out.println("right=" + right + ", rightèŠ‚ç‚¹=" + rightNode);

    // è®°å½•leftèŠ‚ç‚¹
    ListNode leftNode = leftPre.next;
    ListNode rightAfterNode = rightNode.next;

    // æ–­å¼€åŒºé—´[left,right]èŠ‚ç‚¹
    leftPre.next = null; // è¦æ–­å¼€è¿æ¥ï¼Œä¸ç„¶åè½¬ä¼š2â†’1äº†
    rightNode.next = null;

    // åè½¬é“¾è¡¨
    ListNode pre = leftPre;
    ListNode cur = leftNode;
    while (cur != null) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }

    // å†å°†åŒºé—´[2,4]é‡æ–°è¿æ¥
    leftPre.next = pre; // æ­¤æ—¶preä¸ºåè½¬åçš„å¤´èŠ‚ç‚¹
    leftNode.next = rightAfterNode;

    System.out.println("right=" + right + ", rightåä¸€ä¸ª=" + rightNode);
    return dummyNode.next;
}
```

#### è§£æ³•3ï¼šé€’å½’

**æ€è·¯**

1. å…ˆæ‰¾åˆ°mèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒnèŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨äºåè½¬é“¾è¡¨åè¿æ¥ï¼›å¼•å…¥å“‘å…ƒèŠ‚ç‚¹ï¼Œæ¥å¤„ç†m=1è¾¹ç•Œæƒ…å†µ
2. æ‰¾åˆ°mçš„å‰ä¸€ä¸ªèŠ‚ç‚¹å’ŒnèŠ‚ç‚¹åä¸€ä¸ªèŠ‚ç‚¹åï¼Œå°†[m, n]åŒºé—´å’Œå…¶ä»–èŠ‚ç‚¹æ–­å¼€
3. ç°åœ¨[m, n]æ˜¯ä¸€ä¸ªå…¨æ–°çš„èŠ‚ç‚¹ï¼Œç›´æ¥åè½¬
4. åè½¬åå†å°†èŠ‚ç‚¹è¿æ¥èµ·æ¥
5. æ³¨æ„ï¼šå¼•å…¥å“‘å…ƒèŠ‚ç‚¹åï¼Œè¦æ‰¾åˆ°mçš„å‰ä¸€èŠ‚ç‚¹preNodeï¼Œéå†ä»0åˆ°left-1ï¼›è¦æ‰¾åˆ°nèŠ‚ç‚¹ï¼Œéœ€è¦ä»preNodeèŠ‚ç‚¹éå†right-left+1æ¬¡

```java
public static ListNode reverseBetween(ListNode head, int left, int right) {
    if (head == null) return head;

    // å¼•å…¥å“‘å…ƒèŠ‚ç‚¹ï¼Œæ–¹ä¾¿å¤„ç†è¾¹ç•Œé—®é¢˜
    ListNode dummy = new ListNode(0);
    dummy.next = head;

    // 1ã€å…ˆæ‰¾åˆ°leftä½ç½®çš„å‰ä¸€ä¸ªï¼Œrightçš„åä¸€ä¸ªï¼Œæ–¹ä¾¿åè½¬åé“¾æ¥èµ·æ¥
    ListNode preNode = dummy;
    for (int i = 0; i < left - 1 && preNode != null; i++) {
        preNode = preNode.next;
    }
    System.out.println("æ‰¾åˆ°preNode=" + (preNode == null ? "null" : preNode) + "ï¼Œleft=" + left + "ï¼Œright=" + right);
    if (preNode == null) {
        return head;
    }
    ListNode rightNode = preNode;
    for (int i = 0; i < right - left + 1 && rightNode != null; i++) {
        rightNode = rightNode.next;
    }
    System.out.println("æ‰¾åˆ°rightNode=" + (rightNode == null ? "null" : rightNode.val) + "ï¼Œleft=" + left + "ï¼Œright=" + right);
    if (rightNode == null) {
        return head;
    }

    ListNode endNode = rightNode.next;
    System.out.println("endNode=" + endNode);
    ListNode leftNode = preNode.next;
    System.out.println("leftNode=" + leftNode);

    // æ–­å¼€è¿æ¥
    preNode.next = null;
    rightNode.next = null;

    System.out.println("å¼€å§‹ç¿»è½¬é“¾è¡¨leftNode=" + leftNode);
    ListNode newHead = reverse(leftNode);
    System.out.println("åè½¬é“¾è¡¨ånewHead=" + newHead + ", preNode=" + preNode + "ï¼Œ leftNode=" + leftNode);
    preNode.next = newHead;
    leftNode.next = endNode;
    return dummy.next;
}

public static ListNode reverse(ListNode head) {
    if (head == null || head.next == null) return head;
    ListNode last = reverse(head.next);
    head.next.next = head;
    head.next = null;
    return last;
}
```

### ä¸¤ä¸¤é“¾è¡¨åè½¬

å¯ä»¥çœ‹ä½œKä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨K=2çš„æƒ…å†µ

### [25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/)ï¼ˆhard å¾—æŒæ¡ï¼‰

**é¢˜ç›®**

> ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œæ¯Â kÂ ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚
> k æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯Â kÂ çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚
> ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

#### 1ã€ä¸€ä¸ªè¾…åŠ©æ ˆ

**æ€è·¯**

1. è¾…åŠ©æ ˆstackï¼Œç”¨æ¥ä¸´æ—¶å­˜å‚¨è·å–åˆ°çš„èŠ‚ç‚¹
2. éå†é“¾è¡¨ï¼Œæ¯å½“stackä¸­å…ƒç´ ç­‰äºkæ—¶ï¼Œå°±å°†stackä¸­æ•°æ®å–å‡ºæ¥ï¼Œé‡æ–°ç”Ÿæˆæ–°çš„é“¾è¡¨ï¼ˆç”±äºæ ˆçš„åè¿›å…ˆå‡ºå°±å¯ä»¥å®ç°ç¿»è½¬çš„åŠŸèƒ½ï¼‰
3. é“¾è¡¨éå†ç»“æŸåï¼Œå½“stackè¿˜æœ‰å…ƒç´ æ—¶ï¼Œè¿™é‡Œé¢çš„èŠ‚ç‚¹æ˜¯ä¸éœ€è¦ç¿»è½¬çš„ï¼Œç›´æ¥æ‰¾åˆ°æ ˆåº•èŠ‚ç‚¹ï¼Œæ·»åŠ åˆ°æ–°ç”Ÿæˆçš„é“¾è¡¨æœ€åé¢å³å¯
4. ç”±äºéœ€è¦å¤„ç†æ–°çš„èŠ‚ç‚¹æ˜¯å¦é¦–æ¬¡ä¸ºnullé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¼•å…¥å“‘å…ƒèŠ‚ç‚¹ï¼Œç®€åŒ–è¿™ç§è¾¹ç•Œå¤„ç†

![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660929787958-968b5225-7034-47ce-8250-15ba495a1cf8.png#averageHue=%23fdfefd&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=409&id=u6d61c68a&originHeight=782&originWidth=628&originalType=binary&ratio=1&rotation=0&showTitle=false&size=327953&status=error&style=none&taskId=u13eb85a2-b706-4ca0-aee4-f908f06cd90&title=&width=328.66668701171875)<br />**ä»£ç **

```java
public static ListNode reverseKGroup(ListNode head, int k) {
    if (head == null || head.next == null || k <= 1) return head;
    // è¾…åŠ©æ ˆï¼šæ¯æ¬¡è¾¾åˆ°kä¸ªèŠ‚ç‚¹æ—¶ï¼Œå°†å…¶å‡ºæ ˆï¼Œé‡æ–°ç”Ÿæˆæ–°çš„é“¾è¡¨
    Stack<ListNode> stack = new Stack<>();
    ListNode temp = head;

    ListNode dummyNode = new ListNode(-1, null);
    ListNode cur = dummyNode;

    while (temp != null) {
        stack.push(temp);
        temp = temp.next;
        if (stack.size() == k) {
            while (!stack.isEmpty()) {
                ListNode node = stack.pop();
                node.next = null; // æ–­å¼€è¿æ¥ï¼Œé˜²æ­¢æŒ‡å‘å¾ªç¯
                // å‡ºæ ˆ
                cur.next = node;
                cur = node;
            }
        }
    }
    // è¿˜å‰©ä¸‹æœ€åå‡ ä¸ªä¸è¶³kä¸ªï¼Œä¸éœ€è¦åè½¬ï¼Œå–æœ€åä¸€ä¸ªå…ƒç´ å³å¯
    ListNode end = null;
    while (!stack.isEmpty()) {
        end = stack.pop();
    }
    cur.next = end;
    return dummyNode.next;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ O(n) éœ€è¦éå†æ•´ä¸ªé“¾è¡¨
- ç©ºé—´å¤æ‚åº¦ O(n) éœ€è¦ä¸ªä¸´æ—¶è¾…åŠ©æ ˆ

#### 2ã€è¿­ä»£

[ å›¾è§£kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/solution/tu-jie-kge-yi-zu-fan-zhuan-lian-biao-by-user7208t/)<br />**æ€è·¯**

1. kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ï¼Œéœ€è¦è§£å†³kä¸ªä¸€ç»„é“¾è¡¨ç¿»è½¬åé“¾è¡¨çš„è¿æ¥é—®é¢˜ï¼›ä¸€èˆ¬ä¼šå¼•å…¥å“‘å…ƒèŠ‚ç‚¹æ›´å¥½åœ°å¤„ç†è¾¹ç•Œé—®é¢˜
2. æ¯kä¸ªä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œç¿»è½¬åå¤„ç†å¥½é“¾è¡¨çš„å‰åè¿æ¥é—®é¢˜
3. ç¿»è½¬å‰å‡†å¤‡
   1. preï¼šæ¯ç»„ä¸­é“¾è¡¨å¤´èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼Œç”¨äºå°†å‰ç»„å’Œåç»­ä¸€ç»„è¿æ¥èµ·æ¥
   2. endï¼šæ¯ç»„ä¸­æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨äºç¿»è½¬åå’Œåç»­é“¾è¡¨é¡ºåˆ©è¿æ¥æ¥ï¼›æ¯ç»„å¼€å§‹ç¿»è½¬å‰éƒ½éœ€è¦éå†kæ¬¡æ‰¾åˆ°è¯¥ç»„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä¸è¶³kï¼Œå‡ºç°end=nullï¼Œè¯´æ˜åˆ°äº†æœ€åä¸€ç»„ç›´æ¥return
   3. startï¼šè®°å½•æ¯ç»„ç¿»è½¬å‰çš„å¤´èŠ‚ç‚¹ï¼Œç”¨äºå’Œä¸‹ä¸€ç»„è¿æ¥èµ·æ¥
   4. nextï¼šä¸´æ—¶è®°å½•ä¸‹ä¸€ç»„çš„å¤´ç»“ç‚¹ï¼Œé˜²æ­¢ç¿»è½¬åæ‰¾ä¸åˆ°ä¸‹ä¸€ç»„çš„å¤´èŠ‚ç‚¹äº†ï¼›åœ¨next=end.nextåï¼Œend.nextç»§ç»­æ–­å¼€è¿æ¥ï¼Œå¦åˆ™å±€éƒ¨ç¿»è½¬å°±ä¼šæœ‰é—®é¢˜(ç¿»è½¬äº†æ•´ä¸ªé“¾è¡¨ï¼Œå¯¼è‡´leetcodeè¶…æ—¶)
4. ä¸€ç»„ç¿»è½¬ï¼ˆåŒç¿»è½¬æ•´ä¸ªé“¾è¡¨ï¼Œå¤´ç»“ç‚¹ä¸ºstartï¼‰
5. ä¸€ç»„ç¿»è½¬å
   1. ä¸€ç»„ç¿»è½¬åï¼Œéœ€è¦å°†é“¾è¡¨é‡æ–°è¿æ¥èµ·æ¥ï¼›
   2. å¤´èŠ‚ç‚¹è¿æ¥ï¼špre.next = reverseNode(start)
   3. å°¾èŠ‚ç‚¹è¿æ¥(startç»è¿‡ç¿»è½¬åå˜æˆäº†å°¾ç»“ç‚¹)ï¼šstart.next = next
6. å‡†å¤‡ä¸‹ä¸€ç»„
   1. pre = startï¼Œä½œä¸ºä¸‹ä¸€ç»„å¤´èŠ‚ç‚¹çš„å‰é©±
   2. end = preï¼Œendé»˜è®¤å’Œpreä¿æŒä¸€è‡´ï¼Œåœ¨æ¯ç»„ç¿»è½¬å‰ä¼šéå†kæ¬¡æŒ‡å‘è¯¥ç»„çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹
7. ç›´åˆ°end.next==nullï¼Œå³é“¾è¡¨åˆ°è¾¾æœ€åäº†ï¼Œç¿»è½¬ç»“æŸ

**ä»£ç **

```java
public static ListNode reverseKGroup(ListNode head, int k) {
    ListNode dummyNode = new ListNode(0);
    dummyNode.next = head;

    // preè®°å½•æ¯kä¸ªä¸€ç»„ä¸­èµ·å§‹èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹
    ListNode pre = dummyNode;
    // endè®°å½•æ¯kä¸ªä¸€ç»„ä¸­æœ€åçš„èŠ‚ç‚¹
    ListNode end = dummyNode;

    // å½“end.next==nullæ—¶ï¼Œä¹Ÿå°±ç»“æŸäº†
    while (end.next != null) {
        // å…ˆç¡®å®šè¯¥ç»„çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨endè®°å½•
        for (int i = 0; i < k && end != null; i++) {
            end = end.next;
        }
        // end==nullè¯´æ˜åˆ°äº†æœ€åä¸€ç»„ä¸”ä¸è¶³kä¸ªäº†ï¼Œç›´æ¥break
        if (end == null) {
            break;
        }
        // è®°å½•è¯¥ç»„ç¿»è½¬èµ·å§‹ç‚¹
        ListNode start = pre.next;
        // è®°å½•ä¸‹ä¸€ç»„çš„èµ·å§‹ç‚¹ï¼Œé¿å…ç¿»è½¬åé“¾è¡¨æ‰¾ä¸åˆ°
        ListNode next = end.next;
        // æ–­å¼€è¿æ¥(å¦‚æœä¸æ–­å¼€è¿æ¥leetcodeå°±ä¼šè¶…æ—¶)
        end.next = null;

        // ç°åœ¨å¼€å§‹ç¿»è½¬
        // ç¿»è½¬å®Œæˆäº†ï¼Œå¤´èŠ‚ç‚¹ä¸ºendï¼Œå°¾èŠ‚ç‚¹ä¸ºstart
        // é‡æ–°è¿æ¥åˆ°é“¾è¡¨ä¸­å»
        pre.next = reverseNode(start);
        start.next = next; // startæ­¤æ—¶ä¸ºè¯¥ç»„æœ€åä¸€ä¸ªèŠ‚ç‚¹

        // ç»§ç»­ä¸‹ä¸€ç»„
        // preæŒ‡å‘ä¸‹ä¸€ç»„çš„å‰é©±èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¿»è½¬åä¸ºstart
        pre = start;
        // endé»˜è®¤ä¹Ÿæ˜¯æŒ‡å‘ä¸‹ä¸€ç»„çš„å‰é©±èŠ‚ç‚¹
        end = pre;
    }
    return dummyNode.next;
}

public static ListNode reverseNode(ListNode head) {
    // è¿­ä»£æ³•ç¿»è½¬é“¾è¡¨
    ListNode pre = null;
    ListNode cur = head;
    while (cur != null) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    return pre;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ O(n*k)ï¼Œæœ€åæ˜¯k=nï¼ŒO(n^2)
- ç©ºé—´å¤æ‚åº¦ O(1)

#### 3ã€é€’å½’ï¼ˆç¿»è½¬é“¾è¡¨æ–­å¼€è¿æ¥è§£æ³•ï¼‰

[é¢˜è§£1ï¼šã€å¿è€…ç®—æ³•ã€‘å…¨ç½‘æœ€æ¸…æ™°æ˜“æ‡‚çš„é¢˜è§£](https://leetcode.cn/problems/reverse-nodes-in-k-group/solution/ren-zhe-suan-fa-quan-wang-zui-qing-xi-yi-cm7k/)<br />**æ€è·¯**

1. é€’å½’æ³•å…³é”®æ˜¯è¦æ‰¾åˆ°é€’å½’å…¬å¼å’Œé€’å½’ç»“æŸæ¡ä»¶
   1. å…¬å¼ï¼šreverseKGroup(head(ç¬¬1ç»„å¤´èŠ‚ç‚¹), k) = f(head(ç¬¬äºŒç»„å¤´èŠ‚ç‚¹), k)
   2. ç»“æŸæ¡ä»¶ï¼šhead==null || head.next ==null è¿”å›head; ä¸è¶³kä¸ªæ—¶è¿”å›head
2. é€’å½’
   1. æ‰¾åˆ°ç¬¬1ç»„ä¸­ç¬¬kèŠ‚ç‚¹ï¼ŒfirstTail
   2. è®°å½•ä¸‹ä¸€ç»„å¤´èŠ‚ç‚¹nextHead=firstTail.nextï¼›æ–­å¼€ç¬¬1ç»„å’Œåé¢çš„è¿æ¥firstTail.next=null
   3. åè½¬ç¬¬1ç»„ï¼Œæ­¤æ—¶firstTailä¸ºåè½¬åå¤´èŠ‚ç‚¹ï¼Œheadä¸ºå°¾èŠ‚ç‚¹
   4. é€’å½’è°ƒç”¨ä¸‹ä¸€ç»„reverseKGroup(nextHead, k)ï¼›
   5. å°†ç¬¬1ç»„å’Œåé¢ç»„çš„ç»“æœè¿æ¥èµ·æ¥ï¼šhead.next = reverseKGroup(nextHead, k)
   6. è¿”å›firstTailå³å¯

**å›¾è§£æ€è·¯**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660974687283-52ef8684-9b49-46a1-9dff-65e44a955be9.png#averageHue=%23f8f6f6&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=587&id=uaef346cd&originHeight=1256&originWidth=1050&originalType=url&ratio=1&rotation=0&showTitle=false&size=130194&status=error&style=none&taskId=u59120df5-29b0-4121-aa21-2d3d23d6e89&title=&width=490.3333740234375)<br />**ä»£ç **

```java
public static ListNode reverseKGroup3(ListNode head, int k) {
    if (head == null || head.next == null) return head;
    // æ‰¾åˆ°è¦è¯¥ç»„ä¸­çš„é¦–å°¾èŠ‚ç‚¹
    ListNode firstTail = head;
    for (int i = 0; i < k - 1; i++) {
        if (firstTail == null) {
            return head;
        }
        firstTail = firstTail.next;
    }
    // ä¸‹ä¸€ç»„çš„èŠ‚ç‚¹
    ListNode nextHead = firstTail.next;
    // æ–­å¼€è¿æ¥ï¼Œç¿»è½¬
    firstTail.next = null;

    // ç¿»è½¬é“¾è¡¨
    reverseNode(head);
    // ç¿»è½¬åï¼ŒfirstTailå˜æˆå¤´èŠ‚ç‚¹äº†ï¼ŒfirstHeadå˜æˆå°¾èŠ‚ç‚¹äº†

    // é€’å½’ç¿»è½¬ä¸‹ä¸€ç»„çš„èŠ‚ç‚¹
    head.next = reverseKGroup3(nextHead, k);
    return firstTail;
}
public static ListNode reverseNode(ListNode head) {
    // è¿­ä»£æ³•ç¿»è½¬é“¾è¡¨
    ListNode pre = null;
    ListNode cur = head;
    while (cur != null) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    return pre;
}
```

#### 4ã€é€’å½’ï¼ˆç¿»è½¬é“¾è¡¨ä¸æ–­å¼€è¿æ¥ï¼‰

[é¢˜è§£2ï¼šé€’å½’java](https://leetcode.cn/problems/reverse-nodes-in-k-group/solution/di-gui-java-by-reedfan-2/)<br />**æ€è·¯**

1. å…ˆæ‰¾åˆ°ç¬¬kä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªtailï¼ˆè¿™é‡Œçš„tailæ˜¯ä¸‹ä¸€ä¸ªkç»„çš„å¤´èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¬¬kä¸ªèŠ‚ç‚¹ï¼Œä»£ç å†™æ³•å¤§åŒå°å¼‚ï¼‰
2. å…ˆç¿»è½¬å‰kä¸ªå…ƒç´ 
   1. å·¦å¼€å³é—­ï¼Œtailéœ€è¦æ˜¯ç¬¬kä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ reverseNode(ListNode head, ListNode tail)
   2. è¿”å›å€¼ä¸ºç¿»è½¬åçš„å¤´èŠ‚ç‚¹
3. å°†ç¿»è½¬åé“¾è¡¨å¤´è¿æ¥èµ·æ¥
   1. newHead = reverseNode(head, tail)
   2. head.next = newHead
4. è¿”å›newHead

**æ€è·¯å›¾è§£**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1660976410180-023eb0b6-17ca-4172-bb98-ea7800f4f7b1.png#averageHue=%23f8f6f6&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=663&id=u4eddef63&originHeight=1256&originWidth=1050&originalType=url&ratio=1&rotation=0&showTitle=false&size=130194&status=error&style=none&taskId=uad503e5e-1b5e-471d-9d21-364d9862945&title=&width=554.3333740234375)<br />**ä»£ç **

```java
public static ListNode reverseKGroup(ListNode head, int k) {
    if (head == null || head.next == null) return head;
    ListNode tail = head; // tailæ˜¯æ‰¾åˆ°å½“å‰ç»„çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    for (int i = 0; i < k; i++) {
        if (tail == null) { // å‰©ä½™æ•°é‡å°äºkçš„è¯ï¼Œåˆ™ä¸éœ€è¦åè½¬ã€‚
            return head;
        }
        tail = tail.next;
    }
    // åè½¬å‰ k ä¸ªå…ƒç´ 
    ListNode newHead = reverseNode(head, tail);
    // é€’å½’è°ƒç”¨ï¼štailå°±æ˜¯ä¸‹ä¸€ç»„é“¾è¡¨çš„å¤´èŠ‚ç‚¹
    head.next = reverseKGroup(tail, k);
    return newHead;
}
// ç¿»è½¬headåˆ°tailçš„é“¾è¡¨ æ³¨æ„ï¼šç¿»è½¬ä¸ºå·¦é—­åˆå¼€åŒºé—´ï¼Œæ‰€ä»¥æœ¬è½®æ“ä½œçš„å°¾ç»“ç‚¹å…¶å®å°±æ˜¯ä¸‹ä¸€è½®æ“ä½œçš„å¤´ç»“ç‚¹
public static ListNode reverseNode(ListNode head, ListNode tail) {
    // è¿­ä»£æ³•ç¿»è½¬é“¾è¡¨
    ListNode pre = null;
    ListNode cur = head;
    while (cur != tail) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    return pre;
}

// æˆ–è€…æ›´å¥½çš„ç†è§£ç‰ˆæœ¬
public static ListNode reverseKGroup2(ListNode head, int k) {
    if (head == null || head.next == null) return head;
    ListNode tail = head;
    for (int i = 0; i < k - 1 && tail!=null; i++) {
        tail = tail.next;
    }
    if (tail == null) { // å‰©ä½™æ•°é‡å°äºkçš„è¯ï¼Œåˆ™ä¸éœ€è¦åè½¬ã€‚
        return head;
    }
    ListNode next = tail.next;
    // åè½¬å‰ k ä¸ªå…ƒç´ 
    reverseNode(head, next);
    // é€’å½’è°ƒç”¨ï¼štailå°±æ˜¯ä¸‹ä¸€ç»„é“¾è¡¨çš„å¤´èŠ‚ç‚¹
    head.next = reverseKGroup2(next, k);
    return tail;
}
```

### é“¾è¡¨åˆå¹¶

### [21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/) easy

**é¢˜ç›®**

> å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ **å‡åº** é“¾è¡¨å¹¶è¿”å›ã€‚æ–°é“¾è¡¨æ˜¯é€šè¿‡æ‹¼æ¥ç»™å®šçš„ä¸¤ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„ã€‚

#### è§£æ³•1ï¼šåŒæŒ‡é’ˆ+å“‘å…ƒèŠ‚ç‚¹+é¢å¤–çš„é“¾è¡¨ æœ€ä¼˜è§£

**æ€è·¯**

1. åŒæŒ‡é’ˆï¼Œlist1å’Œlist2ï¼›ä¸´æ—¶çš„é“¾è¡¨preï¼›å¼•å…¥å“‘å…ƒèŠ‚ç‚¹ï¼ˆdummyNodeèŠ‚ç‚¹è¿™ä¸ªå ä½ç¬¦ï¼Œå¯ä»¥é¿å…å¤„ç†ç©ºæŒ‡é’ˆçš„æƒ…å†µï¼Œé™ä½ä»£ç çš„å¤æ‚æ€§ï¼Œå¦‚head==nullçš„æƒ…å†µï¼‰
2. éå†é“¾è¡¨ï¼Œæ¯æ¬¡æ¯”å¯¹list1å’Œlist2ï¼Œå¦‚æœlist1çš„å€¼å°äºç­‰äºlist2ï¼Œé‚£ä¹ˆpreçš„nextæŒ‡å‘list1ï¼Œlist1æŒ‡é’ˆå¾€å‰ä¸€æ­¥ï¼Œå¦åˆ™preæŒ‡å‘list2ï¼Œlist2æŒ‡é’ˆå¾€å‰ä¸€æ­¥ï¼›preæŒ‡é’ˆä¹Ÿå¾€å‰ä¸€æ­¥
3. éå†ç»“æŸæ¡ä»¶æ˜¯list1ä¸”lsit2ä¸ä¸ºnull
4. æœ€åè¿˜éœ€è¦åˆ¤æ–­æ˜¯å¦è¿˜å­˜åœ¨list1æˆ–list2ä¸ä¸ºnullçš„æƒ…å†µï¼Œè¯´æ˜è¿˜æœ‰æœªè¢«æ·»åŠ çš„é“¾è¡¨ï¼Œç›´æ¥æ·»åŠ åœ¨preæœ€åé¢
5. æœ€åè¿”å›dummyNode.next

![](https://labuladong.github.io/algo/images/%e9%93%be%e8%a1%a8%e6%8a%80%e5%b7%a7/1.gif#height=328&id=eY9xg&originHeight=720&originWidth=1280&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=&width=582.3333740234375)<br />**ä»£ç **

```java
public static ListNode mergeTwoLists(ListNode list1, ListNode list2) {
    ListNode dummyNode = new ListNode(0);
    ListNode pre = dummyNode;
    while (list1 != null && list2 != null) {
        // å°†å€¼è¾ƒå°çš„çš„èŠ‚ç‚¹æ¥åˆ°preæŒ‡é’ˆ
        if (list1.val <= list2.val) {
            pre.next = list1;
            list1 = list1.next;
        } else {
            pre.next = list2;
            list2 = list2.next;
        }
        // pre æŒ‡é’ˆä¸æ–­å‰è¿›
        pre = pre.next;
    }
    // leftè¿˜æœ‰å…ƒç´ ï¼Œå…¨å±€è¿½åŠ åœ¨åé¢
    if (list1 != null) {
        pre.next = list1;
    }
    // rightè¿˜æœ‰å…ƒç´ ï¼Œå…¨å±€è¿½åŠ åœ¨åé¢
    if (list2 != null) {
        pre.next = list2;
    }
    return dummyNode.next;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œæœ€å·®éœ€è¦éå†æ•´ä¸ªé“¾è¡¨n
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œé¢å¤–çš„é“¾è¡¨ç©ºé—´

#### è§£æ³•2ï¼šé€’å½’

**æ€è·¯**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1661004142596-bf6717a9-96d1-4ea9-ade8-416577e94aab.png#averageHue=%23f1f1f1&clientId=u7adc4e34-b4e1-4&errorMessage=unknown%20error&from=paste&height=57&id=u4549da2f&originHeight=86&originWidth=593&originalType=binary&ratio=1&rotation=0&showTitle=false&size=18455&status=error&style=none&taskId=u6e953b0e-0601-4b8a-aad8-84837e6489d&title=&width=395.3333333333333)<br />**ä»£ç **

```java
public static ListNode mergeTwoLists(ListNode list1, ListNode list2) {
    if (list1 == null) {
        return list2;
    }
    if (list2 == null) {
        return list1;
    }
    if (list1.val <= list2.val) { // list1çš„å€¼ä¸å¤§äºlist2çš„å€¼ï¼Œåˆå¹¶list1[0]å’ŒmergeTwoLists2çš„ç»“æœ
        list1.next = mergeTwoLists(list1.next, list2);
        return list1;
    } else {
        list2.next = mergeTwoLists1(list1, list2.next);
        return list2;
    }
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ï¼šO(m+n) må’Œnä¸ºlist1å’Œlist2çš„é•¿åº¦
- ç©ºé—´å¤æ‚åº¦ï¼šO(m+n) éœ€è¦è°ƒç”¨mergeTwoLists m+næ¬¡

### [**23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ **](https://leetcode.cn/problems/merge-k-sorted-lists/)ï¼ˆå¾—æŒæ¡ hardï¼‰

<https://www.nowcoder.com/practice/65cfde9e5b9b4cf2b6bafa5f3ef33fa6><br />**é¢˜ç›®**

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½å·²ç»æŒ‰å‡åºæ’åˆ—ã€‚
> è¯·ä½ å°†æ‰€æœ‰é“¾è¡¨åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­ï¼Œè¿”å›åˆå¹¶åçš„é“¾è¡¨ã€‚
> **è¾“å…¥ï¼š**lists = [[1,4,5],[1,3,4],[2,6]]
> **è¾“å‡ºï¼š**[1,1,2,3,4,4,5,6]
> **è§£é‡Šï¼š**é“¾è¡¨æ•°ç»„å¦‚ä¸‹ï¼š
> [
> 1->4->5,
> 1->3->4,
> 2->6
> ]
> å°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­å¾—åˆ°ã€‚
> 1->1->2->3->4->4->5->6

#### 1ã€è¾…åŠ©List+æ’åº

**æ€è·¯**

1. ä¸´æ—¶è¾…åŠ©Listï¼Œç”¨äºå°†æ‰€æœ‰çš„é“¾è¡¨ä¸´æ—¶ä¿å­˜èµ·æ¥
2. å¯¹Listä¸­çš„èŠ‚ç‚¹è¿›è¡Œå‡åºæ’åº
3. å°†Listä¸­çš„å…ƒç´ é‡æ–°ç”Ÿæˆä¸€ä¸ªé“¾è¡¨

**ä»£ç **

```java
public static ListNode mergeKLists(ListNode[] lists) {
    // ä¸´æ—¶Listä¿å­˜é“¾è¡¨ä¸­æ‰€æœ‰èŠ‚ç‚¹
    List<ListNode> list = new ArrayList<>();
    for (ListNode node : lists) {
        while (node != null) {
            list.add(node);
            node = node.next;
        }
    }
    // Listå…ƒç´ æ’åº
    list.sort(Comparator.comparingInt(l -> l.val));
    // Listå…ƒç´ ç”Ÿæˆæ–°çš„é“¾è¡¨
    ListNode dummyNode = new ListNode(0);
    ListNode pre = dummyNode;
    for (ListNode n : list) {
        pre.next = n;
        pre = pre.next;
    }
    return dummyNode.next;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)+O(nlogn)+O(n) nè¡¨ç¤ºåˆ—è¡¨ä¸­æ‰€æœ‰é“¾è¡¨çš„ç»“ç‚¹æ•°é‡ï¼Œé¦–å…ˆéå†æ‰€æœ‰ç»“ç‚¹O(N)ï¼Œæ’åºO(NlogN)ï¼Œç”Ÿæˆæ–°çš„é“¾è¡¨O(n)
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œé¢å¤–çš„List

#### 2ã€ä¼˜å…ˆé˜Ÿåˆ— PriorityQueueï¼ˆå †æ’åºï¼‰

**æ€è·¯**

1. å°†æ‰€æœ‰çš„èŠ‚ç‚¹æŒ‰å‡åºéƒ½æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­å»ï¼ˆå°æ ¹å †ï¼Œå †é¡¶å­˜æ”¾æœ€å°å€¼ï¼‰
2. éå†é˜Ÿåˆ—ï¼Œä¸æ–­çš„å–å †é¡¶çš„èŠ‚ç‚¹ï¼Œç„¶åé‡æ–°ç”Ÿæˆæ–°çš„é“¾è¡¨

**ä»£ç **

```java
public static ListNode mergeKLists1(ListNode[] lists) {
    // ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæœ€å°å †
    PriorityQueue<ListNode> queue = new PriorityQueue<>(
        lists.length, (a, b)->(a.val - b.val));
    for (ListNode node : lists) {
        while (node != null) {
            ListNode next = node.next;
            node.next = null; // è¦æ–­å¼€è¿æ¥ï¼Œå¦åˆ™æŠ¥å¾ªç¯å¼•ç”¨ Error - Found cycle in the ListNode
            queue.add(node);
            node = next;
        }
    }
    System.out.println("queueä¸­çš„å…ƒç´ =" + queue);
    // Listå…ƒç´ ç”Ÿæˆæ–°çš„é“¾è¡¨
    ListNode dummyNode = new ListNode(0);
    ListNode pre = dummyNode;
    while (!queue.isEmpty()) {
        pre.next = queue.poll();
        pre = pre.next;
    }
    return dummyNode.next;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦O(Nlogk)ï¼šNè¡¨ç¤ºåˆ—è¡¨ä¸­æ‰€æœ‰é“¾è¡¨çš„ç»“ç‚¹æ•°é‡ï¼Œkè¡¨ç¤ºé“¾è¡¨çš„æ•°é‡ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸è¶…è¿‡ k ä¸ªï¼Œé‚£ä¹ˆæ’å…¥å’Œåˆ é™¤çš„æ—¶é—´ä»£ä»·ä¸º O(logk)ï¼Œè¿™é‡Œæœ€å¤šæœ‰ N ä¸ªç‚¹ï¼Œå¯¹äºæ¯ä¸ªç‚¹éƒ½è¢«æ’å…¥åˆ é™¤å„ä¸€æ¬¡ï¼Œæ•…æ€»çš„æ—¶é—´ä»£ä»·å³æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(Nlogk)
- ç©ºé—´å¤æ‚åº¦O(k)ï¼šä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸è¶…è¿‡ k ä¸ªï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(k)

#### 3ã€ç±»å½’å¹¶æ’åºï¼Œåˆ†æ²»æ³•ï¼ˆæœ€ä¼˜è§£ï¼‰

**æ€è·¯**

1. åˆ†æ²»å°±æ˜¯ä¸æ–­ç¼©å°å…¶è§„æ¨¡ï¼Œå†ä¸æ–­åˆå¹¶æ‰©å¤§çš„è¿‡ç¨‹
2. åˆ’åˆ†ï¼šé¦–å…ˆå°†æ‰€æœ‰çš„é“¾è¡¨æ•°ç»„åˆ’åˆ†ï¼š8åˆ†4ã€4åˆ†2ã€2åˆ†1ï¼Œåªæœ‰1ä¸ªå…ƒç´ æ—¶ï¼Œè®¤ä¸ºæ˜¯æœ‰åºäº†
   1. æ¯æ¬¡å–ä¸­é—´ï¼Œå°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒ
   2. å½“åˆ’åˆ†åˆ°ä¸èƒ½åˆ’åˆ†æ—¶ï¼Œåªæœ‰1ä¸ªå…ƒç´ æ—¶ï¼Œç›´æ¥è¿”å›è¯¥å…ƒç´ 
3. åˆå¹¶ï¼š
   1. 2ä¸ªå…ƒç´ ä¸¤ä¸¤åˆå¹¶æˆæœ‰åº

**æ€è·¯å›¾è§£**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1661012153539-9f57fc0e-7c90-4943-a21e-7fda59ffc13e.png#averageHue=%23f9e297&clientId=u663917c4-e5a6-4&errorMessage=unknown%20error&from=paste&height=412&id=ufb1fe2a1&originHeight=962&originWidth=917&originalType=binary&ratio=1&rotation=0&showTitle=false&size=375728&status=error&style=none&taskId=uc6e85079-37dc-4538-865a-3312f6df7b8&title=&width=392.3333435058594)<br />**ä»£ç **

```java
public static ListNode mergeKLists(ListNode[] lists) {
    return divider(lists, 0, lists.length - 1);
}
// åˆ†
// é€šè¿‡midå°†æ•°ç»„ä¸€åˆ†ä¸ºäºŒï¼Œå¹¶ä¸æ–­ç¼©å°è§„æ¨¡ï¼Œå½“è§„æ¨¡ä¸º1æ—¶è¿”å›å¹¶å¼€å§‹åˆå¹¶
// é€šè¿‡åˆå¹¶ä¸¤ä¸ªé“¾è¡¨ï¼Œä¸æ–­å¢å¤§å…¶è§„æ¨¡ï¼Œæ•´ä½“çœ‹å°±æ˜¯ä¸æ–­ç¼©å°-æœ€åä¸æ–­æ‰©å¤§çš„è¿‡ç¨‹
public static ListNode divider(ListNode[] lists, int start, int end) {
    // è¾¹ç•Œ
    if (start > end) return null;
    // åªæœ‰1ä¸ªå…ƒç´ æ—¶ï¼Œè®¤ä¸ºå·²ç»æœ‰åº
    if (start == end) return lists[start];

    // ä¸­å¿ƒç‚¹
    int mid = start + (end - start) / 2;

    // åˆ†ï¼Œä¸å®šä¹‰éå†æ›´çœç©ºé—´
    //        ListNode left = divider(lists, start, mid);
    //        ListNode right = divider(lists, mid + 1, end);

    // æ²»
    return merge(divider(lists, start, mid), divider(lists, mid + 1, end));
}
// æ²» åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
public static ListNode merge(ListNode list1, ListNode list2) {
    ListNode dummyNode = new ListNode(0);
    ListNode pre = dummyNode;
    while (list1 != null && list2 != null) {
        if (list1.val <= list2.val) {
            pre.next = list1;
            list1 = list1.next;
        } else {
            pre.next = list2;
            list2 = list2.next;
        }
        pre = pre.next;
    }
    if (list1 == null) pre.next = list2;
    if (list2 == null) pre.next = list1;
    return dummyNode.next;
}
```

**å¤æ‚åº¦**

- æ—¶é—´å¤æ‚åº¦ï¼šO(log2n) å…¶ä¸­nä¸ºæ‰€æœ‰é“¾è¡¨çš„æ€»èŠ‚ç‚¹æ•°ï¼Œåˆ†æ²»ä¸ºäºŒå‰æ ‘å‹é€’å½’ï¼Œæœ€åæƒ…å†µä¸‹äºŒå‰æ ‘æ¯å±‚åˆå¹¶éƒ½æ˜¯O(n)ä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºåˆ†æ²»ä¸€å…±æœ‰O(logn)å±‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(log2n)ï¼Œæœ€åæƒ…å†µä¸‹é€’å½’log2nkå±‚ï¼Œéœ€è¦log2nçš„é€’å½’æ ˆ

## é“¾è¡¨ç¯é—®é¢˜

### [141. ç¯å½¢é“¾è¡¨(é“¾è¡¨å¦æœ‰ç¯)](https://leetcode.cn/problems/linked-list-cycle/) easy

**é¢˜ç›®**

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚
>
> å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’Â ã€‚ä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚
>
> å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯Â ï¼Œåˆ™è¿”å› true ã€‚ å¦åˆ™ï¼Œè¿”å› false ã€‚

#### è§£æ³•1ï¼šå“ˆå¸Œè¡¨æ³•

**æ€è·¯**

1. å€ŸåŠ©HashSetä¸èƒ½å­˜é‡å¤èŠ‚ç‚¹çš„ç‰¹æ€§
2. æ¯æ¬¡éå†é“¾è¡¨æ—¶å°†èŠ‚ç‚¹æ·»åŠ åˆ°hashsetä¸­å»
   1. å¦‚æœæ·»åŠ æˆåŠŸè¡¨ç¤ºæ²¡æœ‰ç¯
   2. å¦‚æœæ·»åŠ å¤±è´¥äº†è¡¨ç¤ºæœ‰ç¯ï¼Œè¯¥èŠ‚ç‚¹å°±æ˜¯ç¯çš„å…¥å£
3. å¦åˆ™æ²¡æœ‰ç¯

```java
public static boolean hasCycle1(ListNode head) {
    // è¾¹ç•Œ
    if (head == null || head.next == null) return false;
    HashSet<ListNode> set = new HashSet<>();
    while (head != null) {
        if (!set.add(head)) {
            System.out.println("æœ‰ç¯ï¼Œç¯èŠ‚ç‚¹=" + head.val);
            return true;
        }
        head = head.next;
    }
    return false;
    }
}
```

#### è§£æ³•2ï¼šå¿«æ…¢æŒ‡é’ˆï¼ˆfastæ¯”slowå¿«2æ­¥ï¼‰

**æ€è·¯**

1. é‡‡ç”¨å¿«æ…¢æŒ‡é’ˆæ³•ï¼Œfastè¡¨ç¤ºå¿«æŒ‡é’ˆï¼Œslowè¡¨ç¤ºæ…¢æŒ‡é’ˆ
2. æ¯å½“æ…¢æŒ‡é’ˆ slow å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ fast å°±å‰è¿›ä¸¤æ­¥
3. å¦‚æœ fast æœ€ç»ˆé‡åˆ°ç©ºæŒ‡é’ˆï¼Œè¯´æ˜é“¾è¡¨ä¸­æ²¡æœ‰ç¯ï¼›å¦‚æœ fast æœ€ç»ˆå’Œ slow ç›¸é‡ï¼Œé‚£è‚¯å®šæ˜¯ fast è¶…è¿‡äº† slow ä¸€åœˆï¼Œè¯´æ˜é“¾è¡¨ä¸­å«æœ‰ç¯ã€‚

> è‹¥æœ‰ç¯ï¼Œä¸¤æŒ‡é’ˆä¸€å®šä¼šç›¸é‡ã€‚å› ä¸ºæ¯èµ° 1 è½®ï¼Œfast ä¸ slow çš„é—´è· +1ï¼Œfast ç»ˆä¼šè¿½ä¸Š slowï¼›

```java
public static boolean hasCycle(ListNode head) {
    // fastæ¯”slowå¿«2æ­¥
    ListNode slow = head;
    ListNode fast = head;
    while (fast != null && fast.next != null) { 
        slow = slow.next;
        fast = fast.next.next;
        if (slow == fast) {
            return true;
        }
    }
    return false;
}
```

### [142. ç¯å½¢é“¾è¡¨ II(é“¾è¡¨æœ‰ç¯çš„å…¥å£)](https://leetcode.cn/problems/linked-list-cycle-ii/) medium

#### è§£æ³•1ï¼šå“ˆå¸Œè¡¨æ³•

**æ€è·¯**

1. éå†é“¾è¡¨ï¼Œå°†å…ƒç´ æ·»åŠ åˆ°HashSetä¸­
2. æ·»åŠ æˆåŠŸåˆ™ç»§ç»­èµ°ï¼›å¦‚æœæ·»åŠ å¤±è´¥äº†ï¼Œè¯´æ˜å‡ºç°äº†ç¯ï¼Œæ­¤æ—¶è¯¥èŠ‚ç‚¹å°±æ˜¯ç¯çš„å…¥å£

**ä»£ç **

```java
public ListNode EntryNodeOfLoop3(ListNode pHead) {
    HashSet<ListNode> set = new HashSet<>();
    while (pHead != null) {
        if (!set.add(pHead)) { // falseï¼Œä¸ºæ·»åŠ æˆåŠŸï¼Œé‚£å°±æ˜¯å·²ç»å­˜åœ¨äº†èŠ‚ç‚¹ï¼Œå‡ºç°äº†ç¯
            return pHead;
        }
        pHead = pHead.next;
    }
    return null;
}
```

#### è§£æ³•2ï¼šå¿«æ…¢æŒ‡é’ˆ+ä¸´æ—¶tempæ³•  æœ€ä¼˜è§£

**æ€è·¯**

1. åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œæœ‰ç¯æ‰ç»§ç»­ä¸‹ä¸€æ­¥
2. å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä»»ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œç„¶åè®©å®ƒä¿©ä»¥ç›¸åŒé€Ÿåº¦å‰è¿›ï¼Œå†æ¬¡ç›¸é‡æ—¶æ‰€åœ¨çš„èŠ‚ç‚¹ä½ç½®å°±æ˜¯ç¯å¼€å§‹çš„ä½ç½®ã€‚

**åŸç†**<br />å‡è®¾å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆ slow èµ°äº† k æ­¥ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆ fast ä¸€å®šèµ°äº† 2k æ­¥<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662393793720-681d1232-52dd-4601-9bda-6467dad29b4a.png#averageHue=%23f8f8f1&clientId=u8ad0743c-0fb2-4&errorMessage=unknown%20error&from=paste&height=334&id=u1924159d&originHeight=908&originWidth=1660&originalType=binary&ratio=1&rotation=0&showTitle=false&size=782627&status=error&style=none&taskId=u81b1f9a9-5048-4793-8a9c-41ef8e3f4e3&title=&width=611.3333740234375)<br />fast ä¸€å®šæ¯” slow å¤šèµ°äº† k æ­¥ï¼Œè¿™å¤šèµ°çš„ k æ­¥å…¶å®å°±æ˜¯ fast æŒ‡é’ˆåœ¨ç¯é‡Œè½¬åœˆåœˆï¼Œæ‰€ä»¥ k çš„å€¼å°±æ˜¯ç¯é•¿åº¦çš„ã€Œæ•´æ•°å€ã€ã€‚<br />å‡è®¾ç›¸é‡ç‚¹è·ç¯çš„èµ·ç‚¹çš„è·ç¦»ä¸º mï¼Œé‚£ä¹ˆç»“åˆä¸Šå›¾çš„ slow æŒ‡é’ˆï¼Œç¯çš„èµ·ç‚¹è·å¤´ç»“ç‚¹ head çš„è·ç¦»ä¸º k - mï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä» head å‰è¿› k - m æ­¥å°±èƒ½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚<br />å·§çš„æ˜¯ï¼Œå¦‚æœä»ç›¸é‡ç‚¹ç»§ç»­å‰è¿› k - m æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚å› ä¸ºç»“åˆä¸Šå›¾çš„ fast æŒ‡é’ˆï¼Œä»ç›¸é‡ç‚¹å¼€å§‹èµ°kæ­¥å¯ä»¥è½¬å›åˆ°ç›¸é‡ç‚¹ï¼Œé‚£èµ° k - m æ­¥è‚¯å®šå°±èµ°åˆ°ç¯èµ·ç‚¹äº†ï¼š<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662393848722-a8095844-d632-43cc-980c-47a864446e7a.png#averageHue=%23f9f8f2&clientId=u8ad0743c-0fb2-4&errorMessage=unknown%20error&from=paste&height=338&id=u57fccf72&originHeight=882&originWidth=1608&originalType=binary&ratio=1&rotation=0&showTitle=false&size=725010&status=error&style=none&taskId=u5567ff2a-18fc-411f-b4b5-c9bf6417c22&title=&width=616.3333740234375)<br />**ä»£ç **

```java
public ListNode detectCycle(ListNode head) {
    ListNode fast = head;
    ListNode slow = head;
    // 1. å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°æ˜¯å¦æœ‰ç¯
    while (fast != null && fast.next != null) {
        fast = fast.next.next;
        slow = slow.next;
        if (slow == fast) { // æœ‰ç¯
            // 2. æ‰¾åˆ°ç¯äº†ï¼Œç”¨æ–°çš„ä¸´æ—¶æŒ‡é’ˆä»headå¼€å§‹ï¼Œå’Œslowä¸€èµ·èµ°ï¼Œæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œç›¸é‡ç‚¹å°±æ˜¯ç¯çš„å…¥å£
            fast = head;
            while (fast != slow) {
                slow = slow.next;
                fast = fast.next;
            }
            return fast;
        }
    }
    return null;
}
```

## é“¾è¡¨åˆ é™¤é—®é¢˜

### [19. åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)

**é¢˜ç›®**

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n_ _ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚
> è¾“å…¥ï¼šhead = [1,2,3,4,5], n = 2
> è¾“å‡ºï¼š[1,2,3,5]

#### è§£æ³•1ï¼šè®¡ç®—é“¾è¡¨é•¿åº¦+å“‘å…ƒèŠ‚ç‚¹åˆ é™¤

**æ€è·¯**

1. æ·»åŠ å“‘å…ƒèŠ‚ç‚¹dummyNodeï¼Œè§£å†³å„ç§åˆ¤ç©ºçš„æƒ…å†µ
2. å…ˆè®¡ç®—é“¾è¡¨çš„é•¿åº¦lenï¼Œæ³¨æ„n>lençš„æƒ…å†µ
3. éå†é“¾è¡¨åˆ°`len-n`ï¼Œæ‰¾åˆ°å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹(nä»0å¼€å§‹çš„è¯ä¸ºlen-n-1ï¼Œä»1å¼€å§‹çš„è¯å°±æ˜¯len-n)
4. æ‰¾åˆ°å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ é™¤èŠ‚ç‚¹

```java
// è®¡ç®—é“¾è¡¨é•¿åº¦ï¼Œå“‘å…ƒèŠ‚ç‚¹
public static ListNode removeNthFromEnd(ListNode head, int n) {
    ListNode dummyNode = new ListNode(-1, head);
    // é¦–å…ˆè®¡ç®—é“¾è¡¨çš„é•¿åº¦
    int len = getLength(dummyNode.next);
    System.out.println("é“¾è¡¨é•¿åº¦ len=" + len + ", n=" + n);

    // nè¶…è¿‡lenï¼Œè¿”å›null
    if (n > len) {
        return null;
    }

    // å†éå†é“¾è¡¨ï¼Œæ‰¾åˆ°å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼šlen-nä½ç½®çš„èŠ‚ç‚¹åˆšå¥½æ˜¯å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹
    ListNode pre = dummyNode; // ç”±äºé‡‡ç”¨äº†dummyNodeéœ€è¦åŠ ä¸ª1ï¼Œä¸ºlen - n - 1ï¼›ä¸ç”¨dummyNodeçš„è¯ï¼Œpreå¯èƒ½ä¸ºç©ºï¼ˆå½“é“¾è¡¨åªæœ‰1ä¸ªèŠ‚ç‚¹æ—¶ï¼‰
    for (int i = 0; i < len - n; i++) {
        pre = pre.next;
    }
    System.out.println("é“¾è¡¨å€’æ•°ç¬¬" + n + "ä¸ªèŠ‚ç‚¹çš„å‰1ä¸ªèŠ‚ç‚¹=" + pre);

    // åˆ é™¤èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å“‘å…ƒèŠ‚ç‚¹ï¼Œåœ¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶pre.nextä¼šä¸ºç©ºï¼Œæ³¡NPE
    pre.next = pre.next.next; // pre.nextè¦åˆ¤ç©ºå—ï¼Ÿ(å…¨åKæ­Œé—®çš„)
    return dummyNode.next;
}
```

**å¤æ‚åº¦**<br />æ—¶é—´å¤æ‚åº¦ï¼šO(n)+O(len-n)ï¼Œå¤šäº†éå†å…¨é“¾è¡¨çš„æ¬¡æ•°<br />ç©ºé—´å¤æ‚åº¦ï¼šO(1)

#### è§£æ³•2ï¼šå¿«æ…¢æŒ‡é’ˆæ³•

**æ€è·¯**

1. æ·»åŠ å“‘å…ƒèŠ‚ç‚¹dummyNodeæŒ‡å‘headå‰é¢(å¼•å…¥å“‘å…ƒèŠ‚ç‚¹çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢né•¿åº¦ç­‰äºé“¾è¡¨é•¿åº¦æ—¶å¯¼è‡´çš„fastä¸ºnull)
2. åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ³•ï¼Œslowæ…¢æŒ‡é’ˆï¼Œfastå¿«æŒ‡é’ˆ;æœ€å¼€å§‹slowå’Œfastéƒ½æŒ‡å‘dummyNode
3. å…ˆè®©fastå…ˆèµ°næ­¥ï¼Œé‚£ä¹ˆfastå’Œslowå°±å·®äº†næ­¥ï¼›è¿™æ—¶éœ€è¦åˆ¤æ–­fastæ˜¯å¦ä¸ºnullï¼ˆfastéå†è¿‡ç¨‹ä¸­å’Œnæ­¥èµ°å®Œéƒ½éœ€è¦åˆ¤æ–­ï¼‰
4. å½“fast==nullæ—¶ï¼Œslowåœç•™åœ¨å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ä¸Šï¼›ç”±äºåˆ é™¤èŠ‚ç‚¹è¦æ‰¾åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥åˆ¤æ–­æ¡ä»¶ä¸ºfast.next!=null
5. æ­¤æ—¶å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ä¸ºslowï¼Œåˆ é™¤ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å³å¯

**ä»£ç 1**

```java
public static ListNode removeNthFromEnd(ListNode head, int n) {
    if (head == null) return null;
    ListNode dummyNode = new ListNode(-1, head);
    // å®šä¹‰å¿«æ…¢æŒ‡é’ˆ
    ListNode fast = dummyNode;
    // å¿«æŒ‡é’ˆå…ˆè·‘næ­¥
    for (int i = 0; i < n && fast != null; i++) {
        fast = fast.next;
    }
    System.out.println("fastè·‘äº†" + n + "æ­¥ï¼Œfast=" + fast);
    if (fast == null) { // fastä¸ºnullï¼Œè¯´æ˜nå¤§äºé“¾è¡¨é•¿åº¦äº†
        return null;
    }
    ListNode slow = dummyNode;
    // slowå’Œfastä¸€èµ·è·‘ï¼Œfast=nullæ—¶ï¼ŒslowæŒ‡å‘å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œè¦åˆ é™¤çš„è¯éœ€è¦æ‰¾åˆ°å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹
    while (fast.next != null) { // å¦‚æœæ˜¯fast!=nullï¼Œåªæ˜¯æ‰¾åˆ°å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹
        fast = fast.next;
        slow = slow.next;
    }
    System.out.println("slow=" + slow);
    slow.next = slow.next.next; // slow.nextä¸ä¼šä¸ºnullå—ï¼ˆå…¨åkæ­Œï¼‰ï¼Œä¸éœ€è¦å‰é¢faståˆ¤æ–­äº†
    return dummyNode.next;
}
```

**ä»£ç 2ï¼šæœ€ä¼˜è§£**

> å…ˆæ‰¾å€’æ•°ç¬¬nä¸ªå‰èŠ‚ç‚¹ï¼Œåˆ é™¤

```java
public ListNode removeNthFromEnd(ListNode head, int n) {
    // è™šæ‹Ÿå¤´ç»“ç‚¹
    ListNode dummy = new ListNode(-1);
    dummy.next = head;
    // åˆ é™¤å€’æ•°ç¬¬ n ä¸ªï¼Œè¦å…ˆæ‰¾å€’æ•°ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹
    ListNode x = findFromEnd(dummy, n + 1);
    // åˆ æ‰å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹
    x.next = x.next.next;
    return dummy.next;
}
// è¿”å›é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹
ListNode findFromEnd(ListNode head, int k) {
    ListNode p1 = head;
    // p1 å…ˆèµ° k æ­¥
    for (int i = 0; i < k; i++) {
        p1 = p1.next;
    }
    ListNode p2 = head;
    // p1 å’Œ p2 åŒæ—¶èµ° n - k æ­¥
    while (p1 != null) {
        p2 = p2.next;
        p1 = p1.next;
    }
    // p2 ç°åœ¨æŒ‡å‘ç¬¬ n - k + 1 ä¸ªèŠ‚ç‚¹ï¼Œå³å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹
    return p2;
}
```

**å¤æ‚åº¦**<br />æ—¶é—´å¤æ‚åº¦ï¼šO(n)<br />ç©ºé—´å¤æ‚åº¦ï¼šO(1)<br />**æ³¨æ„**

1. å¼•å…¥å“‘å…ƒèŠ‚ç‚¹ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢nç­‰äºé“¾è¡¨é•¿åº¦ï¼Œå¦‚æœslowå’Œfastéƒ½æŒ‡å‘headï¼Œè·‘äº†næ­¥åï¼ŒfastæŒ‡å‘nulläº†
2. è·‘næ­¥ä»0å¼€å§‹è®¡ç®—çš„
3. fastå…ˆè·‘næ­¥åï¼Œ slowå’Œfastä¸€èµ·è·‘ï¼Œå½“fastä¸ºnullæ—¶ï¼Œslowå¤„äºå€’æ•°ç¬¬nä¸ªä½ç½®ï¼Œå¦‚æœè¦åˆ é™¤çš„è¯ï¼Œéœ€è¦æ‰¾åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æ”¹æˆåˆ¤æ–­æ¡ä»¶fast.next!=nullå³å¯æ‰¾åˆ°è¦åˆ é™¤çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶ååˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹å³å¯

### [83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ï¼ˆåˆ é™¤é‡å¤ï¼Œä¿ç•™ä¸€ä¸ªé‡å¤å…ƒç´ ï¼‰](https://leetcode.cn/problems/remove-duplicates-from-sorted-list/)

**é¢˜ç›®**

> ç»™å®šä¸€ä¸ªå·²æ’åºçš„é“¾è¡¨çš„å¤´ head ï¼Œ åˆ é™¤æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ ã€‚è¿”å› å·²æ’åºçš„é“¾è¡¨ ã€‚

**å›¾è§£**<br />![](https://labuladong.github.io/algo/images/%e6%95%b0%e7%bb%84%e5%8e%bb%e9%87%8d/2.gif#height=237&id=m3SUP&originHeight=720&originWidth=1280&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=&width=422)<br />**ä»£ç 1ï¼š**

```java
public ListNode deleteDuplicates(ListNode head) {
    if (head == null) return null;
    ListNode slow = head, fast = head;
    while (fast != null) {
        if (fast.val != slow.val) {
            // nums[slow] = nums[fast];
            slow.next = fast;
            // slow++;
            slow = slow.next;
        }
        // fast++
        fast = fast.next;
    }
    // æ–­å¼€ä¸åé¢é‡å¤å…ƒç´ çš„è¿æ¥
    slow.next = null;
    return head;
}
```

**ä»£ç 2ï¼šé‡åˆ°é‡å¤çš„èŠ‚ç‚¹å°±åˆ é™¤**

1. æŒ‡å®š cur æŒ‡é’ˆæŒ‡å‘å¤´éƒ¨ head
2. cur.next!=nullä¸ºå¾ªç¯æ¡ä»¶
3. å½“ cur.val å’Œ cur.next.val ç›¸ç­‰æ—¶è¯´æ˜éœ€è¦å»é‡ï¼Œåˆ™å°† cur çš„ä¸‹ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªçš„ä¸‹ä¸€ä¸ªï¼Œè¿™æ ·å°±èƒ½è¾¾åˆ°å»é‡å¤çš„æ•ˆæœ
4. å¦‚æœä¸ç›¸ç­‰åˆ™ cur ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ç»§ç»­å¾ªç¯

```java
public ListNode deleteDuplicates(ListNode head) {
    if (head == null) {
        return head;
    }
    ListNode cur = head;
    while (cur.next != null) {
        if (cur.val == cur.next.val) {
            cur.next = cur.next.next;
        } else {
            cur = cur.next;
        }
    }
    return head;
}
```

### åˆ é™¤æœ‰åºé“¾è¡¨ä¸­é‡å¤å…ƒç´ -é‡å¤å…ƒç´ ä¸€ä¸ªä¹Ÿä¸ä¿ç•™

```java
public ListNode deleteDuplicates2(ListNode head) {
    ListNode dummyNode = new ListNode(-1);
    dummyNode.next = head;

    ListNode pre = dummyNode; // å‰ä¸€ä¸ªèŠ‚ç‚¹
    ListNode cur = dummyNode.next;

    while (cur != null && cur.next != null) { // éå†åˆ°æœ€åä¸€ä¸ªå…ƒç´ 
        if (cur.val == cur.next.val) { // å­˜åœ¨ç›¸åŒçš„èŠ‚ç‚¹
            // ç»§ç»­æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸ç›¸åŒçš„èŠ‚ç‚¹
            while (cur.next != null && cur.val == cur.next.val) {
                cur = cur.next;
            }
            pre.next = cur.next; // æ–­å¼€ç›¸åŒèŠ‚ç‚¹çš„
        } else {// å­˜åœ¨ä¸ç›¸åŒçš„èŠ‚ç‚¹
            pre = cur;
        }
        cur = cur.next;
    }
    System.out.println("éå†åï¼Œpre=" + pre + ", cur=" + cur);
    return dummyNode.next;
}
```

## è·å–é“¾è¡¨èŠ‚ç‚¹

### [**è·å–é“¾è¡¨ä¸­å€’æ•°æœ€åkä¸ªç»“ç‚¹**](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

[BM8 é“¾è¡¨ä¸­å€’æ•°æœ€åkä¸ªç»“ç‚¹](https://www.nowcoder.com/practice/886370fe658f41b498d40fb34ae76ff9)<br />**é¢˜ç›®**

> è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º n çš„é“¾è¡¨ï¼Œè®¾é“¾è¡¨ä¸­çš„å…ƒç´ çš„å€¼ä¸º ai ï¼Œè¿”å›è¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚
> å¦‚æœè¯¥é“¾è¡¨é•¿åº¦å°äºkï¼Œè¯·è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º 0 çš„é“¾è¡¨ã€‚
> è¦æ±‚ï¼šç©ºé—´å¤æ‚åº¦ O(n)ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)
> è¿›é˜¶ï¼šç©ºé—´å¤æ‚åº¦ O(1)ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)
> è¾“å…¥:{1,2,3,4,5},2
> è¿”å›å€¼:{4,5}
> è¯´æ˜ï¼šè¿”å›å€’æ•°ç¬¬2ä¸ªèŠ‚ç‚¹4ï¼Œç³»ç»Ÿä¼šæ‰“å°åé¢æ‰€æœ‰çš„èŠ‚ç‚¹æ¥æ¯”è¾ƒã€‚

#### è§£æ³•1ï¼šè®¡ç®—é“¾è¡¨é•¿åº¦lengthï¼Œå¾ªç¯åˆ°length-kï¼Œå°±è·å–åˆ°äº†

> è®¡ç®—é“¾è¡¨é•¿åº¦lengthï¼Œå¾ªç¯åˆ°length-kï¼Œå°±è·å–åˆ°äº†

#### è§£æ³•2ï¼šå¿«æ…¢æŒ‡é’ˆ

> leftå’Œrightéƒ½æŒ‡å‘headï¼Œrightå…ˆèµ°kæ­¥ï¼›ç„¶åleftå’Œrightä¸åœåœ°å¾€å‰èµ°ï¼Œç›´åˆ°rightä¸ºnullï¼Œleftå³ä¸ºå€’æ•°kèŠ‚ç‚¹

**ä»£ç **ï¼š<br />æ³¨æ„ï¼šheadåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œk=1çš„æƒ…å†µ

```java
public ListNode getKthFromEnd(ListNode head, int k) {
    // åŒæŒ‡é’ˆ
    ListNode fast = head;
    for (int i = 0; i < k && fast != null; i++) {
        fast = fast.next;
    }
    // ä¸èƒ½åŠ ä¸Šè¿™ä¸ªï¼ŒåŠ äº†è¿™ä¸ªheadåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œk=1æ—¶ï¼Œè¿”å›çš„æ˜¯null
    // if (right == null) {
    //     return head;
    // }
    ListNode slow = head;
    // å¿«æ…¢ä¸€èµ·è·‘
    while (fast != null) {
        fast = fast.next;
        slow = slow.next;
    }
    return slow;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸ºé“¾è¡¨çš„é•¿åº¦ã€‚éœ€è¦ä¸¤æ¬¡éå†ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### [876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹](https://leetcode.cn/problems/middle-of-the-linked-list/)

**é¢˜ç›®**

> ç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹ä¸º head çš„éç©ºå•é“¾è¡¨ï¼Œè¿”å›é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€‚
> å¦‚æœæœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹ã€‚

#### è§£æ³•1ï¼šå¿«æ…¢æŒ‡é’ˆ ä¸èƒ½ç”¨dummy

**æ€è·¯**

1. è®©ä¸¤ä¸ªæŒ‡é’ˆ slow å’Œ fast åˆ†åˆ«æŒ‡å‘é“¾è¡¨å¤´ç»“ç‚¹ head
2. æ¯å½“æ…¢æŒ‡é’ˆ slow å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ fast å°±å‰è¿›ä¸¤æ­¥ï¼Œè¿™æ ·ï¼Œå½“ fast èµ°åˆ°é“¾è¡¨æœ«å°¾æ—¶ï¼Œslow å°±æŒ‡å‘äº†é“¾è¡¨ä¸­ç‚¹
3. å¦‚æœé“¾è¡¨é•¿åº¦ä¸ºå¶æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸­ç‚¹æœ‰ä¸¤ä¸ªçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿™ä¸ªè§£æ³•è¿”å›çš„èŠ‚ç‚¹æ˜¯é åçš„é‚£ä¸ªèŠ‚ç‚¹ã€‚
4. ä¸èƒ½ç”¨dummyï¼Œç”¨äº†dummyçš„è¯ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦æ˜¯å¶æ•°ï¼Œè¿”å›çš„æ˜¯ä¸¤ä¸ªä¸­é—´èŠ‚ç‚¹é å‰çš„èŠ‚ç‚¹ï¼Œå°±ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚äº†

**ä»£ç **

```java
public static ListNode middleNode(ListNode head) {
    // ä¸èƒ½ç”¨dummyï¼Œç”¨äº†dummyçš„è¯ï¼Œå¦‚æœæ˜¯å¶æ•°å°±ä¼šè¿”å›ä¸­é—´2ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ª
//        ListNode dummy = new ListNode(0);
    ListNode slow = head;
    ListNode fast = head;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}

// å½“é“¾è¡¨é•¿åº¦ä¸ºå¶æ•°æ—¶ï¼Œä¸Šé¢æ˜¯ä¸­ç‚¹æ˜¯é“¾è¡¨ä¸­å¿ƒé åçš„
// æ·»åŠ å“‘å…ƒèŠ‚ç‚¹ï¼Œå¯å®ç°é“¾è¡¨ä¸­å¿ƒé å‰
static ListNode middle1(ListNode node) {
    ListNode dummy = new ListNode(0);
    dummy.next = node;
    ListNode slow = dummy;
    ListNode fast = dummy;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```

## å…¶ä»–é“¾è¡¨é¢˜

### [160. ç›¸äº¤é“¾è¡¨(ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹)](https://leetcode.cn/problems/intersection-of-two-linked-lists/)

[ç‰›å®¢ç½‘ï¼šä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±ç»“ç‚¹](https://www.nowcoder.com/practice/6ab1d9a29e88450685099d45c9e31e46)<br />**é¢˜ç›®**

> ç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹Â headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨ä¸å­˜åœ¨ç›¸äº¤èŠ‚ç‚¹ï¼Œè¿”å› null ã€‚
> å›¾ç¤ºä¸¤ä¸ªé“¾è¡¨åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ï¼š
> ![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662482344496-337cc5b0-ba5a-4165-aef0-dbc41ae37265.png#averageHue=%23f9f9f9&clientId=u13b5141e-df4b-4&errorMessage=unknown%20error&from=paste&height=133&id=u00d3c30b&originHeight=241&originWidth=742&originalType=url&ratio=1&rotation=0&showTitle=false&size=19809&status=error&style=none&taskId=u6ab6efa3-da45-4954-b37e-4a82bc95283&title=&width=410)

#### è§£æ³•1ï¼šå“ˆå¸Œè¡¨

**æ€è·¯**

1. ç”¨ä¸€ä¸ªHashSetï¼Œå…ˆæŠŠpHead1çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å­˜å‚¨è¿›å»
2. å†éå†pHead2ï¼Œå¦‚æœå­˜åœ¨addä¸è¿›å»çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ç›¸äº¤çš„èŠ‚ç‚¹ï¼›å¦åˆ™å°±æ˜¯ä¸å­˜åœ¨ç›¸äº¤

**ä»£ç **

```java
public ListNode FindFirstCommonNode2(ListNode pHead1, ListNode pHead2) {
    HashSet<ListNode> set = new HashSet<>();
    // å°†pHead1å…¨éƒ¨å­˜åˆ°set
    while (pHead1 != null) {
        set.add(pHead1);
        pHead1 = pHead1.next;
    }
    // éå†pHead2ï¼Œæ·»åŠ åˆ°setï¼Œå¦‚æœå­˜åœ¨ç›¸åŒå…ƒç´ ï¼Œé‚£ä¹ˆå°±æ˜¯å…¬å…±éƒ¨åˆ†ï¼›å¦åˆ™ä¸å­˜åœ¨å…¬å…±éƒ¨åˆ†
    while (pHead2 != null) {
        if (!set.add(pHead2)) { // falseè¡¨ç¤ºå·²ç»å­˜åœ¨ç›¸åŒå…ƒç´ 
            return pHead2;
        }
        pHead2 = pHead2.next;
    }
    return null;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ O(m+n) må’Œnä¸ºä¸¤æ¡é“¾è¡¨é•¿åº¦ï¼Œæœ€å·®æœ€åä¸€ä¸ªå…ƒç´ ç›¸äº¤
- ç©ºé—´å¤æ‚åº¦ O(m+n-1) må’Œnä¸ºä¸¤æ¡é“¾è¡¨é•¿åº¦ï¼Œæœ€å·®æœ€åä¸€ä¸ªå…ƒç´ ç›¸äº¤

#### è§£æ³•2ï¼šåŒæŒ‡é’ˆï¼Œèµ°å®ŒA+B æœ€ä¼˜è§£

**æ€è·¯**

1. åŒæŒ‡é’ˆp1å’Œp2ï¼Œåˆ†åˆ«æŒ‡å‘headAå’ŒheadB
2. å¦‚æœç”¨ä¸¤ä¸ªæŒ‡é’ˆ p1 å’Œ p2 åˆ†åˆ«åœ¨ä¸¤æ¡é“¾è¡¨ä¸Šå‰è¿›ï¼Œå¹¶ä¸èƒ½åŒæ—¶èµ°åˆ°å…¬å…±èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ— æ³•å¾—åˆ°ç›¸äº¤èŠ‚ç‚¹ c1
3. æˆ‘ä»¬å¯ä»¥è®© p1 éå†å®Œé“¾è¡¨ A ä¹‹åå¼€å§‹éå†é“¾è¡¨ Bï¼Œè®© p2 éå†å®Œé“¾è¡¨ B ä¹‹åå¼€å§‹éå†é“¾è¡¨ Aï¼Œè¿™æ ·ç›¸å½“äºã€Œé€»è¾‘ä¸Šã€ä¸¤æ¡é“¾è¡¨æ¥åœ¨äº†ä¸€èµ·ã€‚å¦‚æœè¿™æ ·è¿›è¡Œæ‹¼æ¥ï¼Œå°±å¯ä»¥è®© p1 å’Œ p2 åŒæ—¶è¿›å…¥å…¬å…±éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯åŒæ—¶åˆ°è¾¾ç›¸äº¤èŠ‚ç‚¹ c1

**ç–‘é—®**<br />å¦‚æœä¸¤æ¡é“¾è¡¨ä¸ç›¸äº¤ï¼Œä¼šæ­»å¾ªç¯å—ï¼Ÿçœ‹ä¸Šå›¾ï¼Œç›¸å½“äºp1èµ°åˆ°b3ï¼Œp2èµ°åˆ°a2ï¼Œå¦‚æœä¸¤æ¡é“¾ä¸ç›¸äº¤çš„è¯ï¼Œp1.next=nullä¸”p2.next=nullï¼Œwhileå¾ªç¯å°±é€€å‡ºäº†

> a1â†’a2â†’c1â†’c2â†’c3â†’b1â†’b2â†’b3â†’c1
> b1â†’b2â†’b3â†’c1â†’c2â†’c3â†’a1â†’a2â†’c1
>
> å¦‚æœAå’ŒBä¸æƒ³äº¤ï¼Œé‚£ä¹ˆä¼šæ˜¯æ€æ ·ï¼Ÿ
> Aï¼ša1â†’a2â†’a3â†’null
> Bï¼šb1â†’b2â†’b3â†’b4â†’null
> a1â†’a2â†’a3â†’b1â†’b2â†’b3â†’b4â†’null
> b1â†’b2â†’b3â†’b4â†’a1â†’a2â†’a3â†’null

**ä»£ç **

```java
public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
    ListNode p1 = headA;
    ListNode p2 = headB;
    while (p1 != p2) {
        if (p1 == null) { // p1èµ°å®Œï¼ŒæŒ‡å‘headBç»§ç»­èµ°
            p1 = headB; 
        } else {
            p1 = p1.next;
        }
        if (p2 == null) { // p2èµ°å®Œï¼ŒæŒ‡å‘headAç»§ç»­èµ°
            p2 = headA;
        } else {
            p2 = p2.next;
        }
    }
    return p1;
}
```

**å¤æ‚åº¦**<br />ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)

#### è§£æ³•3ï¼šå…ˆè®¡ç®—é•¿åº¦ï¼Œç„¶åè®¡ç®—å·®å€¼ï¼Œéå†

1. å…ˆè®¡ç®—2æ¡é“¾è¡¨çš„é•¿åº¦ï¼ŒlenAå’ŒlenB
2. å†ä»é•¿çš„é‚£æ¡é“¾è¡¨å¼€å§‹éå†ï¼Œè®©å…¶èµ°lenA-lenBï¼ˆå‡å¦‚lenAæ¯”lenBé•¿ï¼‰ï¼Œç›®çš„æ˜¯è®©ä»–ä»¬è·‘åˆ°ä¸€èµ·ï¼›å¦‚æœä¸¤æ¡é“¾è¡¨ç›¸äº¤ï¼Œä¸ç›¸äº¤çš„éƒ¨åˆ†å…¶å®å¤šå‡ºæ¥äº†lenA-lenBï¼Œè®©Aå…ˆè·‘è¿½ä¸ŠAå°±æ˜¯è®©ä¸¤æ¡é“¾è¡¨åœ¨åŒä¸€èµ·è·‘çº¿ä¸Š
3. ç„¶åå†è®©ä¸¤æ¡é“¾è¡¨ä¸€èµ·è·‘ï¼Œå¦‚æœå‡ºç°èŠ‚ç‚¹ç›¸åŒï¼Œå°±å‡ºç°ç›¸äº¤ï¼›å¦‚æœå¾ªç¯ç»“æŸé‚£å°±ä¸ç›¸äº¤

```java
public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
    // å…ˆè®¡ç®—é•¿åº¦
    int l1 = 0;
    ListNode temp1 = headA;
    while (temp1 != null) {
        l1++;
        temp1 = temp1.next;
    }
    int l2 = 0;
    ListNode temp2 = headB;
    while (temp2 != null) {
        l2++;
        temp2 = temp2.next;
    }


    temp1 = headA;
    temp2 = headB;
    if (l2 > l1) {
        // å…ˆè·‘B
        for (int i = 0; i < l2 - l1; i++) {
            temp2 = temp2.next;
        }
    } else if (l1 > l2) {
        // å…ˆè·‘A
        for (int i = 0; i < l1 - l2; i++) {
            temp1 = temp1.next;
        }
    }
    // å†ä¸€èµ·è·‘
    while (temp1 != temp2) {
        temp1 = temp1.next;
        temp2 = temp2.next;
    }
    return temp2;
}
```

#### è§£æ³•4ï¼šå°†é“¾è¡¨è½¬æ¢ä¸ºç¯

![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662484407009-94fb4b0b-b195-4df3-9bcb-5881a6aee550.png#averageHue=%23fbf9f9&clientId=u13b5141e-df4b-4&errorMessage=unknown%20error&from=paste&height=225&id=u6f5afe48&originHeight=585&originWidth=1142&originalType=binary&ratio=1&rotation=0&showTitle=false&size=85299&status=error&style=none&taskId=u7fe132ee-5f0f-44bb-9b4c-55f0c0fd71c&title=&width=439.3333740234375)<br />å¦‚æœæŠŠä¸¤æ¡é“¾è¡¨é¦–å°¾ç›¸è¿ï¼Œé‚£ä¹ˆã€Œå¯»æ‰¾ä¸¤æ¡é“¾è¡¨çš„äº¤ç‚¹ã€çš„é—®é¢˜è½¬æ¢æˆäº†å‰é¢è®²çš„ã€Œå¯»æ‰¾ç¯èµ·ç‚¹ã€çš„é—®é¢˜ï¼šä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é“é¢˜è¯´ä¸è®©ä½ æ”¹å˜åŸå§‹é“¾è¡¨çš„ç»“æ„ï¼Œæ‰€ä»¥ä½ æŠŠé¢˜ç›®è¾“å…¥çš„é“¾è¡¨è½¬åŒ–æˆç¯å½¢é“¾è¡¨æ±‚è§£ä¹‹åè®°å¾—è¿˜è¦æ”¹å›æ¥ï¼Œå¦åˆ™æ— æ³•é€šè¿‡ã€‚

### é“¾è¡¨ç›¸åŠ 

#### åè½¬é“¾è¡¨è§£æ³•

```java
public ListNode addInList(ListNode head1, ListNode head2) {
    // åˆ¤ç©º
    if (head1 == null) return head2;
    if (head2 == null) return head1;

    // åè½¬é“¾è¡¨
    ListNode head1Reverse = reverse(head1);
    System.out.println("åè½¬head1å=" + head1Reverse);
    ListNode head2Reverse = reverse(head2);
    System.out.println("åè½¬head2å=" + head2Reverse);

    // åˆ›å»ºæ–°çš„é“¾è¡¨å¤´èŠ‚ç‚¹
    ListNode newHeadNode = new ListNode(-1);
    ListNode newNode = newHeadNode;

    // è®°å½•è¿›ä½çš„æ•°å€¼: å„å–é“¾è¡¨çš„ä¸€ä½ç›¸åŠ ï¼Œè¶…è¿‡10å°±è¿›ä½
    int tmp = 0;
    while (head1Reverse != null || head2Reverse != null) {
        int count = tmp; // valç”¨æ¥ç´¯åŠ æ­¤æ—¶çš„æ•°å€¼ï¼ˆåŠ æ•°+åŠ æ•°+ä¸Šä¸€ä½çš„è¿›ä½=å½“å‰æ€»çš„æ•°å€¼ï¼‰ : é¦–å…ˆåŠ ä¸Šä¸Šä¸€æ¬¡çš„è¿›ä½å€¼
        // å½“èŠ‚ç‚¹1ä¸ä¸ºç©ºçš„æ—¶å€™ï¼Œåˆ™éœ€è¦åŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„å€¼
        if (head1Reverse != null) {
            count += head1Reverse.val;
            head1Reverse = head1Reverse.next;
        }
        // å½“èŠ‚ç‚¹2ä¸ä¸ºç©ºçš„æ—¶å€™ï¼Œåˆ™éœ€è¦åŠ ä¸Šå½“å‰èŠ‚ç‚¹çš„å€¼
        if (head2Reverse != null) {
            count += head2Reverse.val;
            head2Reverse = head2Reverse.next;
        }
        tmp = count / 10; // æ±‚å‡ºè¿›ä½ï¼šä½œä¸ºä¸‹ä¸€æ¬¡è¿›ä½ç”¨
        int value = count % 10; // å–ä½™ï¼Œè¿›ä½åå‰©ä¸‹çš„æ•°å€¼å³ä¸ºå½“å‰èŠ‚ç‚¹çš„æ•°å€¼
        System.out.println("count=" + count + "ï¼Œtmp(è¿›ä½å€¼)=" + tmp + "ï¼Œå½“å‰èŠ‚ç‚¹val=" + value);
        newNode.next = new ListNode(value);
        newNode = newNode.next;
    }
    // æœ€åå½“ä¸¤æ¡é“¾è¡¨éƒ½åŠ å®Œçš„æ—¶å€™ï¼Œè¿›ä½ä¸ä¸º0çš„æ—¶å€™ï¼Œåˆ™éœ€è¦å†åŠ ä¸Šè¿™ä¸ªè¿›ä½
    if (tmp != 0) {
        newNode.next = new ListNode(tmp);
    }
    System.out.println("æœ€åçš„ç»“æœ=" + newHeadNode.next);
    // é‡æ–°åè½¬å›æ¥è¿”å›
    return reverse(newHeadNode.next);
}

// åè½¬é“¾è¡¨
private ListNode reverse(ListNode head) {
    if (head == null || head.next == null) return head;
    ListNode pre = null;
    ListNode cur = head;
    while (cur != null) {
        ListNode next = cur.next;

        // æ¯éå†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹
        cur.next = pre;

        pre = cur;
        cur = next;
    }
    return pre;
}
```

### **å•é“¾è¡¨çš„æ’åº**

#### è§£æ³•1ï¼šå€ŸåŠ©æ•°ç»„

å€¼æ’åºï¼Œä¸æ˜¯çœŸæ­£åšåˆ°é“¾è¡¨æ’åºï¼Œç›´æ¥éå†æ•´ä¸ªé“¾è¡¨ï¼Œç”¨ä¸€ä¸ªæ•°ç»„å­˜å‚¨æ‰€æœ‰çš„valï¼Œç„¶åè¿›è¡Œæ’åºï¼Œæœ€åå°†æ’åºå®Œçš„å€¼èµ‹å€¼ç»™é“¾è¡¨

```java
public ListNode sortInList2(ListNode head) {
    if (head == null || head.next == null)
        return head;
    ArrayList<Integer> list = new ArrayList<>();
    ListNode tmp = head;
    while (tmp != null) {
        list.add(tmp.val);
        tmp = tmp.next;
    }
    list.sort(Comparator.comparingInt(a -> a));
    ListNode temp = head;
    int i = 0;
    while (temp != null) {
        temp.val = list.get(i++);
        temp = temp.next;
    }
    return head;
}
```

#### è§£æ³•2ï¼šå½’å¹¶æ’åºæ€æƒ³

å…ˆåˆ©ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾å‡ºé“¾è¡¨çš„ä¸­ç‚¹ï¼Œç„¶ååˆ†ä¸ºä¸¤ä¸ªé“¾è¡¨ï¼Œä¸€ç›´åˆ†ï¼ŒçŸ¥é“æ— æ³•åˆ†ä¸ºæ­¢ï¼Œç„¶åè‡ªåº•è€Œä¸Šæ’åºå½’å¹¶<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662561564584-1f7713a2-231b-41ad-99d8-8f7babc735f1.png#averageHue=%23f4f2f2&clientId=u13b5141e-df4b-4&errorMessage=unknown%20error&from=paste&height=310&id=u83cbc7d4&originHeight=773&originWidth=1442&originalType=binary&ratio=1&rotation=0&showTitle=false&size=140195&status=error&style=none&taskId=u76caceca-9935-40d0-b8bc-39af6254706&title=&width=578.3333740234375)

```java
public ListNode sortInList(ListNode head) {
    if (head == null || head.next == null) return head;
    // æ‰¾åˆ°é“¾è¡¨ä¸­é—´èŠ‚ç‚¹
    ListNode centerListNode = getCenterListNode(head);
    // æ‹†åˆ†å¼€
    ListNode head1 = head;
    ListNode head2 = centerListNode.next;
    centerListNode.next = null;
    // å½’å¹¶æ’åº

    // å…ˆæ‹†æˆå·¦å³2ä¸ªé“¾è¡¨
    ListNode left = sortInList(head1);
    ListNode right = sortInList(head2);

    // å†æŠŠæ‹†åˆ†çš„ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶
    return mergeList(left, right);
}

/**
 * åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼šè¿™é‡Œæ¯”è¾ƒå·§å¦™ï¼Œè¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹æœ‰åºé“¾è¡¨çš„å†™æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬çš„æ‹†åˆ†æ˜æ˜æ˜¯ä¸èƒ½ä¿è¯æœ‰åºçš„ï¼Œå“ˆå“ˆï¼Œå·§åœ¨å½“æˆ‘ä»¬åœ¨ä¸åœçš„åˆ†æ²»çš„è¿‡ç¨‹ä¸­ï¼Œæœ€åä¸€å®šæ˜¯æœ‰å•èŠ‚ç‚¹çš„åˆå¹¶çš„ï¼Œä¸¤ä¸ªå•èŠ‚ç‚¹å¯ä»¥è®¤ä¸ºå°±æ˜¯ä¸¤ä¸ªæœ‰åºçš„é“¾è¡¨ï¼Œä¸¤ä¸ªå•èŠ‚ç‚¹çš„åˆå¹¶å°±æ˜¯ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„åˆå¹¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªå•èŠ‚ç‚¹é“¾è¡¨åˆå¹¶æˆäº†ä¸€ä¸ªæ‹¥æœ‰ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ‰åºé“¾è¡¨ï¼Œå†ç»§ç»­å‘ä¸Šå›æº¯ï¼Œä»ä¸‹ç½‘ä¸Šå°±å½¢æˆäº†ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„åˆå¹¶äº†ã€‚
 */
private ListNode mergeList(ListNode list1, ListNode list2) {
    // æ–°çš„å­˜å‚¨èŠ‚ç‚¹
    ListNode newDummyNode = new ListNode(-1);
    ListNode cur = newDummyNode;

    while (list1 != null && list2 != null) {
        if (list1.val <= list2.val) {
            cur.next = list1;
            list1 = list1.next;
        } else {
            cur.next = list2;
            list2 = list2.next;
        }
        cur = cur.next;
    }
    if (list1 != null) {
        cur.next = list1;
    }
    if (list2 != null) {
        cur.next = list2;
    }
    return newDummyNode.next;
}
```

### [234. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/) easy

**é¢˜ç›®**

> ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
> **è¾“å…¥ï¼š**head = [1,2,2,1]
> **è¾“å‡ºï¼š**true

#### è§£æ³•1ï¼šå€ŸåŠ©List

**æ€è·¯**

1. å…ˆå°†é“¾è¡¨å…¨éƒ¨æ·»åŠ åˆ°Listä¸­å»
2. é¦–å°¾åŒæŒ‡é’ˆéå†åˆ¤æ–­æ˜¯å¦å›æ–‡ç»“æ„

```java
public boolean isPalindrome(ListNode head) {
    // write code here
    // n==1ï¼Œè¿”å›true
    if (head.next == null) {
        return true;
    }
    List<Integer> nums = new ArrayList<Integer>();
    // å°†é“¾è¡¨è½¬æ¢æˆlist
    while (head != null) {
        nums.add(head.val);
        head = head.next;
    }
    int i = 0;
    int j = nums.size() - 1;
    while (i < j) {
        // ä¸ç­‰åˆ™è¿”å›false
        // è¿™è¾¹æœ‰ä¸€ä¸ªå‘ï¼Œå¦‚æœä¸é€‚ç”¨equalsè€Œä½¿ç”¨!=çš„è¯ï¼Œåœ¨ç‰›å®¢ä¸Šå¯¹äºæœ‰è´Ÿæ•°çš„æµ‹è¯•ç”¨ä¾‹å¯èƒ½ä¼šæ— æ³•é€šè¿‡ã€‚
        if (!nums.get(i).equals(nums.get(j))) {
            return false;
        }
        ++i;
        --j;
    }
    return true;
}
```

#### è§£æ³•2ï¼šé€’å½’ï¼Œååºä½ç½®

**æ€è·¯**

1. å•é“¾è¡¨æ˜¯æ— æ³•å€’åºéå†çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é“¾è¡¨é€’å½’çš„ååºéå†ï¼Œç”±äºååºä½ç½®çš„è¾“å‡ºæ˜¯å€’åºï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨é“¾è¡¨ååºçš„ä½ç½®è¿›è¡Œå›æ–‡ç»“æ„çš„åˆ¤æ–­ï¼›
2. ç”¨ä¸€ä¸ªä¸´æ—¶èŠ‚ç‚¹leftè®°å½•å½“å‰æ¯”è¾ƒçš„èŠ‚ç‚¹
3. æ¯”è¾ƒleftå’Œæ¯æ¬¡å…¥æ ˆçš„èŠ‚ç‚¹

**é¢˜è§£**<br />[å¦‚ä½•åˆ¤æ–­å›æ–‡é“¾è¡¨ :: labuladongçš„ç®—æ³•å°æŠ„](https://labuladong.gitee.io/algo/2/19/21/)<br />![](https://labuladong.gitee.io/algo/images/%e5%9b%9e%e6%96%87%e9%93%be%e8%a1%a8/1.gif#height=244&id=Vq1XB&originHeight=720&originWidth=1280&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=&width=434.47015380859375)<br />**ä»£ç **

```java
public static boolean isPalindrome(ListNode head) {
    left = head;
    return traverse(head);
}
private static ListNode left;
private static boolean traverse(ListNode head) {
    if (head==null) return true;
    // å‰åºä½ç½®
    boolean res = traverse(head.next);
    // ååºä½ç½®ï¼šå€’åºçš„
    // head.nextæ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨å’Œå½“å‰èŠ‚ç‚¹æ˜¯å¦å›æ–‡ç»“æ„è®¡ç®—
    res = res && (head.val == left.val);
    left = left.next;
    return res;
}
```

#### è§£æ³•3ï¼šå¿«æ…¢æŒ‡é’ˆ+åè½¬é“¾è¡¨  æœ€ä¼˜è§£

**æ€è·¯**

1. å¿«æ…¢æŒ‡é’ˆfast/slowæ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹ï¼Œä¸­é—´èŠ‚ç‚¹å°±æ˜¯slowï¼ˆå¦‚æœé“¾è¡¨å¶æ•°ä¸ªæ•°ï¼Œä¸­é—´èŠ‚ç‚¹ä¸ºé åçš„é‚£ä¸ªï¼‰
2. åˆ¤æ–­é“¾è¡¨å¥‡æ•°å¶æ•°ï¼Œæ ¹æ®fastæ¥åˆ¤æ–­ï¼Œæœ€åfast=nullæ˜¯å¥‡æ•°ä¸ªæ•°ï¼Œæœ€åfast!=nullæ˜¯å¶æ•°ä¸ªæ•°
3. åè½¬ååŠéƒ¨åˆ†é“¾è¡¨ï¼ˆå¯ä»¥å°†é“¾è¡¨æ–­å¼€ï¼‰
4. é€ä¸ªæ¯”è¾ƒå‰åä¸¤æ®µé“¾è¡¨å…ƒç´ æ˜¯å¦ç›¸åŒ

```java
public boolean isPalindrome(ListNode head) {
    if(head==null) return false;
    if(head.next==null) return true;
    // å…ˆæ‰¾åˆ°ä¸­ç‚¹
    ListNode slow = head;
    ListNode fast = head;
    while(fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
	// ä¸­ç‚¹å°±æ˜¯slow

    // åˆ¤æ–­é“¾è¡¨å¥‡æ•°å¶æ•°ï¼Œçœ‹fast
    ListNode l1 = null;
    ListNode l2 = null;
    if(fast == null) { // å¶æ•°
        l1 = head;
        l2 = slow;
    } else { // å¥‡æ•°
        l1 = head;
        l2 = slow.next;
    }

    // åè½¬ä¸­ç‚¹åçš„é“¾è¡¨ï¼ˆè¿­ä»£æ³•ï¼‰
    ListNode cur = l2;
    ListNode pre = null;
    while(cur != null) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }

    // æ¯”è¾ƒå‰åé“¾è¡¨, l1æ˜¯å‰åŠéƒ¨åˆ†é“¾è¡¨ï¼Œpreæ˜¯ååŠéƒ¨åˆ†é“¾è¡¨
    while(l1!=null && pre!=null) {
        if(pre.val != l1.val) {
            return false;
        }
        l1 = l1.next;
        pre = pre.next;
    }
    return true;
}
```

### é“¾è¡¨å®ç°æ ˆå’Œé˜Ÿåˆ—ï¼Ÿ

#### 1ã€é“¾è¡¨å®ç°é˜Ÿåˆ—

ä¸¤ä¸ªå•é“¾è¡¨ï¼Œä¸€ä¸ªheadæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œä¸€ä¸ªtailæŒ‡å‘å°¾èŠ‚ç‚¹

#### 2ã€é“¾è¡¨å®ç°æ ˆ

ä¸€ä¸ªå•é“¾è¡¨å³å¯ï¼ŒheadæŒ‡å‘å¤´èŠ‚ç‚¹<br />é“¾è¡¨çš„å¥‡å¶é‡æ’<br />æ‹†åˆ†æˆ2ä¸ªé“¾è¡¨ï¼Œå¥‡é“¾è¡¨å’Œå¶é“¾è¡¨ï¼Œæœ€åå°†å¶é“¾è¡¨æ·»åŠ åˆ°å¥‡é“¾è¡¨åé¢

### [86. åˆ†éš”é“¾è¡¨ï¼ˆå•é“¾è¡¨çš„åˆ†è§£ï¼‰](https://leetcode.cn/problems/partition-list/) medium

**é¢˜ç›®**

> ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å’Œä¸€ä¸ªç‰¹å®šå€¼ x ï¼Œè¯·ä½ å¯¹é“¾è¡¨è¿›è¡Œåˆ†éš”ï¼Œä½¿å¾—æ‰€æœ‰ å°äº x çš„èŠ‚ç‚¹éƒ½å‡ºç°åœ¨ å¤§äºæˆ–ç­‰äº x çš„èŠ‚ç‚¹ä¹‹å‰ã€‚ä½ åº”å½“ ä¿ç•™ ä¸¤ä¸ªåˆ†åŒºä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®ã€‚
> ![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662395567750-1854abdb-0de2-4fb9-be2a-0ec3b7f08d4b.png#averageHue=%23f0eeeb&clientId=u13b5141e-df4b-4&from=paste&height=123&id=u4c7ab290&originHeight=222&originWidth=662&originalType=url&ratio=1&rotation=0&showTitle=false&size=66206&status=done&style=none&taskId=uce2f0243-b082-4611-850f-44c7e673742&title=&width=368)

#### è§£æ³•1ï¼šä¸¤ä¸ªä¸ªä¸´æ—¶é“¾è¡¨+åˆå¹¶

**æ€è·¯**

1. ä¸¤ä¸ªä¸´æ—¶é“¾è¡¨ï¼Œdummy1å­˜æ”¾æ¯”xå°çš„èŠ‚ç‚¹ï¼Œdummy2å­˜å‚¨ä¸æ¯”xå°çš„èŠ‚ç‚¹
2. éå†é“¾è¡¨ï¼Œå°†é“¾è¡¨åˆ†å‰²åˆ°dummy1å’Œdummy2lé“¾è¡¨ä¸­å»
3. å°†ä¸¤ä¸ªé“¾è¡¨é‡æ–°è¿æ¥èµ·æ¥
4. æœ€åè¿”å›dummy1.next

**ä»£ç **

```java
public static ListNode partition(ListNode head, int x) {
    // å­˜æ”¾æ¯”xå°çš„èŠ‚ç‚¹
    ListNode dummy1 = new ListNode(0);
    ListNode node1 = dummy1;
    // å­˜æ”¾ä¸æ¯”xå°çš„èŠ‚ç‚¹
    ListNode dummy2 = new ListNode(0);
    ListNode node2 = dummy2;
    while (head != null) {
        if (head.val < x) {
            node1.next = head;
            node1 = node1.next;
        } else {
            node2.next = head;
            node2 = node2.next;
        }
        ListNode next = head.next;
        // æ–­å¼€åŸé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„ next æŒ‡é’ˆ
        head.next = null;
        head = next;
    }
    // è¿æ¥dummy1å’Œdummy2
    node1.next = dummy2.next;
    return dummy1.next;
}
```

![image.png](https://cdn.nlark.com/yuque/0/2022/png/694278/1662397465164-4a13ac27-5217-40b0-bf76-34dd15c7c660.png#averageHue=%23f9f8f7&clientId=u13b5141e-df4b-4&from=paste&height=101&id=ud5006b96&originHeight=206&originWidth=666&originalType=binary&ratio=1&rotation=0&showTitle=false&size=21299&status=done&style=none&taskId=ub8e476f4-c978-4004-b3ec-1d82715e416&title=&width=325)
