---
date_created: Wednesday, May 1st 2024, 11:06:01 pm
date_updated: Wednesday, January 22nd 2025, 11:57:27 pm
title: Make
author: hacket
categories:
  - C&C++
category: CPP构建
tags: [CMake, CPP构建]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
image-auto-upload: true
feed: show
format: list
date created: 2024-05-01 23:06
date updated: 2024-12-27 23:52
aliases: [Make 概念]
linter-yaml-title-alias: Make 概念
---

# Make 概念

## Makefile

Makefile 是一个文本文件，其中包含了构建软件项目的规则和依赖关系的描述。Makefile 通常使用 GNU Make 工具来解析和执行，它根据 Makefile 中定义的规则和依赖关系来自动化构建过程。在 Makefile 中，你可以定义目标、依赖关系和命令，描述如何从源代码生成目标文件或可执行文件。Makefile 还可以包含变量和函数，用于简化构建过程和提高可维护性。

## Make

make 是一个构建工具，用于执行 Makefile 文件中定义的规则和命令，自动化构建过程。通过运行 `make` 命令，make 工具会解析 Makefile 文件，并根据其中的规则和依赖关系来执行相应的命令，以完成构建任务。make 工具会根据文件的时间戳判断哪些文件需要重新构建，从而提高构建效率。make 工具还支持并行构建和增量构建等功能，使得构建过程更加高效和灵活。

总结来说，Makefile 是一个文本文件，用于定义构建规则和依赖关系；make 是一个构建工具，用于执行 Makefile 文件中定义的规则和命令，自动化构建过程。通过编写和使用 Makefile，结合 make 工具，可以实现软件项目的自动化构建和管理。

### Make 工具

Make 工具有多个版本和实现，其中最常见和广泛使用的是 `GNU Make`。GNU Make 是一个开源的构建工具，最初由 Richard Stallman 和 Roland McGrath 开发，并作为 GNU 项目的一部分发布。除了 GNU Make 之外，还有其他实现 Make 规范的工具，如 `BSD Make`、`Microsoft NMAKE` 等。

此外，还有一些构建工具可以与 Make 工具配合使用，以提供更高级的功能和更友好的用户界面。例如，`CMake` 是一个跨平台的构建工具，它可以生成适用于各种构建系统的 Makefile 文件，如 GNU Make、Ninja 等。Scons、Ant、Gradle 等也是常见的构建工具，它们提供了更高级的构建功能和更易用的构建配置方式。

### CMake 用什么 make 工具？

CMake 是一个跨平台的构建工具，它可以生成适用于多种构建系统的构建文件，其中包括 Makefile。CMake 本身并不依赖于特定的 make 工具，而是将生成的构建文件交给底层的 make 工具来执行实际的构建过程。

在使用 CMake 时，你可以选择将生成的构建文件交给不同的 make 工具来执行构建。常见的 make 工具包括 GNU Make、Ninja、BSD Make 等。你可以根据自己的需求和偏好选择适合的 make 工具。

默认情况下，CMake 会生成适用于当前操作系统的默认 make 工具的构建文件。例如，在大多数 Linux 系统上，默认使用 GNU Make 来执行构建。但是，你也可以通过 CMake 的选项来显式指定要使用的 make 工具，例如使用 `-G "Ninja"` 来生成适用于 Ninja 构建系统的构建文件。

因此，CMake 本身并不限定使用特定的 make 工具，而是提供了灵活的构建配置方式，可以与多种 make 工具配合使用。这使得 CMake 成为一个强大且跨平台的构建工具，适用于各种项目和构建需求。
