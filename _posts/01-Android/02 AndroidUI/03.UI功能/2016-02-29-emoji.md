---
date_created: Thursday, February 29th 2016, 10:50:50 pm
date_updated: Monday, January 20th 2025, 11:46:17 pm
title: emoji
author: hacket
categories:
  - AndroidUI
category: UIæ‚é¡¹
tags: [UIæ‚é¡¹]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
date created: æ˜ŸæœŸäºŒ, åäºŒæœˆ 24æ—¥ 2024, 12:30:00 å‡Œæ™¨
date updated: æ˜ŸæœŸä¸€, ä¸€æœˆ 6æ—¥ 2025, 9:55:16 æ™šä¸Š
image-auto-upload: true
feed: show
format: list
aliases: [emoji]
linter-yaml-title-alias: emoji
---

# emoji

[toc]

æ‰€æœ‰ emoji å¯¹åº”çš„ unicodeï¼š<http://www.unicode.org/emoji/charts/full-emoji-list.html>

## ä»€ä¹ˆæ˜¯ Emojiï¼Ÿ

1. Emoji æ˜¯å¯ä»¥è¢«æ’å…¥æ–‡å­—ä¸­çš„å›¾å½¢ç¬¦å·ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ—¥æœ¬è¯­ï¼Œe è¡¨ç¤º " ç»˜ "ï¼Œmoji è¡¨ç¤º " æ–‡å­— " ï¼Œè¿åœ¨ä¸€èµ·å°±æ˜¯ " ç»˜æ–‡å­— "ï¼Œå®ƒæœ€æ—©æ˜¯ç”¨äºæˆ‘ä»¬å‘çŸ­ä¿¡æ¥å¢å¼ºç”¨æˆ·çš„ä¸€ä¸ªä½“éªŒï¼Œ2007 å¹´ï¼ŒApple åœ¨ iPhone ä¸­æ”¯æŒäº† Emojiï¼Œæ‰è®©å®ƒåœ¨å…¨çƒèŒƒå›´å†…æµè¡Œèµ·æ¥ã€‚
2. åœ¨ 2010 å¹´ä»¥å‰ï¼ŒEmoji çš„å®ç°æ˜¯å°†ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ç»„åˆæ›¿æ¢æˆå›¾ç‰‡è¡¨æƒ…ï¼Œä¾‹å¦‚ :) æ›¿æ¢æˆ ğŸ˜Š ï¼Œè¿™æ ·çš„è§£å†³æ–¹æ¡ˆå¯¼è‡´ Emoji è¡¨æƒ…å¾ˆéš¾æ ‡å‡†åŒ–ï¼Œè€Œä¸”è¡¨è¾¾èŒƒå›´æœ‰é™
3. ä» 2010 å¹´å¼€å§‹ï¼ŒUnicode å¼€å§‹ä¸º Emoji åˆ†é…å›ºå®šçš„ç ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿™ä¹‹åï¼Œæ¯ä¸€ä¸ª Unicode å­—ç¬¦å¯¹åº”ä¸€ä¸ªå­—ä½“ï¼Œå®ƒä¼šè¢«æ¸²æŸ“ä¸ºå›¾ç‰‡æ˜¾ç¤º
4. Emoji è¡¨æƒ…ç”±äºå…¶è¡¨è¾¾æƒ…ç»ªçš„ç‰¹ç‚¹ï¼Œè¢«å¹¿å—æ¬¢è¿ã€‚Emoji è¡¨æƒ…çš„å›½é™…æ ‡å‡†åœ¨ 2015 å¹´å‡ºå°ï¼Œåˆ°ç›®å‰ä¸ºæ­¢å·²ç»æ˜¯ V13.1 ç‰ˆæœ¬çš„æ ‡å‡†äº†ï¼Œå…·ä½“å…³äº Unicode å­—ç¬¦å’Œ Emoji è¡¨æƒ…çš„ä¸€ä¸ªæ˜ å°„å…³ç³»ä»¥åŠå…¶ä»–çš„ä¸€äº›ç»†èŠ‚ï¼Œå¯ä»¥ä»è¿™ä¸ªç½‘ç«™ä¸­å»æŸ¥è¯¢ï¼š<http://www.unicode.org/emoji/charts/full-emoji-list.html>

## Unicode å’Œ Emoji

æ¯ä¸ª Unicode å­—ç¬¦å¯¹åº”çš„ Emoji è¡¨æƒ…åœ¨å„ä¸ªå¹³å°å±•ç¤ºçš„æ ·å¼éƒ½ä¸å¤ªä¸€æ ·ï¼Œå› ä¸º Unicode åªæ˜¯è§„å®šäº† Emoji çš„ç ç‚¹å’Œå«ä¹‰ï¼Œå¹¶æ²¡æœ‰è§„å®šå®ƒçš„æ ·å¼ï¼Œæ¯ä¸ªå¹³å°éƒ½æœ‰è‡ªå·±çš„ Emoji å®ç°

## å¦‚æœä½¿ç”¨å¹¶æ˜¾ç¤º emoji

ä¸€ä¸ªæ ‡å‡†çš„ Emoji ï¼Œå…¶å®æ˜¯æœ‰å¤šç§è¡¨ç¤ºæ–¹æ³•çš„ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå…ˆçœ‹çœ‹å‰é¢è¯´çš„ç¬‘è„¸ `U+1F601`<br />![](https://note.youdao.com/yws/res/84284/93F4FD5E23AB4C6996A4468F14ECA689#id=zIXG0&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)![image.png](https://cdn.nlark.com/yuque/0/2023/png/694278/1688214940982-53279439-903f-4ef2-8ce4-faa22bdba6a6.png#averageHue=%23f5f5f4&clientId=u400dc2d5-b9e3-4&from=paste&height=59&id=u2892c580&originHeight=118&originWidth=1652&originalType=binary&ratio=2&rotation=0&showTitle=false&size=105195&status=done&style=none&taskId=u89c292aa-fa4e-40be-80f8-45d50cd9cc9&title=&width=826)

Codeã€UTF-8ã€Surrogates è¿™äº›å½¢å¼ï¼Œéƒ½å¯ä»¥è¡¨ç¤ºè¿™ä¸ªç¬‘è„¸çš„ Emojiã€‚é€šå¸¸è¿™ä¸ª Emoji è¡¨æƒ…æ˜¯æ¥è‡ªç”¨æˆ·è¾“å…¥çš„æ•°æ®æˆ–è€…æœåŠ¡ç«¯ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œè™½ç„¶è¿™äº›å½¢å¼éƒ½å¯ä»¥è¡¨ç¤ºè¿™ä¸ª Emojiï¼Œä½†æ˜¯ä¸åŒçš„æ ¼å¼å°±éœ€è¦ä¸åŒçš„å½¢å¼æ¥è§£æã€‚

### Surrogates å¯ç›´æ¥æ˜¾ç¤º

æ¨èä½¿ç”¨ Surrogates ä¼ é€’ Emojiï¼Œä¾‹å¦‚ï¼š\uD83D\uDE01ï¼Œå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ª Unicode çš„ç¼–ç ï¼Œæ˜¯é€šç”¨çš„ï¼Œå¯ä»¥åœ¨ TextView ä¸­ç›´æ¥ä½¿ç”¨å°±å¯ä»¥æ˜¾ç¤ºã€‚

### Code

Code ï¼Œä¾‹å¦‚ 1F601ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦è¿›è¡Œé¢å¤–çš„å¤„ç†äº†ï¼š

```
String(Character.toChars(Integer.parseInt("1F601", 16)))
```

## emoji å­˜åœ¨çš„é—®é¢˜

### ä¸åŒå¹³å°æ˜¾ç¤ºçš„ emoji æ•ˆæœä¸ä¸€è‡´

å…·ä½“å¯åœ¨<http://www.unicode.org/emoji/charts/full-emoji-list.html>æŸ¥è¯¢>

### Emoji è¡¨æƒ…æ˜¾ç¤ºå‡ºæ¥åƒä¸€ä¸ªä¿¡å°ï¼ˆEmoji æ˜¾ç¤ºä¸å‡ºæ¥ï¼‰

åŸå› æ˜¯å½“å‰è®¾å¤‡ä¸æ”¯æŒï¼Œå½“å‰è®¾å¤‡å­—ä½“åº“æ²¡æœ‰è¯¥ emojiï¼Œæ¯ä¸€ä¸ª Unicode å­—ç¬¦å¯¹åº”ä¸€ä¸ªå­—ä½“ï¼Œå®ƒä¼šè¢«æ¸²æŸ“ä¸ºå›¾ç‰‡æ˜¾ç¤ºï¼Œä½†æ˜¯å¦‚æœå½“å‰ç³»ç»Ÿä¸æ”¯æŒè¿™ç§å­—ä½“ï¼Œé‚£ä¹ˆå°±ä¼šæ˜¾ç¤ºå‡ºä¸€ä¸ªä¿¡å°ï¼Œè€Œä¸”éšç€ Android ç‰ˆæœ¬è¶Šæ¥è¶Šä½ï¼Œè¿™ç§æƒ…å†µè¶Šæ¥è¶Šå¤šï¼Œè¿™ç§æ•ˆæœè‚¯å®šæ˜¯ä¸è¡Œçš„<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/694278/1688214921813-e95e1e47-f10d-4f96-93fa-48d434df4eee.png#averageHue=%23e7ebed&clientId=u400dc2d5-b9e3-4&from=paste&height=446&id=u0f9cf789&originHeight=892&originWidth=1540&originalType=binary&ratio=2&rotation=0&showTitle=false&size=970791&status=done&style=none&taskId=u6edbcc6f-2d56-450d-a8cf-3c6d470e2dd&title=&width=770)![](https://note.youdao.com/yws/res/84260/EE861089EA034C1FAB3DB96CC070E31D#id=zTFrZ&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

## EmojiCompat

### ä»€ä¹ˆæ˜¯ EmojiCompat?

EmojiCompat æ˜¯ Google å®˜æ–¹ç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ª Emoji è¡¨æƒ…å…¼å®¹åº“ï¼Œæœ€ä½æ”¯æŒåˆ° Android 4.4(Api Level 19) çš„ç³»ç»Ÿè®¾å¤‡ï¼Œå®ƒå¯ä»¥é˜²æ­¢åº”ç”¨ä¸­ï¼Œå‡ºç°ä»¥ä¿¡å°çš„å½¢å¼æ¥æ˜¾ç¤º Emojiï¼Œè™½ç„¶å®ƒä»…ä»…åªæ˜¯å› ä¸ºä½ å½“å‰çš„è®¾å¤‡æ²¡æœ‰è¿™ä¸ªå­—ä½“è€Œå·²ã€‚é€šè¿‡ EmojiCompat ï¼Œä½ çš„è®¾å¤‡æ— éœ€ç­‰å¾… Android ç³»ç»Ÿæ›´æ–°ï¼Œå°±å¯ä»¥è·å¾—æœ€æ–°çš„ Emoji è¡¨æƒ…æ˜¾ç¤ºæ•ˆæœã€‚

### EmojiCompat çš„è¿è¡ŒåŸç†

![image.png](https://cdn.nlark.com/yuque/0/2023/png/694278/1688215014727-2bf17309-18d9-49d6-becc-0085d3236a0b.png#averageHue=%23f8faf5&clientId=u400dc2d5-b9e3-4&from=paste&height=169&id=u567abb9f&originHeight=216&originWidth=600&originalType=binary&ratio=2&rotation=0&showTitle=false&size=108449&status=done&style=none&taskId=u4e84149d-efe1-4ab9-b059-93fa9c9b5e1&title=&width=469)<br />EmojiCompat ä¼šåˆ¤æ–­å½“å‰è®¾å¤‡æ˜¯å¦æ”¯æŒè¿™ä¸ª Emojiï¼Œå¦‚æœæ”¯æŒåˆ™è¿˜æ˜¯ä½¿ç”¨ç³»ç»Ÿå†…ç½®çš„å­—ä½“åŠ è½½ï¼Œå¦‚æœä¸æ”¯æŒï¼Œåˆ™ä½¿ç”¨ EmojiSpan æ¥è¿›è¡Œæ›¿æ¢ï¼Œä»è€Œè¾¾åˆ°æ›¿æ¢æ¸²æŸ“çš„æ•ˆæœã€‚

### å¦‚ä½•ä½¿ç”¨ EmojiCompat ï¼Ÿ

```java
EmojiCompat.init(config);
// EmojiCompat çš„ init æ–¹æ³•
public static EmojiCompat init(@NonNull final Config config) {
    if (sInstance == null) {
        synchronized (sInstanceLock) {
            if (sInstance == null) {
                sInstance = new EmojiCompat(config);
            }
        }
    }
    return sInstance;
}
```

#### å¯ä¸‹è½½çš„å­—ä½“é…ç½® (éœ€è¦ GMS)

å¯ä¸‹è½½çš„å­—ä½“çš„æ–¹å¼ä¼šåœ¨é¦–æ¬¡å¯åŠ¨ app çš„æ—¶å€™æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰è¯¥å­—ä½“ï¼Œæ²¡æœ‰çš„è¯ä¼šä»ç½‘ä¸Šä¸‹è½½æœ€æ–°çš„ Emoji å­—ä½“ï¼Œç„¶åé‡åˆ°ä¸æ”¯æŒçš„ Emojiï¼Œå°±ä¼šä»è¿™ä¸ªå­—ä½“æ–‡ä»¶ä¸­ï¼ŒåŠ è½½èµ„æºå¹¶ä¸”æ¸²æŸ“

ç¼ºç‚¹ï¼šå¯ä¸‹è½½å­—ä½“çš„æ–¹å¼ï¼Œå®Œå…¨ä¾èµ– GMS æœåŠ¡ï¼Œåœ¨æ²¡æœ‰ GMS æœåŠ¡çš„æ‰‹æœºä¸Šå¹¶ä¸å¯ç”¨

#### æœ¬åœ°æ†ç»‘çš„å­—ä½“é…ç½® (å¢å¤§ APK ä½“ç§¯)

æœ¬åœ°æ†ç»‘çš„æ–¹å¼ä¼šåœ¨ App æ‰“åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œæ¤å…¥ä¸€ä¸ªæœ€æ–°çš„ Emoji å­—ä½“æ–‡ä»¶ï¼ˆ`NotoColorEmojiCompat.ttf` å­—ä½“æ–‡ä»¶ï¼‰ï¼Œç„¶åé‡åˆ°ä¸æ”¯æŒçš„ Emojiï¼Œå°±ä¼šä»è¿™ä¸ªå­—ä½“æ–‡ä»¶ä¸­ï¼ŒåŠ è½½èµ„æºå¹¶ä¸”æ¸²æŸ“

ç¼ºç‚¹ï¼šæœ¬åœ°æ†ç»‘çš„æ–¹å¼ä¼šåµŒå…¥ä¸€ä¸ªçº¦ 9M+ çš„å­—ä½“æ–‡ä»¶ï¼Œæ— å½¢ä¸­å¢å¤§äº† Apk å®‰è£…åŒ…çš„ä½“ç§¯

### EmojiCompat é‡åˆ°çš„é—®é¢˜

#### æ²¡æœ‰ GMS ä¸‹è½½ä¸äº†å­—ä½“ï¼Œemoji è¿˜æ˜¯æ˜¾ç¤ºä¸å‡ºæ¥

- **åŸå› ï¼š**<br />å¯ä¸‹è½½çš„å­—ä½“é…ç½®å®Œå…¨ä¾èµ– GMS æœåŠ¡ï¼Œå¦‚æœæ²¡æœ‰ GMS æœåŠ¡ï¼Œåˆ™ä¼šå¯¼è‡´å­—ä½“ä¸‹è½½å¤±è´¥ï¼Œç›¸åº”çš„ EmojiCompat å°±ä¼šåˆå§‹åŒ–å¤±è´¥ï¼ŒEmojiCompat åˆå§‹åŒ–å¤±è´¥ï¼Œåˆ™çœ‹å½“å‰ç³»ç»Ÿæ˜¯å¦æ”¯æŒè¯¥ emojiï¼Œå¦‚æœä¸æ”¯æŒï¼Œé‚£å°±ä¼šæ˜¾ç¤ºæˆä¿¡å°çŠ¶ã€‚
- **è§£å†³ï¼š**
  1. å°† Google å®˜æ–¹æä¾›çš„ `NotoColorEmojiCompat.ttf` å­—ä½“æ–‡ä»¶ï¼Œä¸Šä¼ åˆ°æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡å™¨
  2. é’ˆå¯¹æ²¡æœ‰ GMS çš„æ‰‹æœºï¼ŒEmojiCompat ä¼šåˆå§‹åŒ–å¤±è´¥ï¼Œé‚£ä¹ˆåœ¨ EmojiCompat é¦–æ¬¡åˆå§‹åŒ–å¤±è´¥åï¼Œåœ¨å®ƒå¤±è´¥çš„å›è°ƒé‡Œé¢å¯åŠ¨ä¸€ä¸ªä¸‹è½½ä»»åŠ¡å»ä¸‹è½½ NotoColorEmojiCompat.ttf è¿™ä¸ªå­—ä½“
  3. è‹¥ä¸‹è½½æˆåŠŸï¼Œåˆ™æ„é€ ä¸€ä¸ªè‡ªå®šä¹‰çš„å­—ä½“é…ç½®é‡æ–°åˆå§‹åŒ– EmojiCompat

#### EmojiCompat å¸®æˆ‘è¡¥é½äº†æˆ‘å½“å‰è®¾å¤‡éƒ¨æ”¯æŒçš„é‚£äº› Emoji è¡¨æƒ…ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å°† Android çš„æœå†»è¡¨æƒ…æ›¿æ¢ä¸ºæ ‡å‡†çš„ Emoji è¡¨æƒ…

#### å…¶ä»–å¸¸è§é—®é¢˜

- 1ã€ä¸‹è½½å­—ä½“çš„ä¸‹è½½ç­–ç•¥æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ

> Emoji å­—ä½“åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œä¼šæ£€æµ‹æ˜¯å¦å­˜åœ¨äºå½“å‰è®¾å¤‡ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åœ¨å­çº¿ç¨‹ä¸­è¿›è¡Œä¸‹è½½ã€‚

- 2ã€åˆå§‹åŒ–éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

> å½“æœ¬åœ°å·²ç»æœ‰å­—ä½“ä¹‹åï¼Œåˆå§‹åŒ– EmojiCompat å¤§çº¦éœ€è¦ 150 æ¯«ç§’ã€‚

- 3ã€EmojiCompat æ”¯æŒåº“ï¼Œä¼šä½¿ç”¨å¤šå°‘å†…å­˜ï¼Ÿ

> ç›®å‰ï¼ŒEmoji å­—ä½“è¢«å®Œå…¨åŠ è½½ä¹‹åï¼Œä¼šä½¿ç”¨å¤§çº¦ 200kb çš„å†…å­˜ã€‚

- 4ã€åœ¨ Android 4.4 ä»¥ä¸‹çš„è®¾å¤‡ä¸Šï¼Œä½¿ç”¨ EmojiAppCompatXxx æ§ä»¶ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ

> EmojiCompat å†…éƒ¨å·²ç»åšäº†å…¼å®¹å¤„ç†ï¼Œåœ¨ä½ç‰ˆæœ¬ä¸Šå°±å’Œä½¿ç”¨æ™®é€šçš„ AppCompatXxx æ§ä»¶ä¸€æ ·ã€‚

- 5ã€æœ¬åœ°æ†ç»‘çš„ Emoji å­—ä½“æ–‡ä»¶ï¼Œå¤§çº¦æœ‰å¤šå¤§ï¼Ÿ

> æœ¬åœ°æ†ç»‘çš„ Emoji å­—ä½“æ–‡ä»¶ NotoColorEmojiCompat.ttfï¼Œä¼šåœ¨æ‰“åŒ…çš„æ—¶å€™åµŒå…¥åˆ° assets ç›®å½•ä¸‹ï¼Œç°åœ¨å®é™…æƒ…å†µæ¥çœ‹å¤§å°æœ‰ 9.0MB+ï¼Œå…·ä½“çœ‹æœ€æ–°çš„ ttf æ–‡ä»¶ï¼Œè¿™ä¼šç›´æ¥é€ æˆ Apk çš„å¢å¤§ã€‚

## Ref

- [x] Android å¼€å‘ï¼Œä½ é‡ä¸Š Emoji å¤´ç–¼å—ï¼Ÿ<br /><https://mp.weixin.qq.com/s?__biz=MzIxNjc0ODExMA==&mid=2247485072&idx=1&sn=e1acf7aad9cc66fddadec62cb3eafb62&chksm=97851fb1a0f296a75bcaa87442f254304a49239dd64bc93fcdfe6974f1cf11d15c403aa5ed26#rd>
- [x] " ä¸€ç¯‡å°±å¤Ÿ " ç³»åˆ—ï¼šAndroid Emoji è¡¨æƒ…åˆ†äº«å’Œå®è·µ<br /><https://juejin.cn/post/6966858553583730718>
