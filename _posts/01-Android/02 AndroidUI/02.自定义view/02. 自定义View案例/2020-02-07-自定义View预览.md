---
date_created: Friday, February 7th 2020, 3:33:09 pm
date_updated: Friday, February 7th 2025, 3:54:55 pm
title: 自定义View预览
author: hacket
categories:
  - AndroidUI
category: 自定义View
tags: [自定义View]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
image-auto-upload: true
feed: show
format: list
aliases: [自定义 View 预览]
linter-yaml-title-alias: 自定义 View 预览
---

# 自定义 View 预览

## isInEditMode

**RecyclerView：**

```java
private void createLayoutManager(Context context, String className, AttributeSet attrs,  
        int defStyleAttr, int defStyleRes) {  
    if (className != null) {  
        className = className.trim();  
        if (!className.isEmpty()) {  
            className = getFullClassName(context, className);  
            try {  
                ClassLoader classLoader;  
                if (isInEditMode()) {  
                    // Stupid layoutlib cannot handle simple class loaders.  
                    classLoader = this.getClass().getClassLoader();  
                } else {  
                    classLoader = context.getClassLoader();  
                }  
                Class<? extends LayoutManager> layoutManagerClass =  
                        Class.forName(className, false, classLoader)  
                                .asSubclass(LayoutManager.class);  
                Constructor<? extends LayoutManager> constructor;  
                Object[] constructorArgs = null;  
                try {  
                    constructor = layoutManagerClass  
                            .getConstructor(LAYOUT_MANAGER_CONSTRUCTOR_SIGNATURE);  
                    constructorArgs = new Object[]{context, attrs, defStyleAttr, defStyleRes};  
                } catch (NoSuchMethodException e) {  
                    try {  
                        constructor = layoutManagerClass.getConstructor();  
                    } catch (NoSuchMethodException e1) {  
                        e1.initCause(e);  
                        throw new IllegalStateException(attrs.getPositionDescription()  
                                + ": Error creating LayoutManager " + className, e1);  
                    }  
                }  
                constructor.setAccessible(true);  
                setLayoutManager(constructor.newInstance(constructorArgs));  
            } catch (ClassNotFoundException e) {  
            // ... 
        }  
    }  
}
```
