---
date_created: Sunday, April 28th 2024, 11:08:54 pm
date_updated: Thursday, January 30th 2025, 10:17:18 am
title: 03.Pixel 3XL刷机、Root
author: hacket
categories:
  - Android进阶
category: 玩机
tags: [Root, 刷机, 玩机]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
image-auto-upload: true
feed: show
format: list
date created: 2024-12-24 00:40
date updated: 2024-12-24 00:40
aliases: [Pixel3XL 刷机和 ROOT]
linter-yaml-title-alias: Pixel3XL 刷机和 ROOT
---

# Pixel3XL 刷机和 ROOT

## 刷机和 root 的准备

### 手机解锁了 Bootloader

1. 从你的设备中删除 Google 帐户和任何类型的屏幕锁定（指纹，PIN 码，图案等）。
2. 从设备中弹出 SIM 卡。
3. 重置设备。在设置向导中，跳过所有内容，不要连接到 WiFi，不要添加指纹或任何类型的屏幕锁定。
4. 转到开发人员选项并启用 USB 调试。
5. 将手机连接到 PC。
6. 在 adb 目录中打开 CMD 并输入: `adb shell pm uninstall --user 0 com.android.phone`
7. 重新启动设备。
8. 连接到 WiFi，打开 Chrome，然后转到 google.com（或任何网站）。
9. 转到开发人员选项并启用 OEM 解锁。
10. 重新启动进入引导程序并通过 CMD 运行 fastboot oem unlock 或是 fastboot flashing unlock

```
adb reboot bootloader
fastboot flashing unlock
#【注意：解锁BL会重置手机】
```

### Pixel 系列手机官方 rom

<https://developers.google.cn/android/images>

### 下载 ADB

<https://developer.android.google.cn/studio/releases/platform-tools.html>

### 下载 Google USB 驱动程序 (windows 需要，mac/linux 不需要)

<https://developer.android.google.cn/studio/run/win-usb>

## Pixel3XL 刷机和 ROOT

### 不擦除数据刷机

#### 1. 从官网下载 images

<https://developers.google.cn/android/images>

#### 2. 得到 zip 包的更新包，解压

#### 3. 修改 `flash-all.sh` 或 `flash-all.bat` 文件，刷机不覆盖数据

不修改这个文件的话，你安装的更新就会完全擦除手机的数据，你所有 app，照片等全没了，除非你想重置手机<br />删掉 "-w"

![a2az8](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/a2az8.png)

#### 4. 手机打开开发者选项，允许 usb 调试

#### 5. 重启手机到 bootloader

> adb reboot bootloader

> 另一种方法是将手机用 usb 连接前同样打开 usb 调试，关机，然后按住音量下键开机，也可以进入 bootloader，进入后用 usb 线连接电脑

#### 6. 手机进入 bootloader，并用 usb 连接电脑了，再回到刚才的文件夹。双击 flash-all 的批处理文件，等待更新，即可完成更新，完成更新后重新开机，手机保留数据

```
// 大概需要个2~3min
.flash-all.sh
```

> 更新完，root 会被破坏，须重新刷 magisk。这是需要解除手机的锁屏，设置为 " 无 "，这样连指纹都会删除掉，不然进入 twrp 会出现乱码。预先将刷 magisk 的 zip 文件放到手机存储内，记住路径

![ikww1](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/ikww1.png)

### Piexl 3XL root(前提，先解锁 BL)

#### 1、下载 images 线刷固件 image

<https://developers.google.cn/android/images#crosshatch>

#### 2、用 magisk 修补 boot.img

1. 解压 zip 文件，并在里面中找到名为 `boot.img` 的文件

> 解压 crosshatch-rq2a.210505.002-factory-796587ee.zip，再解压 image-crosshatch-rq2a.210505.002.zip

![hglvh](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/hglvh.png)

2. 下载 Magisk，安装<br /><https://github.com/topjohnwu/Magisk/releases>
3. 然后把 boot.img 给复制到手机的任意目录里，完成之后打开 `Magisk Manager` 下载并安装至手机，然后把更新通道改为 Canary（如果没有，就改为测试版）

```
adb push boot.img /sdcard/Download/
```

![tb1e4](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/tb1e4.png)

4. 安装界面选择选择修补文件

![x9uz6](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/x9uz6.png)

5. 选择后点击开始（选择你放入的 boot.img）等它修补完成后会把修补好的 img 放入/Download 文件夹，在里面找到 magisk_patched.img 并把它移动到电脑中的 adb 文件夹。

```shell
adb pull /sdcard/Download/magisk_patched_wLtVr.img ~/downloads/pixel3xl/magisk_patched_wLtVr.img
# adb pull /sdcard/Download/ ./
```

#### 3、root(打开开发者选项，USB 调试)

```
adb reboot bootloader
fastboot flash boot magisk_patched_wLtVr.img
```

![jfazz](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/jfazz.png)<br />

重启手机，打开 Magisk，可能还需要你做一些设置，需要重启<br />

打开 Magisk 查看状态，Ramdisk: 是<br />

![7culh](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/7culh.png)

#### 4、电信解锁（如果需要）

<https://blog.csdn.net/Ender_Zhao/article/details/108659911>

## Ref

- [x] <https://developer.android.google.cn/studio/releases/platform-tools.html>
- [x] <https://developers.google.cn/android/images>
- [x] [Android 11 Pixel 3XL Root教程](https://blog.csdn.net/Ender_Zhao/article/details/108615512)
- [x] <https://github.com/topjohnwu/magisk_files>

- image_manager.apk.zip
![[image_manager.apk.zip]]
