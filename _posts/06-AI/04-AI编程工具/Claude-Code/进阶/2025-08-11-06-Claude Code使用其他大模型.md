---
banner: 
date_created: Monday, August 11th 2025, 1:43:16 am
date_updated: Saturday, October 18th 2025, 12:55:01 am
title: Claude Code使用其他大模型
author: hacket
categories:
  - AI
category: ClaudeCode
tags: [AI, ClaudeCode, VibeCoding]
toc: true
description: 
dg-publish: true
dg-enable-search: true
dg-show-local-graph: true
dg-show-toc: true
dg-show-file-tree: true
image-auto-upload: true
feed: show
format: list
aliases: [Claude Code 使用其他大模型]
linter-yaml-title-alias: Claude Code 使用其他大模型
---

# Claude Code 使用其他大模型

## qwen 3

在 Claude Code 中使用百炼提供的 `Qwen3-Coder-Plus` 模型，只需配置以下两个环境变量：

- **ANTHROPIC_BASE_URL**：设置为 `https://dashscope.aliyuncs.com/api/v2/apps/claude-code-proxy`
- **ANTHROPIC_AUTH_TOKEN**：设置为 [阿里云百炼API Key](https://help.aliyun.com/zh/model-studio/get-api-key) 或 [大模型服务平台百炼控制台](https://bailian.console.aliyun.com/?spm=a2c4g.11186623.0.0.6939338fG1E0eY&tab=model#/api-key)
- **ANTHROPIC_MODEL** 模型名称：替换为百炼支持的模型名称（例如 `qwen-plus`），详情请参考 [支持的模型](https://help.aliyun.com/zh/model-studio/claude-code?spm=a2c4g.11186623.0.i2#f79413d81571q)。

```shell
export ANTHROPIC_MODEL="qwen-plus"
export ANTHROPIC_SMALL_FAST_MODEL="qwen-flash"
```

**注意：**
1. Claude Code 无法使用 [Qwen Code 每日 2000 次免费额度](https://help.aliyun.com/zh/model-studio/qwen-code#44be39e126jlw)。

参考：

- [在Claude Code中配置使用qwen3-coder-plus模型](https://help.aliyun.com/zh/model-studio/claude-code?spm=a2c4g.11186623.0.i2#f79413d81571q)
- [claudeCode使用免费qwen3 coder](https://mp.weixin.qq.com/s/cp9owfvI1ti1Qs3HfnZ0vg)

## GLM 智谱清言

选海外版本

### 申请 API Key

打开智谱大模型开放平台 BigMoModel： <https://bigmodel.cn/usercenter/proj-mgmt/apikeys>

在「个人中心」-「项目管理」-「API keys」下，点「添加新的 API Key」，然后复制 API key。

### 配置环境变量

- Windows 配置在环境变量中
- Mac/Linux，配置的 `~/.zshrc` 或 `~/.bashrc`

```shell
export ANTHROPIC_BASE_URL=https://open.bigmodel.cn/api/anthropic
export ANTHROPIC_AUTH_TOKEN="刚才复制的 API Key"
```

### 验证

输入 claude 命令，看到 API Base URL 如下图，说明可以开始用 GLM-4.5 干活了。

![image.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/20250812003958841.png)

**看是否生效，查看费用明细：**
<https://bigmodel.cn/finance/expensebill/list>

**注意：** 看模型是 haiku，这不影响

## Deepseek

据说也会推出兼容 Claude Code 的 API

## kimi-2

<https://platform.moonshot.cn/console>

> 强烈建议充值 50 元及以上，因为他们家的模型有一个调用速率的等级限制，充值 50 元才能达到一个正常的速率，不然没法用。

### 手动

```shell
# Mac
export ANTHROPIC_AUTH_TOKEN=sk-your-token
export ANTHROPIC_BASE_URL=https://api.moonshot.cn/anthropic
export ANTHROPIC_SMALL_FAST_MODEL=kimi-k2-turbo-preview
export ANTHROPIC_MODEL=kimi-k2-turbo-preview

# Windows
set ANTHROPIC_AUTH_TOKEN=sk-your-token
set ANTHROPIC_BASE_URL=https://api.moonshot.cn/anthropic
set ANTHROPIC_SMALL_FAST_MODEL=kimi-k2-turbo-preview
set ANTHROPIC_MODEL=kimi-k2-turbo-preview
```

也可以修改 `~/.claude/settings.json` 里面的参数

### 通过开源项目

- 申请 API Key <https://platform.moonshot.cn/console/api-keys>
- 执行脚本配置 Kimi K2 模型
执行这个开源项目的脚本：[https://github.com/LLM-Red-Team/kimi-cc](https://link.zhihu.com/?target=https%3A//github.com/LLM-Red-Team/kimi-cc)，通过脚本自动配置 Claude Code 使用 `Kimi K2` 模型。
- 关闭并重新启动终端
如果你是使用 Cursor、Windsurf 或者 VS Code 的终端安装 Claude Code，那就完全退出对应软件。

```shell
source ~/.zshrc
```

- 验证

```shell
claude
```

出现 Api key 和 Api Base Url 是 Kimi K2 相关的就通过了：

![image.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian-ubuntu/20250826085423059.png)

## 魔塔 ModelScope

## Cline

搭配 Cline 插件一起使用。目前 Cline 在 API Provider 中新增了 Claude Code 选项，你选择后添加 Claude Code CLI 路径即可。

查找 Claude Code CLI 路径的令也很简单，你可以在终端中使用以下命令之一：

```shell
which claude # macOS/Linux
where claude # Windows
```

![image.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian-ubuntu/20250828085948973.png)

## 切换模型

### cc-switch 界面切换

<https://github.com/farion1231/cc-switch>

![PixPin_2025-10-18_00-53-48.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202510180053208.png)

像 AnyRouter、AgentRouter 这种，选择自定义：

![PixPin_2025-10-18_00-54-13.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/obsidian/202510180054853.png)

### 命令行切换模型

#### Mac/Linux 版本

![image.png](https://raw.githubusercontent.com/hacket/ObsidianOSS/master/prompts/202509102348246.png)

```shell
#!/bin/bash
# ==============================================================
# Claude / Qwen / Codex 多模型 Switcher Shell（function版）
# 支持：
#   - Codex
#   - Claude 原生
#   - Kimi Claude
#   - DeepSeek Claude
#   - Qwen（通义千问）
#   - Qwen Claude Code（阿里云调用）
# ==============================================================

# ====== 配置 API Key（请提前设置） ======
# Kimi Claude API Key 获取地址: https://moonshot.cn
# DeepSeek Claude API Key 获取地址: https://platform.deepseek.com
# Qwen API Key 获取地址: https://dashscope.aliyun.com
export kimi_api_key="你的Kimi_API_Key"
export deepseek_api_key="你的DeepSeek_API_Key"
export qwen_code_key="你的Qwen_Code_API_Key"  # 阿里云DashScope API Key

# ====== Codex ======
function codex_yolo() {
    echo "🔹 使用 Codex YOLO 模型"
    codex --yolo "$@"
}

function codex_high() {
    echo "🔹 使用 Codex GPT-5 high reasoning 模型"
    codex -m gpt-5 -c model_reasoning_effort="high" --yolo "$@"
}

# ====== Claude 原生 ======
function cc() {
    echo "🔹 使用 Claude 默认模型 (API: https://www.anthropic.com/api)"
    claude "$@"
}

function cc_yolo() {
    echo "🔹 使用 Claude YOLO 模型"
    claude --dangerously-skip-permissions "$@"
}

function cc_yolo_high() {
    echo "🔹 使用 Claude Opus YOLO 模型"
    claude --dangerously-skip-permissions --model opus "$@"
}

# ====== Kimi Claude ======
function kimi() {
    echo "🔹 使用 Kimi Claude (API获取: https://moonshot.cn)"
    export ANTHROPIC_BASE_URL="https://api.moonshot.cn/anthropic"
    export ANTHROPIC_AUTH_TOKEN="${kimi_api_key}"
    claude "$@"
}

function kimi_yolo() {
    echo "🔹 使用 Kimi Claude YOLO"
    kimi --dangerously-skip-permissions "$@"
}

# ====== DeepSeek Claude ======
function deepseek() {
    echo "🔹 使用 DeepSeek Claude (API获取: https://platform.deepseek.com)"
    export ANTHROPIC_BASE_URL="https://api.deepseek.com/anthropic"
    export ANTHROPIC_AUTH_TOKEN="${deepseek_api_key}"
    export API_TIMEOUT_MS=600000
    export ANTHROPIC_MODEL="deepseek-chat"
    export ANTHROPIC_SMALL_FAST_MODEL="deepseek-chat"
    claude "$@"
}

function deepseek_yolo() {
    echo "🔹 使用 DeepSeek Claude YOLO"
    deepseek --dangerously-skip-permissions "$@"
}

# ====== Qwen 原生 ======
function qwen() {
    echo "🔹 使用 Qwen (通义千问) (API获取: https://dashscope.aliyun.com)"
    export QWEN_BASE_URL="https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generate"
    export QWEN_AUTH_TOKEN="${qwen_code_key}"
    curl -s "$QWEN_BASE_URL" \
        -H "Authorization: Bearer ${QWEN_AUTH_TOKEN}" \
        -H "Content-Type: application/json" \
        -d "{
            \"model\": \"qwen-max\",
            \"input\": \"$*\"
        }"
}

function qwen_yolo() {
    echo "🔹 使用 Qwen YOLO"
    qwen --dangerously-skip-permissions "$@"
}

# ====== Qwen Claude Code（阿里云版） ======
function qwen_claude() {
    echo "🔹 使用 Qwen Claude Code (API获取: https://dashscope.aliyun.com)"
    export QWEN_BASE_URL="https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generate"
    export QWEN_AUTH_TOKEN="${qwen_code_key}"
    curl -s "$QWEN_BASE_URL" \
        -H "Authorization: Bearer ${QWEN_AUTH_TOKEN}" \
        -H "Content-Type: application/json" \
        -d "{
            \"model\": \"claude-code\",
            \"input\": \"$*\"
        }"
}

function qwen_claude_yolo() {
    echo "🔹 使用 Qwen Claude Code YOLO"
    qwen_claude --dangerously-skip-permissions "$@"
}

# ====== 交互式选择菜单 ======
function claude_switch() {
    echo "=== Claude / Qwen / Codex Switcher ==="
    echo "1) Claude 默认"
    echo "2) Claude YOLO"
    echo "3) Claude Opus YOLO"
    echo "4) Kimi Claude"
    echo "5) Kimi YOLO"
    echo "6) DeepSeek Claude"
    echo "7) DeepSeek YOLO"
    echo "8) Qwen"
    echo "9) Qwen YOLO"
    echo "10) Qwen Claude Code"
    echo "11) Qwen Claude Code YOLO"
    echo "12) Codex YOLO"
    echo "13) Codex GPT-5 high reasoning"
    read -p "选择模型编号: " choice
    case $choice in
        1) cc "$@" ;;
        2) cc_yolo "$@" ;;
        3) cc_yolo_high "$@" ;;
        4) kimi "$@" ;;
        5) kimi_yolo "$@" ;;
        6) deepseek "$@" ;;
        7) deepseek_yolo "$@" ;;
        8) qwen "$@" ;;
        9) qwen_yolo "$@" ;;
        10) qwen_claude "$@" ;;
        11) qwen_claude_yolo "$@" ;;
        12) codex_yolo "$@" ;;
        13) codex_high "$@" ;;
        *) echo "❌ 无效选择" ;;
    esac
}
# ==============================================================
```

使用：

```shell
命令行使用方式：
# codex
codex_yolo
codex_high
# claude code
cc
cc -p
cc_yolo
cc_yolo_high
# kimi
kimi
kimi -p
kimi --dangerously-skip-permissions
# deepseek
deepseek
deepseek -p
deepseek --dangerously-skip-permissions
```

> 注意：默认情况下 cc 是 c++ 编译命令
$1 只能传第一个参数，改成 $@ 更通用

- Instantly switch AI provider environment profiles in your shell.
<https://github.com/Cactusinhand/ai-switch>

#### Windows 版本

```shell
Write-Host "cc.ps1 start work"

# ================== API Key 配置 ==================
# Kimi Claude API Key 获取地址: https://moonshot.cn
# DeepSeek Claude API Key 获取地址: https://platform.deepseek.com
# Qwen Claude Code API Key 获取地址: https://dashscope.aliyun.com
$env:kimi_api_key = "你的Kimi_API_Key"
$env:deepseek_api_key = "你的DeepSeek_API_Key"
$env:qwen_code_key = "sk-435da9f83eba48c98533e1e1ee971fff"

# ================== alias（PowerShell用Set-Alias） ==================
Set-Alias codex_yolo "codex --yolo"
Set-Alias codex_high "codex -m gpt-5 -c model_reasoning_effort='high' --yolo"

Set-Alias cc "claude"
Set-Alias cc_yolo "claude --dangerously-skip-permissions"
Set-Alias cc_yolo_high "claude --dangerously-skip-permissions --model opus"

# ================== 函数封装 ==================
function kimi {
    param($prompt, $yolo)
    Write-Host "🔹 使用 Kimi Claude (API获取: https://moonshot.cn) $yolo"
    $env:ANTHROPIC_BASE_URL = "https://api.moonshot.cn/anthropic"
    $env:ANTHROPIC_AUTH_TOKEN = $env:kimi_api_key
    if ($yolo -eq "yolo") {
        & claude --dangerously-skip-permissions $prompt
    } else {
        & claude $prompt
    }
}

function deepseek {
    param($prompt, $yolo)
    Write-Host "🔹 使用 DeepSeek Claude (API获取: https://platform.deepseek.com) $yolo"
    $env:ANTHROPIC_BASE_URL = "https://api.deepseek.com/anthropic"
    $env:ANTHROPIC_AUTH_TOKEN = $env:deepseek_api_key
    $env:API_TIMEOUT_MS = "600000"
    $env:ANTHROPIC_MODEL = "deepseek-chat"
    $env:ANTHROPIC_SMALL_FAST_MODEL = "deepseek-chat"
    if ($yolo -eq "yolo") {
        & claude --dangerously-skip-permissions $prompt
    } else {
        & claude $prompt
    }
}

function qwen_claude {
    param($prompt, $yolo)
    Write-Host "🔹 使用 Qwen Claude Code (API获取: https://dashscope.aliyun.com) $yolo"
    $env:ANTHROPIC_BASE_URL = "https://dashscope.aliyuncs.com/apps/anthropic"
    $env:ANTHROPIC_AUTH_TOKEN = $env:qwen_code_key
    $env:ANTHROPIC_MODEL = "qwen3-max"
    $env:ANTHROPIC_SMALL_FAST_MODEL = "qwen3-max"
    if ($yolo -eq "yolo") {
        & claude --dangerously-skip-permissions $prompt
    } else {
        & claude $prompt
    }
}

# ==================菜单选择==================
function claude_switch {
    Write-Host "=== Claude / Qwen / Codex Switcher ==="
    Write-Host "1) Claude 默认 (alias cc)"
    Write-Host "2) Claude YOLO (alias cc_yolo)"
    Write-Host "3) Claude Opus YOLO (alias cc_yolo_high)"
    Write-Host "4) Kimi Claude"
    Write-Host "5) Kimi YOLO"
    Write-Host "6) DeepSeek Claude"
    Write-Host "7) DeepSeek YOLO"
    Write-Host "8) Qwen Claude Code"
    Write-Host "9) Qwen Claude Code YOLO"
    Write-Host "10) Codex YOLO (alias codex_yolo)"
    Write-Host "11) Codex GPT-5 high reasoning (alias codex_high)"
    $choice = Read-Host "选择模型编号"
    $prompt = Read-Host "输入你的内容"

    switch ($choice) {
        1 { cc $prompt }
        2 { cc_yolo $prompt }
        3 { cc_yolo_high $prompt }
        4 { kimi $prompt }
        5 { kimi $prompt "yolo" }
        6 { deepseek $prompt }
        7 { deepseek $prompt "yolo" }
        8 { qwen_claude $prompt }
        9 { qwen_claude $prompt "yolo" }
        10 { codex_yolo $prompt }
        11 { codex_high $prompt }
        default { Write-Host "❌ 无效选择" }
    }
}


# 执行菜单函数
## Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
## . .\cc_switch.ps1
```
